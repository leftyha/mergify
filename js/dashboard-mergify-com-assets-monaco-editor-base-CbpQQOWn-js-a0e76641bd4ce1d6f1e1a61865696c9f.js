var pf=Object.defineProperty;var mf=(s,e,t)=>e in s?pf(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Ne=(s,e,t)=>mf(s,typeof e!="symbol"?e+"":e,t);(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};s.SENTRY_RELEASE={id:"1a852bb1435e099912e47361ac6ea11c1a9da234"}}catch{}})();try{(function(){var s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},e=new s.Error().stack;e&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[e]="96415d11-731d-415d-8cea-b604135aab80",s._sentryDebugIdIdentifier="sentry-dbid-96415d11-731d-415d-8cea-b604135aab80")})()}catch{}function yt(s,e=0){return s[s.length-(1+e)]}function gf(s){if(s.length===0)throw new Error("Invalid tail call");return[s.slice(0,s.length-1),s[s.length-1]]}function Fs(s,e,t=(i,n)=>i===n){if(s===e)return!0;if(!s||!e||s.length!==e.length)return!1;for(let i=0,n=s.length;i<n;i++)if(!t(s[i],e[i]))return!1;return!0}function o4(s,e){const t=s.length-1;e<t&&(s[e]=s[t]),s.pop()}function bf(s,e,t){return _f(s.length,i=>t(s[i],e))}function _f(s,e){let t=0,i=s-1;for(;t<=i;){const n=(t+i)/2|0,o=e(n);if(o<0)t=n+1;else if(o>0)i=n-1;else return n}return-(t+1)}function oh(s,e,t){if(s=s|0,s>=e.length)throw new TypeError("invalid index");const i=e[Math.floor(e.length*Math.random())],n=[],o=[],r=[];for(const l of e){const a=t(l,i);a<0?n.push(l):a>0?o.push(l):r.push(l)}return s<n.length?oh(s,n,t):s<n.length+r.length?r[0]:oh(s-(n.length+r.length),o,t)}function r4(s,e){const t=[];let i;for(const n of s.slice(0).sort(e))!i||e(i[0],n)!==0?(i=[n],t.push(i)):i.push(n);return t}function*l4(s,e){let t,i;for(const n of s)i!==void 0&&e(i,n)?t.push(n):(t&&(yield t),t=[n]),i=n;t&&(yield t)}function a4(s,e){for(let t=0;t<=s.length;t++)e(t===0?void 0:s[t-1],t===s.length?void 0:s[t])}function h4(s,e){for(let t=0;t<s.length;t++)e(t===0?void 0:s[t-1],s[t],t+1===s.length?void 0:s[t+1])}function id(s){return s.filter(e=>!!e)}function c4(s){let e=0;for(let t=0;t<s.length;t++)s[t]&&(s[e]=s[t],e+=1);s.length=e}function d4(s){return!Array.isArray(s)||s.length===0}function u4(s){return Array.isArray(s)&&s.length>0}function vo(s,e=t=>t){const t=new Set;return s.filter(i=>{const n=e(i);return t.has(n)?!1:(t.add(n),!0)})}function wf(s,e){return s.length>0?s[0]:e}function Qe(s,e){let t=typeof e=="number"?s:0;typeof e=="number"?t=s:(t=0,e=s);const i=[];if(t<=e)for(let n=t;n<e;n++)i.push(n);else for(let n=t;n>e;n--)i.push(n);return i}function f4(s,e,t){const i=s.slice(0,e),n=s.slice(e);return i.concat(t,n)}function xr(s,e){const t=s.indexOf(e);t>-1&&(s.splice(t,1),s.unshift(e))}function Hn(s,e){const t=s.indexOf(e);t>-1&&(s.splice(t,1),s.push(e))}function p4(s,e){for(const t of e)s.push(t)}function m4(s){return Array.isArray(s)?s:[s]}function yf(s,e,t){const i=nd(s,e),n=s.length,o=t.length;s.length=n+o;for(let r=n-1;r>=i;r--)s[r+o]=s[r];for(let r=0;r<o;r++)s[r+i]=t[r]}function rh(s,e,t,i){const n=nd(s,e);let o=s.splice(n,t);return o===void 0&&(o=[]),yf(s,n,i),o}function nd(s,e){return e<0?Math.max(e+s.length,0):Math.min(e,s.length)}var pn;(function(s){function e(o){return o<0}s.isLessThan=e;function t(o){return o<=0}s.isLessThanOrEqual=t;function i(o){return o>0}s.isGreaterThan=i;function n(o){return o===0}s.isNeitherLessOrGreaterThan=n,s.greaterThan=1,s.lessThan=-1,s.neitherLessOrGreaterThan=0})(pn||(pn={}));function g4(s,e){return(t,i)=>e(s(t),s(i))}function b4(...s){return(e,t)=>{for(const i of s){const n=i(e,t);if(!pn.isNeitherLessOrGreaterThan(n))return n}return pn.neitherLessOrGreaterThan}}const vf=(s,e)=>s-e,_4=(s,e)=>vf(s?1:0,e?1:0);function w4(s){return(e,t)=>-s(e,t)}class y4{constructor(e){this.items=e,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(e){let t=this.firstIdx;for(;t<this.items.length&&e(this.items[t]);)t++;const i=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,i}takeFromEndWhile(e){let t=this.lastIdx;for(;t>=0&&e(this.items[t]);)t--;const i=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,i}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const e=this.items[this.firstIdx];return this.firstIdx++,e}takeCount(e){const t=this.items.slice(this.firstIdx,this.firstIdx+e);return this.firstIdx+=e,t}}const Ei=class Ei{constructor(e){this.iterate=e}toArray(){const e=[];return this.iterate(t=>(e.push(t),!0)),e}filter(e){return new Ei(t=>this.iterate(i=>e(i)?t(i):!0))}map(e){return new Ei(t=>this.iterate(i=>t(e(i))))}findLast(e){let t;return this.iterate(i=>(e(i)&&(t=i),!0)),t}findLastMaxBy(e){let t,i=!0;return this.iterate(n=>((i||pn.isGreaterThan(e(n,t)))&&(i=!1,t=n),!0)),t}};Ei.empty=new Ei(e=>{});let lh=Ei;class ll{constructor(e){this._indexMap=e}static createSortPermutation(e,t){const i=Array.from(e.keys()).sort((n,o)=>t(e[n],e[o]));return new ll(i)}apply(e){return e.map((t,i)=>e[this._indexMap[i]])}inverse(){const e=this._indexMap.slice();for(let t=0;t<this._indexMap.length;t++)e[this._indexMap[t]]=t;return new ll(e)}}function hr(s){return typeof s=="string"}function bi(s){return typeof s=="object"&&s!==null&&!Array.isArray(s)&&!(s instanceof RegExp)&&!(s instanceof Date)}function Sf(s){const e=Object.getPrototypeOf(Uint8Array);return typeof s=="object"&&s instanceof e}function ra(s){return typeof s=="number"&&!isNaN(s)}function ah(s){return!!s&&typeof s[Symbol.iterator]=="function"}function v4(s){return s===!0||s===!1}function od(s){return typeof s>"u"}function S4(s){return!Yt(s)}function Yt(s){return od(s)||s===null}function Cf(s,e){if(!s)throw new Error(e?`Unexpected type, expected '${e}'`:"Unexpected type")}function C4(s){if(Yt(s))throw new Error("Assertion Failed: argument is undefined or null");return s}function al(s){return typeof s=="function"}function x4(s,e){const t=Math.min(s.length,e.length);for(let i=0;i<t;i++)xf(s[i],e[i])}function xf(s,e){if(hr(e)){if(typeof s!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if(al(e)){try{if(s instanceof e)return}catch{}if(!Yt(s)&&s.constructor===e||e.length===1&&e.call(void 0,s)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function Df(s){if(!s||typeof s!="object"||s instanceof RegExp)return s;const e=Array.isArray(s)?[]:{};return Object.entries(s).forEach(([t,i])=>{e[t]=i&&typeof i=="object"?Df(i):i}),e}function D4(s){if(!s||typeof s!="object")return s;const e=[s];for(;e.length>0;){const t=e.shift();Object.freeze(t);for(const i in t)if(rd.call(t,i)){const n=t[i];typeof n=="object"&&!Object.isFrozen(n)&&!Sf(n)&&e.push(n)}}return s}const rd=Object.prototype.hasOwnProperty;function Ef(s,e){return hl(s,e,new Set)}function hl(s,e,t){if(Yt(s))return s;const i=e(s);if(typeof i<"u")return i;if(Array.isArray(s)){const n=[];for(const o of s)n.push(hl(o,e,t));return n}if(bi(s)){if(t.has(s))throw new Error("Cannot clone recursive data-structure");t.add(s);const n={};for(const o in s)rd.call(s,o)&&(n[o]=hl(s[o],e,t));return t.delete(s),n}return s}function kf(s,e,t=!0){return bi(s)?(bi(e)&&Object.keys(e).forEach(i=>{i in s?t&&(bi(s[i])&&bi(e[i])?kf(s[i],e[i],t):s[i]=e[i]):s[i]=e[i]}),s):e}function jt(s,e){if(s===e)return!0;if(s==null||e===null||e===void 0||typeof s!=typeof e||typeof s!="object"||Array.isArray(s)!==Array.isArray(e))return!1;let t,i;if(Array.isArray(s)){if(s.length!==e.length)return!1;for(t=0;t<s.length;t++)if(!jt(s[t],e[t]))return!1}else{const n=[];for(i in s)n.push(i);n.sort();const o=[];for(i in e)o.push(i);if(o.sort(),!jt(n,o))return!1;for(t=0;t<n.length;t++)if(!jt(s[n[t]],e[n[t]]))return!1}return!0}function Nf(s){let e=[];for(;Object.prototype!==s;)e=e.concat(Object.getOwnPropertyNames(s)),s=Object.getPrototypeOf(s);return e}function E4(s){const e=[];for(const t of Nf(s))typeof s[t]=="function"&&e.push(t);return e}function k4(s,e){const t=n=>function(){const o=Array.prototype.slice.call(arguments,0);return e(n,o)},i={};for(const n of s)i[n]=t(n);return i}function ld(){return globalThis._VSCODE_NLS_MESSAGES}function la(){return globalThis._VSCODE_NLS_LANGUAGE}const Tf=la()==="pseudo"||typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function So(s,e){let t;return e.length===0?t=s:t=s.replace(/\{(\d+)\}/g,(i,n)=>{const o=n[0],r=e[o];let l=i;return typeof r=="string"?l=r:(typeof r=="number"||typeof r=="boolean"||r===void 0||r===null)&&(l=String(r)),l}),Tf&&(t="［"+t.replace(/[aouei]/g,"$&$&")+"］"),t}function ie(s,e,...t){return So(typeof s=="number"?ad(s,e):e,t)}function ad(s,e){var i;const t=(i=ld())==null?void 0:i[s];if(typeof t!="string"){if(typeof e=="string")return e;throw new Error(`!!! NLS MISSING: ${s} !!!`)}return t}function N4(s,e,...t){let i;typeof s=="number"?i=ad(s,e):i=e;const n=So(i,t);return{value:n,original:e===i?n:So(e,t)}}const _i="en";let Co=!1,xo=!1,so=!1,hd=!1,aa=!1,ha=!1,cd=!1,Kn,io=_i,hh=_i,Af,It;const us=globalThis;let Xe;var Jc;typeof us.vscode<"u"&&typeof us.vscode.process<"u"?Xe=us.vscode.process:typeof process<"u"&&typeof((Jc=process==null?void 0:process.versions)==null?void 0:Jc.node)=="string"&&(Xe=process);var ed;const Lf=typeof((ed=Xe==null?void 0:Xe.versions)==null?void 0:ed.electron)=="string",If=Lf&&(Xe==null?void 0:Xe.type)==="renderer";var td;if(typeof Xe=="object"){Co=Xe.platform==="win32",xo=Xe.platform==="darwin",so=Xe.platform==="linux",so&&Xe.env.SNAP&&Xe.env.SNAP_REVISION,Xe.env.CI||Xe.env.BUILD_ARTIFACTSTAGINGDIRECTORY,Kn=_i,io=_i;const s=Xe.env.VSCODE_NLS_CONFIG;if(s)try{const e=JSON.parse(s);Kn=e.userLocale,hh=e.osLocale,io=e.resolvedLanguage||_i,Af=(td=e.languagePack)==null?void 0:td.translationsConfigFile}catch{}hd=!0}else typeof navigator=="object"&&!If?(It=navigator.userAgent,Co=It.indexOf("Windows")>=0,xo=It.indexOf("Macintosh")>=0,ha=(It.indexOf("Macintosh")>=0||It.indexOf("iPad")>=0||It.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,so=It.indexOf("Linux")>=0,cd=(It==null?void 0:It.indexOf("Mobi"))>=0,aa=!0,io=la()||_i,Kn=navigator.language.toLowerCase(),hh=Kn):console.error("Unable to resolve platform.");const kt=Co,Oe=xo,Do=so,cl=hd,dd=aa,Pf=aa&&typeof us.importScripts=="function",Rf=Pf?us.origin:void 0,ca=ha,T4=cd,Jt=It,A4=io,Mf=typeof us.postMessage=="function"&&!us.importScripts,Of=(()=>{if(Mf){const s=[];us.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let i=0,n=s.length;i<n;i++){const o=s[i];if(o.id===t.data.vscodeScheduleAsyncWork){s.splice(i,1),o.callback();return}}});let e=0;return t=>{const i=++e;s.push({id:i,callback:t}),us.postMessage({vscodeScheduleAsyncWork:i},"*")}}return s=>setTimeout(s)})(),L4=xo||ha?2:Co?1:3;let ch=!0,dh=!1;function I4(){if(!dh){dh=!0;const s=new Uint8Array(2);s[0]=1,s[1]=2,ch=new Uint16Array(s.buffer)[0]===513}return ch}const Ff=!!(Jt&&Jt.indexOf("Chrome")>=0),P4=!!(Jt&&Jt.indexOf("Firefox")>=0),R4=!!(!Ff&&Jt&&Jt.indexOf("Safari")>=0),M4=!!(Jt&&Jt.indexOf("Edg/")>=0),O4=!!(Jt&&Jt.indexOf("Android")>=0);var pe;(function(s){function e(T){return T&&typeof T=="object"&&typeof T[Symbol.iterator]=="function"}s.is=e;const t=Object.freeze([]);function i(){return t}s.empty=i;function*n(T){yield T}s.single=n;function o(T){return e(T)?T:n(T)}s.wrap=o;function r(T){return T||t}s.from=r;function*l(T){for(let E=T.length-1;E>=0;E--)yield T[E]}s.reverse=l;function a(T){return!T||T[Symbol.iterator]().next().done===!0}s.isEmpty=a;function h(T){return T[Symbol.iterator]().next().value}s.first=h;function d(T,E){let I=0;for(const A of T)if(E(A,I++))return!0;return!1}s.some=d;function u(T,E){for(const I of T)if(E(I))return I}s.find=u;function*f(T,E){for(const I of T)E(I)&&(yield I)}s.filter=f;function*g(T,E){let I=0;for(const A of T)yield E(A,I++)}s.map=g;function*y(T,E){let I=0;for(const A of T)yield*E(A,I++)}s.flatMap=y;function*_(...T){for(const E of T)yield*E}s.concat=_;function D(T,E,I){let A=I;for(const k of T)A=E(A,k);return A}s.reduce=D;function*L(T,E,I=T.length){for(E<0&&(E+=T.length),I<0?I+=T.length:I>T.length&&(I=T.length);E<I;E++)yield T[E]}s.slice=L;function N(T,E=Number.POSITIVE_INFINITY){const I=[];if(E===0)return[I,T];const A=T[Symbol.iterator]();for(let k=0;k<E;k++){const q=A.next();if(q.done)return[I,s.empty()];I.push(q.value)}return[I,{[Symbol.iterator](){return A}}]}s.consume=N;async function K(T){const E=[];for await(const I of T)E.push(I);return Promise.resolve(E)}s.asyncToArray=K})(pe||(pe={}));var ds;let Me=(ds=class{constructor(e){this.element=e,this.next=ds.Undefined,this.prev=ds.Undefined}},ds.Undefined=new ds(void 0),ds);class dl{constructor(){this._first=Me.Undefined,this._last=Me.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===Me.Undefined}clear(){let e=this._first;for(;e!==Me.Undefined;){const t=e.next;e.prev=Me.Undefined,e.next=Me.Undefined,e=t}this._first=Me.Undefined,this._last=Me.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){const i=new Me(e);if(this._first===Me.Undefined)this._first=i,this._last=i;else if(t){const o=this._last;this._last=i,i.prev=o,o.next=i}else{const o=this._first;this._first=i,i.next=o,o.prev=i}this._size+=1;let n=!1;return()=>{n||(n=!0,this._remove(i))}}shift(){if(this._first!==Me.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==Me.Undefined){const e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==Me.Undefined&&e.next!==Me.Undefined){const t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===Me.Undefined&&e.next===Me.Undefined?(this._first=Me.Undefined,this._last=Me.Undefined):e.next===Me.Undefined?(this._last=this._last.prev,this._last.next=Me.Undefined):e.prev===Me.Undefined&&(this._first=this._first.next,this._first.prev=Me.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==Me.Undefined;)yield e.element,e=e.next}}class zf{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?Ii.isErrorNoTelemetry(e)?new Ii(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}emit(e){this.listeners.forEach(t=>{t(e)})}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}}const ud=new zf;function ft(s){da(s)||ud.onUnexpectedError(s)}function F4(s){da(s)||ud.onUnexpectedExternalError(s)}function uh(s){if(s instanceof Error){const{name:e,message:t}=s,i=s.stacktrace||s.stack;return{$isError:!0,name:e,message:t,stack:i,noTelemetry:Ii.isErrorNoTelemetry(s)}}return s}const Eo="Canceled";function da(s){return s instanceof zs?!0:s instanceof Error&&s.name===Eo&&s.message===Eo}class zs extends Error{constructor(){super(Eo),this.name=this.message}}function z4(){const s=new Error(Eo);return s.name=s.message,s}function fd(s){return s?new Error(`Illegal argument: ${s}`):new Error("Illegal argument")}function B4(s){return s?new Error(`Illegal state: ${s}`):new Error("Illegal state")}class H4 extends Error{constructor(e){super("NotSupported"),e&&(this.message=e)}}class Ii extends Error{constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof Ii)return e;const t=new Ii;return t.message=e.message,t.stack=e.stack,t}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}}class Bs extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,Bs.prototype)}}function pd(s,e){const t=this;let i=!1,n;return function(){return i||(i=!0,n=s.apply(t,arguments)),n}}function K4(s){return s}function $4(s){return typeof s=="object"&&s!==null&&typeof s.dispose=="function"&&s.dispose.length===0}function Ct(s){if(pe.is(s)){const e=[];for(const t of s)if(t)try{t.dispose()}catch(i){e.push(i)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(s)?[]:s}else if(s)return s.dispose(),s}function no(...s){return we(()=>Ct(s))}function we(s){return{dispose:pd(()=>{s()})}}const jo=class jo{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{Ct(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?jo.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}deleteAndLeak(e){e&&this._toDispose.has(e)&&this._toDispose.delete(e)}};jo.DISABLE_DISPOSED_WARNING=!1;let J=jo;const th=class th{constructor(){this._store=new J,this._store}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};th.None=Object.freeze({dispose(){}});let Z=th;class md{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||((t=this._value)==null||t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,(e=this._value)==null||e.dispose(),this._value=void 0}}class W4{constructor(e){this._disposable=e,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}class V4{constructor(e){this.object=e}dispose(){}}class Bf{constructor(){this._store=new Map,this._isDisposed=!1}dispose(){this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{Ct(this._store.values())}finally{this._store.clear()}}get(e){return this._store.get(e)}set(e,t,i=!1){var n;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),i||(n=this._store.get(e))==null||n.dispose(),this._store.set(e,t)}deleteAndDispose(e){var t;(t=this._store.get(e))==null||t.dispose(),this._store.delete(e)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}const Hf=globalThis.performance&&typeof globalThis.performance.now=="function";class ua{static create(e){return new ua(e)}constructor(e){this._now=Hf&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}var P;(function(s){s.None=()=>Z.None;function e(B,O){return f(B,()=>{},0,void 0,!0,void 0,O)}s.defer=e;function t(B){return(O,V=null,W)=>{let G=!1,ne;return ne=B(fe=>{if(!G)return ne?ne.dispose():G=!0,O.call(V,fe)},null,W),G&&ne.dispose(),ne}}s.once=t;function i(B,O){return s.once(s.filter(B,O))}s.onceIf=i;function n(B,O,V){return d((W,G=null,ne)=>B(fe=>W.call(G,O(fe)),null,ne),V)}s.map=n;function o(B,O,V){return d((W,G=null,ne)=>B(fe=>{O(fe),W.call(G,fe)},null,ne),V)}s.forEach=o;function r(B,O,V){return d((W,G=null,ne)=>B(fe=>O(fe)&&W.call(G,fe),null,ne),V)}s.filter=r;function l(B){return B}s.signal=l;function a(...B){return(O,V=null,W)=>{const G=no(...B.map(ne=>ne(fe=>O.call(V,fe))));return u(G,W)}}s.any=a;function h(B,O,V,W){let G=V;return n(B,ne=>(G=O(G,ne),G),W)}s.reduce=h;function d(B,O){let V;const W={onWillAddFirstListener(){V=B(G.fire,G)},onDidRemoveLastListener(){V==null||V.dispose()}},G=new M(W);return O==null||O.add(G),G.event}function u(B,O){return O instanceof Array?O.push(B):O&&O.add(B),B}function f(B,O,V=100,W=!1,G=!1,ne,fe){let Pe,de,gt,Ee=0,Et;const Le={leakWarningThreshold:ne,onWillAddFirstListener(){Pe=B(Ws=>{Ee++,de=O(de,Ws),W&&!gt&&(bt.fire(de),de=void 0),Et=()=>{const Vs=de;de=void 0,gt=void 0,(!W||Ee>1)&&bt.fire(Vs),Ee=0},typeof V=="number"?(clearTimeout(gt),gt=setTimeout(Et,V)):gt===void 0&&(gt=0,queueMicrotask(Et))})},onWillRemoveListener(){G&&Ee>0&&(Et==null||Et())},onDidRemoveLastListener(){Et=void 0,Pe.dispose()}},bt=new M(Le);return fe==null||fe.add(bt),bt.event}s.debounce=f;function g(B,O=0,V){return s.debounce(B,(W,G)=>W?(W.push(G),W):[G],O,void 0,!0,void 0,V)}s.accumulate=g;function y(B,O=(W,G)=>W===G,V){let W=!0,G;return r(B,ne=>{const fe=W||!O(ne,G);return W=!1,G=ne,fe},V)}s.latch=y;function _(B,O,V){return[s.filter(B,O,V),s.filter(B,W=>!O(W),V)]}s.split=_;function D(B,O=!1,V=[],W){let G=V.slice(),ne=B(de=>{G?G.push(de):Pe.fire(de)});W&&W.add(ne);const fe=()=>{G==null||G.forEach(de=>Pe.fire(de)),G=null},Pe=new M({onWillAddFirstListener(){ne||(ne=B(de=>Pe.fire(de)),W&&W.add(ne))},onDidAddFirstListener(){G&&(O?setTimeout(fe):fe())},onDidRemoveLastListener(){ne&&ne.dispose(),ne=null}});return W&&W.add(Pe),Pe.event}s.buffer=D;function L(B,O){return(W,G,ne)=>{const fe=O(new K);return B(function(Pe){const de=fe.evaluate(Pe);de!==N&&W.call(G,de)},void 0,ne)}}s.chain=L;const N=Symbol("HaltChainable");class K{constructor(){this.steps=[]}map(O){return this.steps.push(O),this}forEach(O){return this.steps.push(V=>(O(V),V)),this}filter(O){return this.steps.push(V=>O(V)?V:N),this}reduce(O,V){let W=V;return this.steps.push(G=>(W=O(W,G),W)),this}latch(O=(V,W)=>V===W){let V=!0,W;return this.steps.push(G=>{const ne=V||!O(G,W);return V=!1,W=G,ne?G:N}),this}evaluate(O){for(const V of this.steps)if(O=V(O),O===N)break;return O}}function T(B,O,V=W=>W){const W=(...Pe)=>fe.fire(V(...Pe)),G=()=>B.on(O,W),ne=()=>B.removeListener(O,W),fe=new M({onWillAddFirstListener:G,onDidRemoveLastListener:ne});return fe.event}s.fromNodeEventEmitter=T;function E(B,O,V=W=>W){const W=(...Pe)=>fe.fire(V(...Pe)),G=()=>B.addEventListener(O,W),ne=()=>B.removeEventListener(O,W),fe=new M({onWillAddFirstListener:G,onDidRemoveLastListener:ne});return fe.event}s.fromDOMEventEmitter=E;function I(B){return new Promise(O=>t(B)(O))}s.toPromise=I;function A(B){const O=new M;return B.then(V=>{O.fire(V)},()=>{O.fire(void 0)}).finally(()=>{O.dispose()}),O.event}s.fromPromise=A;function k(B,O){return B(V=>O.fire(V))}s.forward=k;function q(B,O,V){return O(V),B(W=>O(W))}s.runAndSubscribe=q;class be{constructor(O,V){this._observable=O,this._counter=0,this._hasChanged=!1;const W={onWillAddFirstListener:()=>{O.addObserver(this),this._observable.reportChanges()},onDidRemoveLastListener:()=>{O.removeObserver(this)}};this.emitter=new M(W),V&&V.add(this.emitter)}beginUpdate(O){this._counter++}handlePossibleChange(O){}handleChange(O,V){this._hasChanged=!0}endUpdate(O){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function ee(B,O){return new be(B,O).emitter.event}s.fromObservable=ee;function Q(B){return(O,V,W)=>{let G=0,ne=!1;const fe={beginUpdate(){G++},endUpdate(){G--,G===0&&(B.reportChanges(),ne&&(ne=!1,O.call(V)))},handlePossibleChange(){},handleChange(){ne=!0}};B.addObserver(fe),B.reportChanges();const Pe={dispose(){B.removeObserver(fe)}};return W instanceof J?W.add(Pe):Array.isArray(W)&&W.push(Pe),Pe}}s.fromObservableLight=Q})(P||(P={}));const ki=class ki{constructor(e){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${e}_${ki._idPool++}`,ki.all.add(this)}start(e){this._stopWatch=new ua,this.listenerCount=e}stop(){if(this._stopWatch){const e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}};ki.all=new Set,ki._idPool=0;let ul=ki,Kf=-1;const Xo=class Xo{constructor(e,t,i=(Xo._idPool++).toString(16).padStart(3,"0")){this._errorHandler=e,this.threshold=t,this.name=i,this._warnCountdown=0}dispose(){var e;(e=this._stacks)==null||e.clear()}check(e,t){const i=this.threshold;if(i<=0||t<i)return;this._stacks||(this._stacks=new Map);const n=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,n+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=i*.5;const[o,r]=this.getMostFrequentStack(),l=`[${this.name}] potential listener LEAK detected, having ${t} listeners already. MOST frequent listener (${r}):`;console.warn(l),console.warn(o);const a=new $f(l,o);this._errorHandler(a)}return()=>{const o=this._stacks.get(e.value)||0;this._stacks.set(e.value,o-1)}}getMostFrequentStack(){if(!this._stacks)return;let e,t=0;for(const[i,n]of this._stacks)(!e||t<n)&&(e=[i,n],t=n);return e}};Xo._idPool=1;let fl=Xo;class fa{static create(){const e=new Error;return new fa(e.stack??"")}constructor(e){this.value=e}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class $f extends Error{constructor(e,t){super(e),this.name="ListenerLeakError",this.stack=t}}class Wf extends Error{constructor(e,t){super(e),this.name="ListenerRefusalError",this.stack=t}}class Dr{constructor(e){this.value=e}}const Vf=2;class M{constructor(e){var t,i,n,o;this._size=0,this._options=e,this._leakageMon=(t=this._options)!=null&&t.leakWarningThreshold?new fl((e==null?void 0:e.onListenerError)??ft,((i=this._options)==null?void 0:i.leakWarningThreshold)??Kf):void 0,this._perfMon=(n=this._options)!=null&&n._profName?new ul(this._options._profName):void 0,this._deliveryQueue=(o=this._options)==null?void 0:o.deliveryQueue}dispose(){var e,t,i,n;this._disposed||(this._disposed=!0,((e=this._deliveryQueue)==null?void 0:e.current)===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),(i=(t=this._options)==null?void 0:t.onDidRemoveLastListener)==null||i.call(t),(n=this._leakageMon)==null||n.dispose())}get event(){return this._event??(this._event=(e,t,i)=>{var l,a,h,d,u;if(this._leakageMon&&this._size>this._leakageMon.threshold**2){const f=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(f);const g=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],y=new Wf(`${f}. HINT: Stack shows most frequent listener (${g[1]}-times)`,g[0]);return(((l=this._options)==null?void 0:l.onListenerError)||ft)(y),Z.None}if(this._disposed)return Z.None;t&&(e=e.bind(t));const n=new Dr(e);let o;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(n.stack=fa.create(),o=this._leakageMon.check(n.stack,this._size+1)),this._listeners?this._listeners instanceof Dr?(this._deliveryQueue??(this._deliveryQueue=new gd),this._listeners=[this._listeners,n]):this._listeners.push(n):((h=(a=this._options)==null?void 0:a.onWillAddFirstListener)==null||h.call(a,this),this._listeners=n,(u=(d=this._options)==null?void 0:d.onDidAddFirstListener)==null||u.call(d,this)),this._size++;const r=we(()=>{o==null||o(),this._removeListener(n)});return i instanceof J?i.add(r):Array.isArray(i)&&i.push(r),r}),this._event}_removeListener(e){var o,r,l,a;if((r=(o=this._options)==null?void 0:o.onWillRemoveListener)==null||r.call(o,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(a=(l=this._options)==null?void 0:l.onDidRemoveLastListener)==null||a.call(l,this),this._size=0;return}const t=this._listeners,i=t.indexOf(e);if(i===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,t[i]=void 0;const n=this._deliveryQueue.current===this;if(this._size*Vf<=t.length){let h=0;for(let d=0;d<t.length;d++)t[d]?t[h++]=t[d]:n&&(this._deliveryQueue.end--,h<this._deliveryQueue.i&&this._deliveryQueue.i--);t.length=h}}_deliver(e,t){var n;if(!e)return;const i=((n=this._options)==null?void 0:n.onListenerError)||ft;if(!i){e.value(t);return}try{e.value(t)}catch(o){i(o)}}_deliverQueue(e){const t=e.current._listeners;for(;e.i<e.end;)this._deliver(t[e.i++],e.value);e.reset()}fire(e){var t,i,n,o;if((t=this._deliveryQueue)!=null&&t.current&&(this._deliverQueue(this._deliveryQueue),(i=this._perfMon)==null||i.stop()),(n=this._perfMon)==null||n.start(this._size),this._listeners)if(this._listeners instanceof Dr)this._deliver(this._listeners,e);else{const r=this._deliveryQueue;r.enqueue(this,e,this._listeners.length),this._deliverQueue(r)}(o=this._perfMon)==null||o.stop()}hasListeners(){return this._size>0}}const U4=()=>new gd;class gd{constructor(){this.i=-1,this.end=0}enqueue(e,t,i){this.i=0,this.end=i,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class bd extends M{constructor(e){super(e),this._isPaused=0,this._eventQueue=new dl,this._mergeFn=e==null?void 0:e.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const e=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(e))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(e){this._size&&(this._isPaused!==0?this._eventQueue.push(e):super.fire(e))}}class q4 extends bd{constructor(e){super(e),this._delay=e.delay??100}fire(e){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(e)}}class G4 extends M{constructor(e){super(e),this._queuedEvents=[],this._mergeFn=e==null?void 0:e.merge}fire(e){this.hasListeners()&&(this._queuedEvents.push(e),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(t=>super.fire(t)),this._queuedEvents=[]}))}}class Uf{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new M({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(e){const t={event:e,listener:null};return this.events.push(t),this.hasListeners&&this.hook(t),we(pd(()=>{this.hasListeners&&this.unhook(t);const n=this.events.indexOf(t);this.events.splice(n,1)}))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(e=>this.hook(e))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(e=>this.unhook(e))}hook(e){e.listener=e.event(t=>this.emitter.fire(t))}unhook(e){var t;(t=e.listener)==null||t.dispose(),e.listener=null}dispose(){var e;this.emitter.dispose();for(const t of this.events)(e=t.listener)==null||e.dispose();this.events=[]}}class pa{constructor(){this.data=[]}wrapEvent(e,t,i){return(n,o,r)=>e(l=>{const a=this.data[this.data.length-1];if(!t){a?a.buffers.push(()=>n.call(o,l)):n.call(o,l);return}const h=a;if(!h){n.call(o,t(i,l));return}h.items??(h.items=[]),h.items.push(l),h.buffers.length===0&&a.buffers.push(()=>{h.reducedResult??(h.reducedResult=i?h.items.reduce(t,i):h.items.reduce(t)),n.call(o,h.reducedResult)})},void 0,r)}bufferEvents(e){const t={buffers:new Array};this.data.push(t);const i=e();return this.data.pop(),t.buffers.forEach(n=>n()),i}}class fh{constructor(){this.listening=!1,this.inputEvent=P.None,this.inputEventListener=Z.None,this.emitter=new M({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}const _d=Object.freeze(function(s,e){const t=setTimeout(s.bind(e),0);return{dispose(){clearTimeout(t)}}});var ko;(function(s){function e(t){return t===s.None||t===s.Cancelled||t instanceof oo?!0:!t||typeof t!="object"?!1:typeof t.isCancellationRequested=="boolean"&&typeof t.onCancellationRequested=="function"}s.isCancellationToken=e,s.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:P.None}),s.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:_d})})(ko||(ko={}));class oo{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?_d:(this._emitter||(this._emitter=new M),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class cr{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new oo),this._token}cancel(){this._token?this._token instanceof oo&&this._token.cancel():this._token=ko.Cancelled}dispose(e=!1){var t;e&&this.cancel(),(t=this._parentListener)==null||t.dispose(),this._token?this._token instanceof oo&&this._token.dispose():this._token=ko.None}}function Y4(s){const e=new cr;return s.add({dispose(){e.cancel()}}),e.token}class ma{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const ro=new ma,pl=new ma,ml=new ma,wd=new Array(230),qf=Object.create(null),Gf=Object.create(null),yd=[];for(let s=0;s<=193;s++)yd[s]=-1;(function(){const s="",e=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",s,s],[1,1,"Hyper",0,s,0,s,s,s],[1,2,"Super",0,s,0,s,s,s],[1,3,"Fn",0,s,0,s,s,s],[1,4,"FnLock",0,s,0,s,s,s],[1,5,"Suspend",0,s,0,s,s,s],[1,6,"Resume",0,s,0,s,s,s],[1,7,"Turbo",0,s,0,s,s,s],[1,8,"Sleep",0,s,0,"VK_SLEEP",s,s],[1,9,"WakeUp",0,s,0,s,s,s],[0,10,"KeyA",31,"A",65,"VK_A",s,s],[0,11,"KeyB",32,"B",66,"VK_B",s,s],[0,12,"KeyC",33,"C",67,"VK_C",s,s],[0,13,"KeyD",34,"D",68,"VK_D",s,s],[0,14,"KeyE",35,"E",69,"VK_E",s,s],[0,15,"KeyF",36,"F",70,"VK_F",s,s],[0,16,"KeyG",37,"G",71,"VK_G",s,s],[0,17,"KeyH",38,"H",72,"VK_H",s,s],[0,18,"KeyI",39,"I",73,"VK_I",s,s],[0,19,"KeyJ",40,"J",74,"VK_J",s,s],[0,20,"KeyK",41,"K",75,"VK_K",s,s],[0,21,"KeyL",42,"L",76,"VK_L",s,s],[0,22,"KeyM",43,"M",77,"VK_M",s,s],[0,23,"KeyN",44,"N",78,"VK_N",s,s],[0,24,"KeyO",45,"O",79,"VK_O",s,s],[0,25,"KeyP",46,"P",80,"VK_P",s,s],[0,26,"KeyQ",47,"Q",81,"VK_Q",s,s],[0,27,"KeyR",48,"R",82,"VK_R",s,s],[0,28,"KeyS",49,"S",83,"VK_S",s,s],[0,29,"KeyT",50,"T",84,"VK_T",s,s],[0,30,"KeyU",51,"U",85,"VK_U",s,s],[0,31,"KeyV",52,"V",86,"VK_V",s,s],[0,32,"KeyW",53,"W",87,"VK_W",s,s],[0,33,"KeyX",54,"X",88,"VK_X",s,s],[0,34,"KeyY",55,"Y",89,"VK_Y",s,s],[0,35,"KeyZ",56,"Z",90,"VK_Z",s,s],[0,36,"Digit1",22,"1",49,"VK_1",s,s],[0,37,"Digit2",23,"2",50,"VK_2",s,s],[0,38,"Digit3",24,"3",51,"VK_3",s,s],[0,39,"Digit4",25,"4",52,"VK_4",s,s],[0,40,"Digit5",26,"5",53,"VK_5",s,s],[0,41,"Digit6",27,"6",54,"VK_6",s,s],[0,42,"Digit7",28,"7",55,"VK_7",s,s],[0,43,"Digit8",29,"8",56,"VK_8",s,s],[0,44,"Digit9",30,"9",57,"VK_9",s,s],[0,45,"Digit0",21,"0",48,"VK_0",s,s],[1,46,"Enter",3,"Enter",13,"VK_RETURN",s,s],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",s,s],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",s,s],[1,49,"Tab",2,"Tab",9,"VK_TAB",s,s],[1,50,"Space",10,"Space",32,"VK_SPACE",s,s],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,s,0,s,s,s],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",s,s],[1,64,"F1",59,"F1",112,"VK_F1",s,s],[1,65,"F2",60,"F2",113,"VK_F2",s,s],[1,66,"F3",61,"F3",114,"VK_F3",s,s],[1,67,"F4",62,"F4",115,"VK_F4",s,s],[1,68,"F5",63,"F5",116,"VK_F5",s,s],[1,69,"F6",64,"F6",117,"VK_F6",s,s],[1,70,"F7",65,"F7",118,"VK_F7",s,s],[1,71,"F8",66,"F8",119,"VK_F8",s,s],[1,72,"F9",67,"F9",120,"VK_F9",s,s],[1,73,"F10",68,"F10",121,"VK_F10",s,s],[1,74,"F11",69,"F11",122,"VK_F11",s,s],[1,75,"F12",70,"F12",123,"VK_F12",s,s],[1,76,"PrintScreen",0,s,0,s,s,s],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",s,s],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",s,s],[1,79,"Insert",19,"Insert",45,"VK_INSERT",s,s],[1,80,"Home",14,"Home",36,"VK_HOME",s,s],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",s,s],[1,82,"Delete",20,"Delete",46,"VK_DELETE",s,s],[1,83,"End",13,"End",35,"VK_END",s,s],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",s,s],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",s],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",s],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",s],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",s],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",s,s],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",s,s],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",s,s],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",s,s],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",s,s],[1,94,"NumpadEnter",3,s,0,s,s,s],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",s,s],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",s,s],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",s,s],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",s,s],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",s,s],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",s,s],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",s,s],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",s,s],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",s,s],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",s,s],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",s,s],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",s,s],[1,107,"ContextMenu",58,"ContextMenu",93,s,s,s],[1,108,"Power",0,s,0,s,s,s],[1,109,"NumpadEqual",0,s,0,s,s,s],[1,110,"F13",71,"F13",124,"VK_F13",s,s],[1,111,"F14",72,"F14",125,"VK_F14",s,s],[1,112,"F15",73,"F15",126,"VK_F15",s,s],[1,113,"F16",74,"F16",127,"VK_F16",s,s],[1,114,"F17",75,"F17",128,"VK_F17",s,s],[1,115,"F18",76,"F18",129,"VK_F18",s,s],[1,116,"F19",77,"F19",130,"VK_F19",s,s],[1,117,"F20",78,"F20",131,"VK_F20",s,s],[1,118,"F21",79,"F21",132,"VK_F21",s,s],[1,119,"F22",80,"F22",133,"VK_F22",s,s],[1,120,"F23",81,"F23",134,"VK_F23",s,s],[1,121,"F24",82,"F24",135,"VK_F24",s,s],[1,122,"Open",0,s,0,s,s,s],[1,123,"Help",0,s,0,s,s,s],[1,124,"Select",0,s,0,s,s,s],[1,125,"Again",0,s,0,s,s,s],[1,126,"Undo",0,s,0,s,s,s],[1,127,"Cut",0,s,0,s,s,s],[1,128,"Copy",0,s,0,s,s,s],[1,129,"Paste",0,s,0,s,s,s],[1,130,"Find",0,s,0,s,s,s],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",s,s],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",s,s],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",s,s],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",s,s],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",s,s],[1,136,"KanaMode",0,s,0,s,s,s],[0,137,"IntlYen",0,s,0,s,s,s],[1,138,"Convert",0,s,0,s,s,s],[1,139,"NonConvert",0,s,0,s,s,s],[1,140,"Lang1",0,s,0,s,s,s],[1,141,"Lang2",0,s,0,s,s,s],[1,142,"Lang3",0,s,0,s,s,s],[1,143,"Lang4",0,s,0,s,s,s],[1,144,"Lang5",0,s,0,s,s,s],[1,145,"Abort",0,s,0,s,s,s],[1,146,"Props",0,s,0,s,s,s],[1,147,"NumpadParenLeft",0,s,0,s,s,s],[1,148,"NumpadParenRight",0,s,0,s,s,s],[1,149,"NumpadBackspace",0,s,0,s,s,s],[1,150,"NumpadMemoryStore",0,s,0,s,s,s],[1,151,"NumpadMemoryRecall",0,s,0,s,s,s],[1,152,"NumpadMemoryClear",0,s,0,s,s,s],[1,153,"NumpadMemoryAdd",0,s,0,s,s,s],[1,154,"NumpadMemorySubtract",0,s,0,s,s,s],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",s,s],[1,156,"NumpadClearEntry",0,s,0,s,s,s],[1,0,s,5,"Ctrl",17,"VK_CONTROL",s,s],[1,0,s,4,"Shift",16,"VK_SHIFT",s,s],[1,0,s,6,"Alt",18,"VK_MENU",s,s],[1,0,s,57,"Meta",91,"VK_COMMAND",s,s],[1,157,"ControlLeft",5,s,0,"VK_LCONTROL",s,s],[1,158,"ShiftLeft",4,s,0,"VK_LSHIFT",s,s],[1,159,"AltLeft",6,s,0,"VK_LMENU",s,s],[1,160,"MetaLeft",57,s,0,"VK_LWIN",s,s],[1,161,"ControlRight",5,s,0,"VK_RCONTROL",s,s],[1,162,"ShiftRight",4,s,0,"VK_RSHIFT",s,s],[1,163,"AltRight",6,s,0,"VK_RMENU",s,s],[1,164,"MetaRight",57,s,0,"VK_RWIN",s,s],[1,165,"BrightnessUp",0,s,0,s,s,s],[1,166,"BrightnessDown",0,s,0,s,s,s],[1,167,"MediaPlay",0,s,0,s,s,s],[1,168,"MediaRecord",0,s,0,s,s,s],[1,169,"MediaFastForward",0,s,0,s,s,s],[1,170,"MediaRewind",0,s,0,s,s,s],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",s,s],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",s,s],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",s,s],[1,174,"Eject",0,s,0,s,s,s],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",s,s],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",s,s],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",s,s],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",s,s],[1,179,"LaunchApp1",0,s,0,"VK_MEDIA_LAUNCH_APP1",s,s],[1,180,"SelectTask",0,s,0,s,s,s],[1,181,"LaunchScreenSaver",0,s,0,s,s,s],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",s,s],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",s,s],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",s,s],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",s,s],[1,186,"BrowserStop",0,s,0,"VK_BROWSER_STOP",s,s],[1,187,"BrowserRefresh",0,s,0,"VK_BROWSER_REFRESH",s,s],[1,188,"BrowserFavorites",0,s,0,"VK_BROWSER_FAVORITES",s,s],[1,189,"ZoomToggle",0,s,0,s,s,s],[1,190,"MailReply",0,s,0,s,s,s],[1,191,"MailForward",0,s,0,s,s,s],[1,192,"MailSend",0,s,0,s,s,s],[1,0,s,114,"KeyInComposition",229,s,s,s],[1,0,s,116,"ABNT_C2",194,"VK_ABNT_C2",s,s],[1,0,s,96,"OEM_8",223,"VK_OEM_8",s,s],[1,0,s,0,s,0,"VK_KANA",s,s],[1,0,s,0,s,0,"VK_HANGUL",s,s],[1,0,s,0,s,0,"VK_JUNJA",s,s],[1,0,s,0,s,0,"VK_FINAL",s,s],[1,0,s,0,s,0,"VK_HANJA",s,s],[1,0,s,0,s,0,"VK_KANJI",s,s],[1,0,s,0,s,0,"VK_CONVERT",s,s],[1,0,s,0,s,0,"VK_NONCONVERT",s,s],[1,0,s,0,s,0,"VK_ACCEPT",s,s],[1,0,s,0,s,0,"VK_MODECHANGE",s,s],[1,0,s,0,s,0,"VK_SELECT",s,s],[1,0,s,0,s,0,"VK_PRINT",s,s],[1,0,s,0,s,0,"VK_EXECUTE",s,s],[1,0,s,0,s,0,"VK_SNAPSHOT",s,s],[1,0,s,0,s,0,"VK_HELP",s,s],[1,0,s,0,s,0,"VK_APPS",s,s],[1,0,s,0,s,0,"VK_PROCESSKEY",s,s],[1,0,s,0,s,0,"VK_PACKET",s,s],[1,0,s,0,s,0,"VK_DBE_SBCSCHAR",s,s],[1,0,s,0,s,0,"VK_DBE_DBCSCHAR",s,s],[1,0,s,0,s,0,"VK_ATTN",s,s],[1,0,s,0,s,0,"VK_CRSEL",s,s],[1,0,s,0,s,0,"VK_EXSEL",s,s],[1,0,s,0,s,0,"VK_EREOF",s,s],[1,0,s,0,s,0,"VK_PLAY",s,s],[1,0,s,0,s,0,"VK_ZOOM",s,s],[1,0,s,0,s,0,"VK_NONAME",s,s],[1,0,s,0,s,0,"VK_PA1",s,s],[1,0,s,0,s,0,"VK_OEM_CLEAR",s,s]],t=[],i=[];for(const n of e){const[o,r,l,a,h,d,u,f,g]=n;if(i[r]||(i[r]=!0,qf[l]=r,Gf[l.toLowerCase()]=r,o&&(yd[r]=a)),!t[a]){if(t[a]=!0,!h)throw new Error(`String representation missing for key code ${a} around scan code ${l}`);ro.define(a,h),pl.define(a,f||h),ml.define(a,g||f||h)}d&&(wd[d]=a)}})();var No;(function(s){function e(l){return ro.keyCodeToStr(l)}s.toString=e;function t(l){return ro.strToKeyCode(l)}s.fromString=t;function i(l){return pl.keyCodeToStr(l)}s.toUserSettingsUS=i;function n(l){return ml.keyCodeToStr(l)}s.toUserSettingsGeneral=n;function o(l){return pl.strToKeyCode(l)||ml.strToKeyCode(l)}s.fromUserSettings=o;function r(l){if(l>=98&&l<=113)return null;switch(l){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return ro.keyCodeToStr(l)}s.toElectronAccelerator=r})(No||(No={}));function j4(s,e){const t=(e&65535)<<16>>>0;return(s|t)>>>0}var ph={};let Ai;const Er=globalThis.vscode;var sd;if(typeof Er<"u"&&typeof Er.process<"u"){const s=Er.process;Ai={get platform(){return s.platform},get arch(){return s.arch},get env(){return s.env},cwd(){return s.cwd()}}}else typeof process<"u"&&typeof((sd=process==null?void 0:process.versions)==null?void 0:sd.node)=="string"?Ai={get platform(){return process.platform},get arch(){return process.arch},get env(){return ph},cwd(){return ph.VSCODE_CWD||process.cwd()}}:Ai={get platform(){return kt?"win32":Oe?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const To=Ai.cwd,gl=Ai.env,Yf=Ai.platform,jf=65,Xf=97,Zf=90,Qf=122,Rs=46,Ye=47,at=92,xs=58,Jf=63;class vd extends Error{constructor(e,t,i){let n;typeof t=="string"&&t.indexOf("not ")===0?(n="must not be",t=t.replace(/^not /,"")):n="must be";const o=e.indexOf(".")!==-1?"property":"argument";let r=`The "${e}" ${o} ${n} of type ${t}`;r+=`. Received type ${typeof i}`,super(r),this.code="ERR_INVALID_ARG_TYPE"}}function e1(s,e){if(s===null||typeof s!="object")throw new vd(e,"Object",s)}function Fe(s,e){if(typeof s!="string")throw new vd(e,"string",s)}const bs=Yf==="win32";function re(s){return s===Ye||s===at}function bl(s){return s===Ye}function Ds(s){return s>=jf&&s<=Zf||s>=Xf&&s<=Qf}function Ao(s,e,t,i){let n="",o=0,r=-1,l=0,a=0;for(let h=0;h<=s.length;++h){if(h<s.length)a=s.charCodeAt(h);else{if(i(a))break;a=Ye}if(i(a)){if(!(r===h-1||l===1))if(l===2){if(n.length<2||o!==2||n.charCodeAt(n.length-1)!==Rs||n.charCodeAt(n.length-2)!==Rs){if(n.length>2){const d=n.lastIndexOf(t);d===-1?(n="",o=0):(n=n.slice(0,d),o=n.length-1-n.lastIndexOf(t)),r=h,l=0;continue}else if(n.length!==0){n="",o=0,r=h,l=0;continue}}e&&(n+=n.length>0?`${t}..`:"..",o=2)}else n.length>0?n+=`${t}${s.slice(r+1,h)}`:n=s.slice(r+1,h),o=h-r-1;r=h,l=0}else a===Rs&&l!==-1?++l:l=-1}return n}function t1(s){return s?`${s[0]==="."?"":"."}${s}`:""}function Sd(s,e){e1(e,"pathObject");const t=e.dir||e.root,i=e.base||`${e.name||""}${t1(e.ext)}`;return t?t===e.root?`${t}${i}`:`${t}${s}${i}`:i}const et={resolve(...s){let e="",t="",i=!1;for(let n=s.length-1;n>=-1;n--){let o;if(n>=0){if(o=s[n],Fe(o,`paths[${n}]`),o.length===0)continue}else e.length===0?o=To():(o=gl[`=${e}`]||To(),(o===void 0||o.slice(0,2).toLowerCase()!==e.toLowerCase()&&o.charCodeAt(2)===at)&&(o=`${e}\\`));const r=o.length;let l=0,a="",h=!1;const d=o.charCodeAt(0);if(r===1)re(d)&&(l=1,h=!0);else if(re(d))if(h=!0,re(o.charCodeAt(1))){let u=2,f=u;for(;u<r&&!re(o.charCodeAt(u));)u++;if(u<r&&u!==f){const g=o.slice(f,u);for(f=u;u<r&&re(o.charCodeAt(u));)u++;if(u<r&&u!==f){for(f=u;u<r&&!re(o.charCodeAt(u));)u++;(u===r||u!==f)&&(a=`\\\\${g}\\${o.slice(f,u)}`,l=u)}}}else l=1;else Ds(d)&&o.charCodeAt(1)===xs&&(a=o.slice(0,2),l=2,r>2&&re(o.charCodeAt(2))&&(h=!0,l=3));if(a.length>0)if(e.length>0){if(a.toLowerCase()!==e.toLowerCase())continue}else e=a;if(i){if(e.length>0)break}else if(t=`${o.slice(l)}\\${t}`,i=h,h&&e.length>0)break}return t=Ao(t,!i,"\\",re),i?`${e}\\${t}`:`${e}${t}`||"."},normalize(s){Fe(s,"path");const e=s.length;if(e===0)return".";let t=0,i,n=!1;const o=s.charCodeAt(0);if(e===1)return bl(o)?"\\":s;if(re(o))if(n=!0,re(s.charCodeAt(1))){let l=2,a=l;for(;l<e&&!re(s.charCodeAt(l));)l++;if(l<e&&l!==a){const h=s.slice(a,l);for(a=l;l<e&&re(s.charCodeAt(l));)l++;if(l<e&&l!==a){for(a=l;l<e&&!re(s.charCodeAt(l));)l++;if(l===e)return`\\\\${h}\\${s.slice(a)}\\`;l!==a&&(i=`\\\\${h}\\${s.slice(a,l)}`,t=l)}}}else t=1;else Ds(o)&&s.charCodeAt(1)===xs&&(i=s.slice(0,2),t=2,e>2&&re(s.charCodeAt(2))&&(n=!0,t=3));let r=t<e?Ao(s.slice(t),!n,"\\",re):"";return r.length===0&&!n&&(r="."),r.length>0&&re(s.charCodeAt(e-1))&&(r+="\\"),i===void 0?n?`\\${r}`:r:n?`${i}\\${r}`:`${i}${r}`},isAbsolute(s){Fe(s,"path");const e=s.length;if(e===0)return!1;const t=s.charCodeAt(0);return re(t)||e>2&&Ds(t)&&s.charCodeAt(1)===xs&&re(s.charCodeAt(2))},join(...s){if(s.length===0)return".";let e,t;for(let o=0;o<s.length;++o){const r=s[o];Fe(r,"path"),r.length>0&&(e===void 0?e=t=r:e+=`\\${r}`)}if(e===void 0)return".";let i=!0,n=0;if(typeof t=="string"&&re(t.charCodeAt(0))){++n;const o=t.length;o>1&&re(t.charCodeAt(1))&&(++n,o>2&&(re(t.charCodeAt(2))?++n:i=!1))}if(i){for(;n<e.length&&re(e.charCodeAt(n));)n++;n>=2&&(e=`\\${e.slice(n)}`)}return et.normalize(e)},relative(s,e){if(Fe(s,"from"),Fe(e,"to"),s===e)return"";const t=et.resolve(s),i=et.resolve(e);if(t===i||(s=t.toLowerCase(),e=i.toLowerCase(),s===e))return"";let n=0;for(;n<s.length&&s.charCodeAt(n)===at;)n++;let o=s.length;for(;o-1>n&&s.charCodeAt(o-1)===at;)o--;const r=o-n;let l=0;for(;l<e.length&&e.charCodeAt(l)===at;)l++;let a=e.length;for(;a-1>l&&e.charCodeAt(a-1)===at;)a--;const h=a-l,d=r<h?r:h;let u=-1,f=0;for(;f<d;f++){const y=s.charCodeAt(n+f);if(y!==e.charCodeAt(l+f))break;y===at&&(u=f)}if(f!==d){if(u===-1)return i}else{if(h>d){if(e.charCodeAt(l+f)===at)return i.slice(l+f+1);if(f===2)return i.slice(l+f)}r>d&&(s.charCodeAt(n+f)===at?u=f:f===2&&(u=3)),u===-1&&(u=0)}let g="";for(f=n+u+1;f<=o;++f)(f===o||s.charCodeAt(f)===at)&&(g+=g.length===0?"..":"\\..");return l+=u,g.length>0?`${g}${i.slice(l,a)}`:(i.charCodeAt(l)===at&&++l,i.slice(l,a))},toNamespacedPath(s){if(typeof s!="string"||s.length===0)return s;const e=et.resolve(s);if(e.length<=2)return s;if(e.charCodeAt(0)===at){if(e.charCodeAt(1)===at){const t=e.charCodeAt(2);if(t!==Jf&&t!==Rs)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(Ds(e.charCodeAt(0))&&e.charCodeAt(1)===xs&&e.charCodeAt(2)===at)return`\\\\?\\${e}`;return s},dirname(s){Fe(s,"path");const e=s.length;if(e===0)return".";let t=-1,i=0;const n=s.charCodeAt(0);if(e===1)return re(n)?s:".";if(re(n)){if(t=i=1,re(s.charCodeAt(1))){let l=2,a=l;for(;l<e&&!re(s.charCodeAt(l));)l++;if(l<e&&l!==a){for(a=l;l<e&&re(s.charCodeAt(l));)l++;if(l<e&&l!==a){for(a=l;l<e&&!re(s.charCodeAt(l));)l++;if(l===e)return s;l!==a&&(t=i=l+1)}}}}else Ds(n)&&s.charCodeAt(1)===xs&&(t=e>2&&re(s.charCodeAt(2))?3:2,i=t);let o=-1,r=!0;for(let l=e-1;l>=i;--l)if(re(s.charCodeAt(l))){if(!r){o=l;break}}else r=!1;if(o===-1){if(t===-1)return".";o=t}return s.slice(0,o)},basename(s,e){e!==void 0&&Fe(e,"suffix"),Fe(s,"path");let t=0,i=-1,n=!0,o;if(s.length>=2&&Ds(s.charCodeAt(0))&&s.charCodeAt(1)===xs&&(t=2),e!==void 0&&e.length>0&&e.length<=s.length){if(e===s)return"";let r=e.length-1,l=-1;for(o=s.length-1;o>=t;--o){const a=s.charCodeAt(o);if(re(a)){if(!n){t=o+1;break}}else l===-1&&(n=!1,l=o+1),r>=0&&(a===e.charCodeAt(r)?--r===-1&&(i=o):(r=-1,i=l))}return t===i?i=l:i===-1&&(i=s.length),s.slice(t,i)}for(o=s.length-1;o>=t;--o)if(re(s.charCodeAt(o))){if(!n){t=o+1;break}}else i===-1&&(n=!1,i=o+1);return i===-1?"":s.slice(t,i)},extname(s){Fe(s,"path");let e=0,t=-1,i=0,n=-1,o=!0,r=0;s.length>=2&&s.charCodeAt(1)===xs&&Ds(s.charCodeAt(0))&&(e=i=2);for(let l=s.length-1;l>=e;--l){const a=s.charCodeAt(l);if(re(a)){if(!o){i=l+1;break}continue}n===-1&&(o=!1,n=l+1),a===Rs?t===-1?t=l:r!==1&&(r=1):t!==-1&&(r=-1)}return t===-1||n===-1||r===0||r===1&&t===n-1&&t===i+1?"":s.slice(t,n)},format:Sd.bind(null,"\\"),parse(s){Fe(s,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return e;const t=s.length;let i=0,n=s.charCodeAt(0);if(t===1)return re(n)?(e.root=e.dir=s,e):(e.base=e.name=s,e);if(re(n)){if(i=1,re(s.charCodeAt(1))){let u=2,f=u;for(;u<t&&!re(s.charCodeAt(u));)u++;if(u<t&&u!==f){for(f=u;u<t&&re(s.charCodeAt(u));)u++;if(u<t&&u!==f){for(f=u;u<t&&!re(s.charCodeAt(u));)u++;u===t?i=u:u!==f&&(i=u+1)}}}}else if(Ds(n)&&s.charCodeAt(1)===xs){if(t<=2)return e.root=e.dir=s,e;if(i=2,re(s.charCodeAt(2))){if(t===3)return e.root=e.dir=s,e;i=3}}i>0&&(e.root=s.slice(0,i));let o=-1,r=i,l=-1,a=!0,h=s.length-1,d=0;for(;h>=i;--h){if(n=s.charCodeAt(h),re(n)){if(!a){r=h+1;break}continue}l===-1&&(a=!1,l=h+1),n===Rs?o===-1?o=h:d!==1&&(d=1):o!==-1&&(d=-1)}return l!==-1&&(o===-1||d===0||d===1&&o===l-1&&o===r+1?e.base=e.name=s.slice(r,l):(e.name=s.slice(r,o),e.base=s.slice(r,l),e.ext=s.slice(o,l))),r>0&&r!==i?e.dir=s.slice(0,r-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},s1=(()=>{if(bs){const s=/\\/g;return()=>{const e=To().replace(s,"/");return e.slice(e.indexOf("/"))}}return()=>To()})(),Te={resolve(...s){let e="",t=!1;for(let i=s.length-1;i>=-1&&!t;i--){const n=i>=0?s[i]:s1();Fe(n,`paths[${i}]`),n.length!==0&&(e=`${n}/${e}`,t=n.charCodeAt(0)===Ye)}return e=Ao(e,!t,"/",bl),t?`/${e}`:e.length>0?e:"."},normalize(s){if(Fe(s,"path"),s.length===0)return".";const e=s.charCodeAt(0)===Ye,t=s.charCodeAt(s.length-1)===Ye;return s=Ao(s,!e,"/",bl),s.length===0?e?"/":t?"./":".":(t&&(s+="/"),e?`/${s}`:s)},isAbsolute(s){return Fe(s,"path"),s.length>0&&s.charCodeAt(0)===Ye},join(...s){if(s.length===0)return".";let e;for(let t=0;t<s.length;++t){const i=s[t];Fe(i,"path"),i.length>0&&(e===void 0?e=i:e+=`/${i}`)}return e===void 0?".":Te.normalize(e)},relative(s,e){if(Fe(s,"from"),Fe(e,"to"),s===e||(s=Te.resolve(s),e=Te.resolve(e),s===e))return"";const t=1,i=s.length,n=i-t,o=1,r=e.length-o,l=n<r?n:r;let a=-1,h=0;for(;h<l;h++){const u=s.charCodeAt(t+h);if(u!==e.charCodeAt(o+h))break;u===Ye&&(a=h)}if(h===l)if(r>l){if(e.charCodeAt(o+h)===Ye)return e.slice(o+h+1);if(h===0)return e.slice(o+h)}else n>l&&(s.charCodeAt(t+h)===Ye?a=h:h===0&&(a=0));let d="";for(h=t+a+1;h<=i;++h)(h===i||s.charCodeAt(h)===Ye)&&(d+=d.length===0?"..":"/..");return`${d}${e.slice(o+a)}`},toNamespacedPath(s){return s},dirname(s){if(Fe(s,"path"),s.length===0)return".";const e=s.charCodeAt(0)===Ye;let t=-1,i=!0;for(let n=s.length-1;n>=1;--n)if(s.charCodeAt(n)===Ye){if(!i){t=n;break}}else i=!1;return t===-1?e?"/":".":e&&t===1?"//":s.slice(0,t)},basename(s,e){e!==void 0&&Fe(e,"ext"),Fe(s,"path");let t=0,i=-1,n=!0,o;if(e!==void 0&&e.length>0&&e.length<=s.length){if(e===s)return"";let r=e.length-1,l=-1;for(o=s.length-1;o>=0;--o){const a=s.charCodeAt(o);if(a===Ye){if(!n){t=o+1;break}}else l===-1&&(n=!1,l=o+1),r>=0&&(a===e.charCodeAt(r)?--r===-1&&(i=o):(r=-1,i=l))}return t===i?i=l:i===-1&&(i=s.length),s.slice(t,i)}for(o=s.length-1;o>=0;--o)if(s.charCodeAt(o)===Ye){if(!n){t=o+1;break}}else i===-1&&(n=!1,i=o+1);return i===-1?"":s.slice(t,i)},extname(s){Fe(s,"path");let e=-1,t=0,i=-1,n=!0,o=0;for(let r=s.length-1;r>=0;--r){const l=s.charCodeAt(r);if(l===Ye){if(!n){t=r+1;break}continue}i===-1&&(n=!1,i=r+1),l===Rs?e===-1?e=r:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||i===-1||o===0||o===1&&e===i-1&&e===t+1?"":s.slice(e,i)},format:Sd.bind(null,"/"),parse(s){Fe(s,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return e;const t=s.charCodeAt(0)===Ye;let i;t?(e.root="/",i=1):i=0;let n=-1,o=0,r=-1,l=!0,a=s.length-1,h=0;for(;a>=i;--a){const d=s.charCodeAt(a);if(d===Ye){if(!l){o=a+1;break}continue}r===-1&&(l=!1,r=a+1),d===Rs?n===-1?n=a:h!==1&&(h=1):n!==-1&&(h=-1)}if(r!==-1){const d=o===0&&t?1:o;n===-1||h===0||h===1&&n===r-1&&n===o+1?e.base=e.name=s.slice(d,r):(e.name=s.slice(d,n),e.base=s.slice(d,r),e.ext=s.slice(n,r))}return o>0?e.dir=s.slice(0,o-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};Te.win32=et.win32=et;Te.posix=et.posix=Te;const i1=bs?et.normalize:Te.normalize,n1=bs?et.join:Te.join,o1=bs?et.resolve:Te.resolve,r1=bs?et.relative:Te.relative,l1=bs?et.dirname:Te.dirname,a1=bs?et.basename:Te.basename,h1=bs?et.extname:Te.extname,Ot=bs?et.sep:Te.sep,c1=/^\w[\w\d+.-]*$/,d1=/^\//,u1=/^\/\//;function f1(s,e){if(!s.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${s.authority}", path: "${s.path}", query: "${s.query}", fragment: "${s.fragment}"}`);if(s.scheme&&!c1.test(s.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(s.path){if(s.authority){if(!d1.test(s.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(u1.test(s.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function p1(s,e){return!s&&!e?"file":s}function m1(s,e){switch(s){case"https":case"http":case"file":e?e[0]!==Rt&&(e=Rt+e):e=Rt;break}return e}const xe="",Rt="/",g1=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Ce{static isUri(e){return e instanceof Ce?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}constructor(e,t,i,n,o,r=!1){typeof e=="object"?(this.scheme=e.scheme||xe,this.authority=e.authority||xe,this.path=e.path||xe,this.query=e.query||xe,this.fragment=e.fragment||xe):(this.scheme=p1(e,r),this.authority=t||xe,this.path=m1(this.scheme,i||xe),this.query=n||xe,this.fragment=o||xe,f1(this,r))}get fsPath(){return Lo(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:i,path:n,query:o,fragment:r}=e;return t===void 0?t=this.scheme:t===null&&(t=xe),i===void 0?i=this.authority:i===null&&(i=xe),n===void 0?n=this.path:n===null&&(n=xe),o===void 0?o=this.query:o===null&&(o=xe),r===void 0?r=this.fragment:r===null&&(r=xe),t===this.scheme&&i===this.authority&&n===this.path&&o===this.query&&r===this.fragment?this:new pi(t,i,n,o,r)}static parse(e,t=!1){const i=g1.exec(e);return i?new pi(i[2]||xe,$n(i[4]||xe),$n(i[5]||xe),$n(i[7]||xe),$n(i[9]||xe),t):new pi(xe,xe,xe,xe,xe)}static file(e){let t=xe;if(kt&&(e=e.replace(/\\/g,Rt)),e[0]===Rt&&e[1]===Rt){const i=e.indexOf(Rt,2);i===-1?(t=e.substring(2),e=Rt):(t=e.substring(2,i),e=e.substring(i)||Rt)}return new pi("file",t,e,xe,xe)}static from(e,t){return new pi(e.scheme,e.authority,e.path,e.query,e.fragment,t)}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let i;return kt&&e.scheme==="file"?i=Ce.file(et.join(Lo(e,!0),...t)).path:i=Te.join(e.path,...t),e.with({path:i})}toString(e=!1){return _l(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof Ce)return e;{const t=new pi(e);return t._formatted=e.external??null,t._fsPath=e._sep===Cd?e.fsPath??null:null,t}}else return e}}const Cd=kt?1:void 0;class pi extends Ce{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=Lo(this,!1)),this._fsPath}toString(e=!1){return e?_l(this,!0):(this._formatted||(this._formatted=_l(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=Cd),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}const xd={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function mh(s,e,t){let i,n=-1;for(let o=0;o<s.length;o++){const r=s.charCodeAt(o);if(r>=97&&r<=122||r>=65&&r<=90||r>=48&&r<=57||r===45||r===46||r===95||r===126||e&&r===47||t&&r===91||t&&r===93||t&&r===58)n!==-1&&(i+=encodeURIComponent(s.substring(n,o)),n=-1),i!==void 0&&(i+=s.charAt(o));else{i===void 0&&(i=s.substr(0,o));const l=xd[r];l!==void 0?(n!==-1&&(i+=encodeURIComponent(s.substring(n,o)),n=-1),i+=l):n===-1&&(n=o)}}return n!==-1&&(i+=encodeURIComponent(s.substring(n))),i!==void 0?i:s}function b1(s){let e;for(let t=0;t<s.length;t++){const i=s.charCodeAt(t);i===35||i===63?(e===void 0&&(e=s.substr(0,t)),e+=xd[i]):e!==void 0&&(e+=s[t])}return e!==void 0?e:s}function Lo(s,e){let t;return s.authority&&s.path.length>1&&s.scheme==="file"?t=`//${s.authority}${s.path}`:s.path.charCodeAt(0)===47&&(s.path.charCodeAt(1)>=65&&s.path.charCodeAt(1)<=90||s.path.charCodeAt(1)>=97&&s.path.charCodeAt(1)<=122)&&s.path.charCodeAt(2)===58?e?t=s.path.substr(1):t=s.path[1].toLowerCase()+s.path.substr(2):t=s.path,kt&&(t=t.replace(/\//g,"\\")),t}function _l(s,e){const t=e?b1:mh;let i="",{scheme:n,authority:o,path:r,query:l,fragment:a}=s;if(n&&(i+=n,i+=":"),(o||n==="file")&&(i+=Rt,i+=Rt),o){let h=o.indexOf("@");if(h!==-1){const d=o.substr(0,h);o=o.substr(h+1),h=d.lastIndexOf(":"),h===-1?i+=t(d,!1,!1):(i+=t(d.substr(0,h),!1,!1),i+=":",i+=t(d.substr(h+1),!1,!0)),i+="@"}o=o.toLowerCase(),h=o.lastIndexOf(":"),h===-1?i+=t(o,!1,!0):(i+=t(o.substr(0,h),!1,!0),i+=o.substr(h))}if(r){if(r.length>=3&&r.charCodeAt(0)===47&&r.charCodeAt(2)===58){const h=r.charCodeAt(1);h>=65&&h<=90&&(r=`/${String.fromCharCode(h+32)}:${r.substr(3)}`)}else if(r.length>=2&&r.charCodeAt(1)===58){const h=r.charCodeAt(0);h>=65&&h<=90&&(r=`${String.fromCharCode(h+32)}:${r.substr(2)}`)}i+=t(r,!0,!1)}return l&&(i+="?",i+=t(l,!1,!1)),a&&(i+="#",i+=e?a:mh(a,!1,!1)),i}function Dd(s){try{return decodeURIComponent(s)}catch{return s.length>3?s.substr(0,3)+Dd(s.substr(3)):s}}const gh=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function $n(s){return s.match(gh)?s.replace(gh,e=>Dd(e)):s}const wl=Object.create(null);function c(s,e){if(hr(e)){const t=wl[e];if(t===void 0)throw new Error(`${s} references an unknown codicon: ${e}`);e=t}return wl[s]=e,{id:s}}function _1(){return wl}const w1={add:c("add",6e4),plus:c("plus",6e4),gistNew:c("gist-new",6e4),repoCreate:c("repo-create",6e4),lightbulb:c("lightbulb",60001),lightBulb:c("light-bulb",60001),repo:c("repo",60002),repoDelete:c("repo-delete",60002),gistFork:c("gist-fork",60003),repoForked:c("repo-forked",60003),gitPullRequest:c("git-pull-request",60004),gitPullRequestAbandoned:c("git-pull-request-abandoned",60004),recordKeys:c("record-keys",60005),keyboard:c("keyboard",60005),tag:c("tag",60006),gitPullRequestLabel:c("git-pull-request-label",60006),tagAdd:c("tag-add",60006),tagRemove:c("tag-remove",60006),person:c("person",60007),personFollow:c("person-follow",60007),personOutline:c("person-outline",60007),personFilled:c("person-filled",60007),gitBranch:c("git-branch",60008),gitBranchCreate:c("git-branch-create",60008),gitBranchDelete:c("git-branch-delete",60008),sourceControl:c("source-control",60008),mirror:c("mirror",60009),mirrorPublic:c("mirror-public",60009),star:c("star",60010),starAdd:c("star-add",60010),starDelete:c("star-delete",60010),starEmpty:c("star-empty",60010),comment:c("comment",60011),commentAdd:c("comment-add",60011),alert:c("alert",60012),warning:c("warning",60012),search:c("search",60013),searchSave:c("search-save",60013),logOut:c("log-out",60014),signOut:c("sign-out",60014),logIn:c("log-in",60015),signIn:c("sign-in",60015),eye:c("eye",60016),eyeUnwatch:c("eye-unwatch",60016),eyeWatch:c("eye-watch",60016),circleFilled:c("circle-filled",60017),primitiveDot:c("primitive-dot",60017),closeDirty:c("close-dirty",60017),debugBreakpoint:c("debug-breakpoint",60017),debugBreakpointDisabled:c("debug-breakpoint-disabled",60017),debugHint:c("debug-hint",60017),terminalDecorationSuccess:c("terminal-decoration-success",60017),primitiveSquare:c("primitive-square",60018),edit:c("edit",60019),pencil:c("pencil",60019),info:c("info",60020),issueOpened:c("issue-opened",60020),gistPrivate:c("gist-private",60021),gitForkPrivate:c("git-fork-private",60021),lock:c("lock",60021),mirrorPrivate:c("mirror-private",60021),close:c("close",60022),removeClose:c("remove-close",60022),x:c("x",60022),repoSync:c("repo-sync",60023),sync:c("sync",60023),clone:c("clone",60024),desktopDownload:c("desktop-download",60024),beaker:c("beaker",60025),microscope:c("microscope",60025),vm:c("vm",60026),deviceDesktop:c("device-desktop",60026),file:c("file",60027),fileText:c("file-text",60027),more:c("more",60028),ellipsis:c("ellipsis",60028),kebabHorizontal:c("kebab-horizontal",60028),mailReply:c("mail-reply",60029),reply:c("reply",60029),organization:c("organization",60030),organizationFilled:c("organization-filled",60030),organizationOutline:c("organization-outline",60030),newFile:c("new-file",60031),fileAdd:c("file-add",60031),newFolder:c("new-folder",60032),fileDirectoryCreate:c("file-directory-create",60032),trash:c("trash",60033),trashcan:c("trashcan",60033),history:c("history",60034),clock:c("clock",60034),folder:c("folder",60035),fileDirectory:c("file-directory",60035),symbolFolder:c("symbol-folder",60035),logoGithub:c("logo-github",60036),markGithub:c("mark-github",60036),github:c("github",60036),terminal:c("terminal",60037),console:c("console",60037),repl:c("repl",60037),zap:c("zap",60038),symbolEvent:c("symbol-event",60038),error:c("error",60039),stop:c("stop",60039),variable:c("variable",60040),symbolVariable:c("symbol-variable",60040),array:c("array",60042),symbolArray:c("symbol-array",60042),symbolModule:c("symbol-module",60043),symbolPackage:c("symbol-package",60043),symbolNamespace:c("symbol-namespace",60043),symbolObject:c("symbol-object",60043),symbolMethod:c("symbol-method",60044),symbolFunction:c("symbol-function",60044),symbolConstructor:c("symbol-constructor",60044),symbolBoolean:c("symbol-boolean",60047),symbolNull:c("symbol-null",60047),symbolNumeric:c("symbol-numeric",60048),symbolNumber:c("symbol-number",60048),symbolStructure:c("symbol-structure",60049),symbolStruct:c("symbol-struct",60049),symbolParameter:c("symbol-parameter",60050),symbolTypeParameter:c("symbol-type-parameter",60050),symbolKey:c("symbol-key",60051),symbolText:c("symbol-text",60051),symbolReference:c("symbol-reference",60052),goToFile:c("go-to-file",60052),symbolEnum:c("symbol-enum",60053),symbolValue:c("symbol-value",60053),symbolRuler:c("symbol-ruler",60054),symbolUnit:c("symbol-unit",60054),activateBreakpoints:c("activate-breakpoints",60055),archive:c("archive",60056),arrowBoth:c("arrow-both",60057),arrowDown:c("arrow-down",60058),arrowLeft:c("arrow-left",60059),arrowRight:c("arrow-right",60060),arrowSmallDown:c("arrow-small-down",60061),arrowSmallLeft:c("arrow-small-left",60062),arrowSmallRight:c("arrow-small-right",60063),arrowSmallUp:c("arrow-small-up",60064),arrowUp:c("arrow-up",60065),bell:c("bell",60066),bold:c("bold",60067),book:c("book",60068),bookmark:c("bookmark",60069),debugBreakpointConditionalUnverified:c("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:c("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:c("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:c("debug-breakpoint-data-unverified",60072),debugBreakpointData:c("debug-breakpoint-data",60073),debugBreakpointDataDisabled:c("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:c("debug-breakpoint-log-unverified",60074),debugBreakpointLog:c("debug-breakpoint-log",60075),debugBreakpointLogDisabled:c("debug-breakpoint-log-disabled",60075),briefcase:c("briefcase",60076),broadcast:c("broadcast",60077),browser:c("browser",60078),bug:c("bug",60079),calendar:c("calendar",60080),caseSensitive:c("case-sensitive",60081),check:c("check",60082),checklist:c("checklist",60083),chevronDown:c("chevron-down",60084),chevronLeft:c("chevron-left",60085),chevronRight:c("chevron-right",60086),chevronUp:c("chevron-up",60087),chromeClose:c("chrome-close",60088),chromeMaximize:c("chrome-maximize",60089),chromeMinimize:c("chrome-minimize",60090),chromeRestore:c("chrome-restore",60091),circleOutline:c("circle-outline",60092),circle:c("circle",60092),debugBreakpointUnverified:c("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:c("terminal-decoration-incomplete",60092),circleSlash:c("circle-slash",60093),circuitBoard:c("circuit-board",60094),clearAll:c("clear-all",60095),clippy:c("clippy",60096),closeAll:c("close-all",60097),cloudDownload:c("cloud-download",60098),cloudUpload:c("cloud-upload",60099),code:c("code",60100),collapseAll:c("collapse-all",60101),colorMode:c("color-mode",60102),commentDiscussion:c("comment-discussion",60103),creditCard:c("credit-card",60105),dash:c("dash",60108),dashboard:c("dashboard",60109),database:c("database",60110),debugContinue:c("debug-continue",60111),debugDisconnect:c("debug-disconnect",60112),debugPause:c("debug-pause",60113),debugRestart:c("debug-restart",60114),debugStart:c("debug-start",60115),debugStepInto:c("debug-step-into",60116),debugStepOut:c("debug-step-out",60117),debugStepOver:c("debug-step-over",60118),debugStop:c("debug-stop",60119),debug:c("debug",60120),deviceCameraVideo:c("device-camera-video",60121),deviceCamera:c("device-camera",60122),deviceMobile:c("device-mobile",60123),diffAdded:c("diff-added",60124),diffIgnored:c("diff-ignored",60125),diffModified:c("diff-modified",60126),diffRemoved:c("diff-removed",60127),diffRenamed:c("diff-renamed",60128),diff:c("diff",60129),diffSidebyside:c("diff-sidebyside",60129),discard:c("discard",60130),editorLayout:c("editor-layout",60131),emptyWindow:c("empty-window",60132),exclude:c("exclude",60133),extensions:c("extensions",60134),eyeClosed:c("eye-closed",60135),fileBinary:c("file-binary",60136),fileCode:c("file-code",60137),fileMedia:c("file-media",60138),filePdf:c("file-pdf",60139),fileSubmodule:c("file-submodule",60140),fileSymlinkDirectory:c("file-symlink-directory",60141),fileSymlinkFile:c("file-symlink-file",60142),fileZip:c("file-zip",60143),files:c("files",60144),filter:c("filter",60145),flame:c("flame",60146),foldDown:c("fold-down",60147),foldUp:c("fold-up",60148),fold:c("fold",60149),folderActive:c("folder-active",60150),folderOpened:c("folder-opened",60151),gear:c("gear",60152),gift:c("gift",60153),gistSecret:c("gist-secret",60154),gist:c("gist",60155),gitCommit:c("git-commit",60156),gitCompare:c("git-compare",60157),compareChanges:c("compare-changes",60157),gitMerge:c("git-merge",60158),githubAction:c("github-action",60159),githubAlt:c("github-alt",60160),globe:c("globe",60161),grabber:c("grabber",60162),graph:c("graph",60163),gripper:c("gripper",60164),heart:c("heart",60165),home:c("home",60166),horizontalRule:c("horizontal-rule",60167),hubot:c("hubot",60168),inbox:c("inbox",60169),issueReopened:c("issue-reopened",60171),issues:c("issues",60172),italic:c("italic",60173),jersey:c("jersey",60174),json:c("json",60175),kebabVertical:c("kebab-vertical",60176),key:c("key",60177),law:c("law",60178),lightbulbAutofix:c("lightbulb-autofix",60179),linkExternal:c("link-external",60180),link:c("link",60181),listOrdered:c("list-ordered",60182),listUnordered:c("list-unordered",60183),liveShare:c("live-share",60184),loading:c("loading",60185),location:c("location",60186),mailRead:c("mail-read",60187),mail:c("mail",60188),markdown:c("markdown",60189),megaphone:c("megaphone",60190),mention:c("mention",60191),milestone:c("milestone",60192),gitPullRequestMilestone:c("git-pull-request-milestone",60192),mortarBoard:c("mortar-board",60193),move:c("move",60194),multipleWindows:c("multiple-windows",60195),mute:c("mute",60196),noNewline:c("no-newline",60197),note:c("note",60198),octoface:c("octoface",60199),openPreview:c("open-preview",60200),package:c("package",60201),paintcan:c("paintcan",60202),pin:c("pin",60203),play:c("play",60204),run:c("run",60204),plug:c("plug",60205),preserveCase:c("preserve-case",60206),preview:c("preview",60207),project:c("project",60208),pulse:c("pulse",60209),question:c("question",60210),quote:c("quote",60211),radioTower:c("radio-tower",60212),reactions:c("reactions",60213),references:c("references",60214),refresh:c("refresh",60215),regex:c("regex",60216),remoteExplorer:c("remote-explorer",60217),remote:c("remote",60218),remove:c("remove",60219),replaceAll:c("replace-all",60220),replace:c("replace",60221),repoClone:c("repo-clone",60222),repoForcePush:c("repo-force-push",60223),repoPull:c("repo-pull",60224),repoPush:c("repo-push",60225),report:c("report",60226),requestChanges:c("request-changes",60227),rocket:c("rocket",60228),rootFolderOpened:c("root-folder-opened",60229),rootFolder:c("root-folder",60230),rss:c("rss",60231),ruby:c("ruby",60232),saveAll:c("save-all",60233),saveAs:c("save-as",60234),save:c("save",60235),screenFull:c("screen-full",60236),screenNormal:c("screen-normal",60237),searchStop:c("search-stop",60238),server:c("server",60240),settingsGear:c("settings-gear",60241),settings:c("settings",60242),shield:c("shield",60243),smiley:c("smiley",60244),sortPrecedence:c("sort-precedence",60245),splitHorizontal:c("split-horizontal",60246),splitVertical:c("split-vertical",60247),squirrel:c("squirrel",60248),starFull:c("star-full",60249),starHalf:c("star-half",60250),symbolClass:c("symbol-class",60251),symbolColor:c("symbol-color",60252),symbolConstant:c("symbol-constant",60253),symbolEnumMember:c("symbol-enum-member",60254),symbolField:c("symbol-field",60255),symbolFile:c("symbol-file",60256),symbolInterface:c("symbol-interface",60257),symbolKeyword:c("symbol-keyword",60258),symbolMisc:c("symbol-misc",60259),symbolOperator:c("symbol-operator",60260),symbolProperty:c("symbol-property",60261),wrench:c("wrench",60261),wrenchSubaction:c("wrench-subaction",60261),symbolSnippet:c("symbol-snippet",60262),tasklist:c("tasklist",60263),telescope:c("telescope",60264),textSize:c("text-size",60265),threeBars:c("three-bars",60266),thumbsdown:c("thumbsdown",60267),thumbsup:c("thumbsup",60268),tools:c("tools",60269),triangleDown:c("triangle-down",60270),triangleLeft:c("triangle-left",60271),triangleRight:c("triangle-right",60272),triangleUp:c("triangle-up",60273),twitter:c("twitter",60274),unfold:c("unfold",60275),unlock:c("unlock",60276),unmute:c("unmute",60277),unverified:c("unverified",60278),verified:c("verified",60279),versions:c("versions",60280),vmActive:c("vm-active",60281),vmOutline:c("vm-outline",60282),vmRunning:c("vm-running",60283),watch:c("watch",60284),whitespace:c("whitespace",60285),wholeWord:c("whole-word",60286),window:c("window",60287),wordWrap:c("word-wrap",60288),zoomIn:c("zoom-in",60289),zoomOut:c("zoom-out",60290),listFilter:c("list-filter",60291),listFlat:c("list-flat",60292),listSelection:c("list-selection",60293),selection:c("selection",60293),listTree:c("list-tree",60294),debugBreakpointFunctionUnverified:c("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:c("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:c("debug-breakpoint-function-disabled",60296),debugStackframeActive:c("debug-stackframe-active",60297),circleSmallFilled:c("circle-small-filled",60298),debugStackframeDot:c("debug-stackframe-dot",60298),terminalDecorationMark:c("terminal-decoration-mark",60298),debugStackframe:c("debug-stackframe",60299),debugStackframeFocused:c("debug-stackframe-focused",60299),debugBreakpointUnsupported:c("debug-breakpoint-unsupported",60300),symbolString:c("symbol-string",60301),debugReverseContinue:c("debug-reverse-continue",60302),debugStepBack:c("debug-step-back",60303),debugRestartFrame:c("debug-restart-frame",60304),debugAlt:c("debug-alt",60305),callIncoming:c("call-incoming",60306),callOutgoing:c("call-outgoing",60307),menu:c("menu",60308),expandAll:c("expand-all",60309),feedback:c("feedback",60310),gitPullRequestReviewer:c("git-pull-request-reviewer",60310),groupByRefType:c("group-by-ref-type",60311),ungroupByRefType:c("ungroup-by-ref-type",60312),account:c("account",60313),gitPullRequestAssignee:c("git-pull-request-assignee",60313),bellDot:c("bell-dot",60314),debugConsole:c("debug-console",60315),library:c("library",60316),output:c("output",60317),runAll:c("run-all",60318),syncIgnored:c("sync-ignored",60319),pinned:c("pinned",60320),githubInverted:c("github-inverted",60321),serverProcess:c("server-process",60322),serverEnvironment:c("server-environment",60323),pass:c("pass",60324),issueClosed:c("issue-closed",60324),stopCircle:c("stop-circle",60325),playCircle:c("play-circle",60326),record:c("record",60327),debugAltSmall:c("debug-alt-small",60328),vmConnect:c("vm-connect",60329),cloud:c("cloud",60330),merge:c("merge",60331),export:c("export",60332),graphLeft:c("graph-left",60333),magnet:c("magnet",60334),notebook:c("notebook",60335),redo:c("redo",60336),checkAll:c("check-all",60337),pinnedDirty:c("pinned-dirty",60338),passFilled:c("pass-filled",60339),circleLargeFilled:c("circle-large-filled",60340),circleLarge:c("circle-large",60341),circleLargeOutline:c("circle-large-outline",60341),combine:c("combine",60342),gather:c("gather",60342),table:c("table",60343),variableGroup:c("variable-group",60344),typeHierarchy:c("type-hierarchy",60345),typeHierarchySub:c("type-hierarchy-sub",60346),typeHierarchySuper:c("type-hierarchy-super",60347),gitPullRequestCreate:c("git-pull-request-create",60348),runAbove:c("run-above",60349),runBelow:c("run-below",60350),notebookTemplate:c("notebook-template",60351),debugRerun:c("debug-rerun",60352),workspaceTrusted:c("workspace-trusted",60353),workspaceUntrusted:c("workspace-untrusted",60354),workspaceUnknown:c("workspace-unknown",60355),terminalCmd:c("terminal-cmd",60356),terminalDebian:c("terminal-debian",60357),terminalLinux:c("terminal-linux",60358),terminalPowershell:c("terminal-powershell",60359),terminalTmux:c("terminal-tmux",60360),terminalUbuntu:c("terminal-ubuntu",60361),terminalBash:c("terminal-bash",60362),arrowSwap:c("arrow-swap",60363),copy:c("copy",60364),personAdd:c("person-add",60365),filterFilled:c("filter-filled",60366),wand:c("wand",60367),debugLineByLine:c("debug-line-by-line",60368),inspect:c("inspect",60369),layers:c("layers",60370),layersDot:c("layers-dot",60371),layersActive:c("layers-active",60372),compass:c("compass",60373),compassDot:c("compass-dot",60374),compassActive:c("compass-active",60375),azure:c("azure",60376),issueDraft:c("issue-draft",60377),gitPullRequestClosed:c("git-pull-request-closed",60378),gitPullRequestDraft:c("git-pull-request-draft",60379),debugAll:c("debug-all",60380),debugCoverage:c("debug-coverage",60381),runErrors:c("run-errors",60382),folderLibrary:c("folder-library",60383),debugContinueSmall:c("debug-continue-small",60384),beakerStop:c("beaker-stop",60385),graphLine:c("graph-line",60386),graphScatter:c("graph-scatter",60387),pieChart:c("pie-chart",60388),bracket:c("bracket",60175),bracketDot:c("bracket-dot",60389),bracketError:c("bracket-error",60390),lockSmall:c("lock-small",60391),azureDevops:c("azure-devops",60392),verifiedFilled:c("verified-filled",60393),newline:c("newline",60394),layout:c("layout",60395),layoutActivitybarLeft:c("layout-activitybar-left",60396),layoutActivitybarRight:c("layout-activitybar-right",60397),layoutPanelLeft:c("layout-panel-left",60398),layoutPanelCenter:c("layout-panel-center",60399),layoutPanelJustify:c("layout-panel-justify",60400),layoutPanelRight:c("layout-panel-right",60401),layoutPanel:c("layout-panel",60402),layoutSidebarLeft:c("layout-sidebar-left",60403),layoutSidebarRight:c("layout-sidebar-right",60404),layoutStatusbar:c("layout-statusbar",60405),layoutMenubar:c("layout-menubar",60406),layoutCentered:c("layout-centered",60407),target:c("target",60408),indent:c("indent",60409),recordSmall:c("record-small",60410),errorSmall:c("error-small",60411),terminalDecorationError:c("terminal-decoration-error",60411),arrowCircleDown:c("arrow-circle-down",60412),arrowCircleLeft:c("arrow-circle-left",60413),arrowCircleRight:c("arrow-circle-right",60414),arrowCircleUp:c("arrow-circle-up",60415),layoutSidebarRightOff:c("layout-sidebar-right-off",60416),layoutPanelOff:c("layout-panel-off",60417),layoutSidebarLeftOff:c("layout-sidebar-left-off",60418),blank:c("blank",60419),heartFilled:c("heart-filled",60420),map:c("map",60421),mapHorizontal:c("map-horizontal",60421),foldHorizontal:c("fold-horizontal",60421),mapFilled:c("map-filled",60422),mapHorizontalFilled:c("map-horizontal-filled",60422),foldHorizontalFilled:c("fold-horizontal-filled",60422),circleSmall:c("circle-small",60423),bellSlash:c("bell-slash",60424),bellSlashDot:c("bell-slash-dot",60425),commentUnresolved:c("comment-unresolved",60426),gitPullRequestGoToChanges:c("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:c("git-pull-request-new-changes",60428),searchFuzzy:c("search-fuzzy",60429),commentDraft:c("comment-draft",60430),send:c("send",60431),sparkle:c("sparkle",60432),insert:c("insert",60433),mic:c("mic",60434),thumbsdownFilled:c("thumbsdown-filled",60435),thumbsupFilled:c("thumbsup-filled",60436),coffee:c("coffee",60437),snake:c("snake",60438),game:c("game",60439),vr:c("vr",60440),chip:c("chip",60441),piano:c("piano",60442),music:c("music",60443),micFilled:c("mic-filled",60444),repoFetch:c("repo-fetch",60445),copilot:c("copilot",60446),lightbulbSparkle:c("lightbulb-sparkle",60447),robot:c("robot",60448),sparkleFilled:c("sparkle-filled",60449),diffSingle:c("diff-single",60450),diffMultiple:c("diff-multiple",60451),surroundWith:c("surround-with",60452),share:c("share",60453),gitStash:c("git-stash",60454),gitStashApply:c("git-stash-apply",60455),gitStashPop:c("git-stash-pop",60456),vscode:c("vscode",60457),vscodeInsiders:c("vscode-insiders",60458),codeOss:c("code-oss",60459),runCoverage:c("run-coverage",60460),runAllCoverage:c("run-all-coverage",60461),coverage:c("coverage",60462),githubProject:c("github-project",60463),mapVertical:c("map-vertical",60464),foldVertical:c("fold-vertical",60464),mapVerticalFilled:c("map-vertical-filled",60465),foldVerticalFilled:c("fold-vertical-filled",60465),goToSearch:c("go-to-search",60466),percentage:c("percentage",60467),sortPercentage:c("sort-percentage",60467),attach:c("attach",60468)},y1={dialogError:c("dialog-error","error"),dialogWarning:c("dialog-warning","warning"),dialogInfo:c("dialog-info","info"),dialogClose:c("dialog-close","close"),treeItemExpanded:c("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:c("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:c("tree-filter-on-type-off","list-selection"),treeFilterClear:c("tree-filter-clear","close"),treeItemLoading:c("tree-item-loading","loading"),menuSelection:c("menu-selection","check"),menuSubmenu:c("menu-submenu","chevron-right"),menuBarMore:c("menubar-more","more"),scrollbarButtonLeft:c("scrollbar-button-left","triangle-left"),scrollbarButtonRight:c("scrollbar-button-right","triangle-right"),scrollbarButtonUp:c("scrollbar-button-up","triangle-up"),scrollbarButtonDown:c("scrollbar-button-down","triangle-down"),toolBarMore:c("toolbar-more","more"),quickInputBack:c("quick-input-back","arrow-left"),dropDownButton:c("drop-down-button",60084),symbolCustomColor:c("symbol-customcolor",60252),exportIcon:c("export",60332),workspaceUnspecified:c("workspace-unspecified",60355),newLine:c("newline",60394),thumbsDownFilled:c("thumbsdown-filled",60435),thumbsUpFilled:c("thumbsup-filled",60436),gitFetch:c("git-fetch",60445),lightbulbSparkleAutofix:c("lightbulb-sparkle-autofix",60447),debugBreakpointPending:c("debug-breakpoint-pending",60377)},$e={...w1,...y1};function v1(s,e){const t=s;typeof t.vscodeWindowId!="number"&&Object.defineProperty(t,"vscodeWindowId",{get:()=>e})}const ze=window;function Ed(s){return s}class S1{constructor(e,t){this.lastCache=void 0,this.lastArgKey=void 0,typeof e=="function"?(this._fn=e,this._computeKey=Ed):(this._fn=t,this._computeKey=e.getCacheKey)}get(e){const t=this._computeKey(e);return this.lastArgKey!==t&&(this.lastArgKey=t,this.lastCache=this._fn(e)),this.lastCache}}class X4{get cachedValues(){return this._map}constructor(e,t){this._map=new Map,this._map2=new Map,typeof e=="function"?(this._fn=e,this._computeKey=Ed):(this._fn=t,this._computeKey=e.getCacheKey)}get(e){const t=this._computeKey(e);if(this._map2.has(t))return this._map2.get(t);const i=this._fn(e);return this._map.set(e,i),this._map2.set(t,i),i}}class Pi{constructor(e){this.executor=e,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}function Z4(s){return!s||typeof s!="string"?!0:s.trim().length===0}const C1=/{(\d+)}/g;function bh(s,...e){return e.length===0?s:s.replace(C1,function(t,i){const n=parseInt(i,10);return isNaN(n)||n<0||n>=e.length?t:e[n]})}function Q4(s){return s.replace(/[<>"'&]/g,e=>{switch(e){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return e})}function lo(s){return s.replace(/[<>&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function Io(s){return s.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function J4(s,e=" "){const t=dr(s,e);return kd(t,e)}function dr(s,e){if(!s||!e)return s;const t=e.length;if(t===0||s.length===0)return s;let i=0;for(;s.indexOf(e,i)===i;)i=i+t;return s.substring(i)}function kd(s,e){if(!s||!e)return s;const t=e.length,i=s.length;if(t===0||i===0)return s;let n=i,o=-1;for(;o=s.lastIndexOf(e,n-1),!(o===-1||o+t!==n);){if(o===0)return"";n=o}return s.substring(0,n)}function x1(s){return s.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function D1(s){return s.replace(/\*/g,"")}function e5(s,e,t={}){if(!s)throw new Error("Cannot create regex from empty string");e||(s=Io(s)),t.wholeWord&&(/\B/.test(s.charAt(0))||(s="\\b"+s),/\B/.test(s.charAt(s.length-1))||(s=s+"\\b"));let i="";return t.global&&(i+="g"),t.matchCase||(i+="i"),t.multiline&&(i+="m"),t.unicode&&(i+="u"),new RegExp(s,i)}function t5(s){return s.source==="^"||s.source==="^$"||s.source==="$"||s.source==="^\\s*$"?!1:!!(s.exec("")&&s.lastIndex===0)}function s5(s){return s.split(/\r\n|\r|\n/)}function i5(s){const e=[],t=s.split(/(\r\n|\r|\n)/);for(let i=0;i<Math.ceil(t.length/2);i++)e.push(t[2*i]+(t[2*i+1]??""));return e}function n5(s){for(let e=0,t=s.length;e<t;e++){const i=s.charCodeAt(e);if(i!==32&&i!==9)return e}return-1}function o5(s,e=0,t=s.length){for(let i=e;i<t;i++){const n=s.charCodeAt(i);if(n!==32&&n!==9)return s.substring(e,i)}return s.substring(e,t)}function r5(s,e=s.length-1){for(let t=e;t>=0;t--){const i=s.charCodeAt(t);if(i!==32&&i!==9)return t}return-1}function yl(s,e){return s<e?-1:s>e?1:0}function ga(s,e,t=0,i=s.length,n=0,o=e.length){for(;t<i&&n<o;t++,n++){const a=s.charCodeAt(t),h=e.charCodeAt(n);if(a<h)return-1;if(a>h)return 1}const r=i-t,l=o-n;return r<l?-1:r>l?1:0}function _h(s,e){return An(s,e,0,s.length,0,e.length)}function An(s,e,t=0,i=s.length,n=0,o=e.length){for(;t<i&&n<o;t++,n++){let a=s.charCodeAt(t),h=e.charCodeAt(n);if(a===h)continue;if(a>=128||h>=128)return ga(s.toLowerCase(),e.toLowerCase(),t,i,n,o);wh(a)&&(a-=32),wh(h)&&(h-=32);const d=a-h;if(d!==0)return d}const r=i-t,l=o-n;return r<l?-1:r>l?1:0}function l5(s){return s>=48&&s<=57}function wh(s){return s>=97&&s<=122}function Nd(s){return s>=65&&s<=90}function wi(s,e){return s.length===e.length&&An(s,e)===0}function ba(s,e){const t=e.length;return e.length>s.length?!1:An(s,e,0,t)===0}function a5(s,e){const t=Math.min(s.length,e.length);let i;for(i=0;i<t;i++)if(s.charCodeAt(i)!==e.charCodeAt(i))return i;return t}function h5(s,e){const t=Math.min(s.length,e.length);let i;const n=s.length-1,o=e.length-1;for(i=0;i<t;i++)if(s.charCodeAt(n-i)!==e.charCodeAt(o-i))return i;return t}function _a(s){return 55296<=s&&s<=56319}function mn(s){return 56320<=s&&s<=57343}function wa(s,e){return(s-55296<<10)+(e-56320)+65536}function E1(s,e,t){const i=s.charCodeAt(t);if(_a(i)&&t+1<e){const n=s.charCodeAt(t+1);if(mn(n))return wa(i,n)}return i}function k1(s,e){const t=s.charCodeAt(e-1);if(mn(t)&&e>1){const i=s.charCodeAt(e-2);if(_a(i))return wa(i,t)}return t}class ya{get offset(){return this._offset}constructor(e,t=0){this._str=e,this._len=e.length,this._offset=t}setOffset(e){this._offset=e}prevCodePoint(){const e=k1(this._str,this._offset);return this._offset-=e>=65536?2:1,e}nextCodePoint(){const e=E1(this._str,this._len,this._offset);return this._offset+=e>=65536?2:1,e}eol(){return this._offset>=this._len}}class Td{get offset(){return this._iterator.offset}constructor(e,t=0){this._iterator=new ya(e,t)}nextGraphemeLength(){const e=Po.getInstance(),t=this._iterator,i=t.offset;let n=e.getGraphemeBreakType(t.nextCodePoint());for(;!t.eol();){const o=t.offset,r=e.getGraphemeBreakType(t.nextCodePoint());if(yh(n,r)){t.setOffset(o);break}n=r}return t.offset-i}prevGraphemeLength(){const e=Po.getInstance(),t=this._iterator,i=t.offset;let n=e.getGraphemeBreakType(t.prevCodePoint());for(;t.offset>0;){const o=t.offset,r=e.getGraphemeBreakType(t.prevCodePoint());if(yh(r,n)){t.setOffset(o);break}n=r}return i-t.offset}eol(){return this._iterator.eol()}}function N1(s,e){return new Td(s,e).nextGraphemeLength()}function T1(s,e){return new Td(s,e).prevGraphemeLength()}function c5(s,e){e>0&&mn(s.charCodeAt(e))&&e--;const t=e+N1(s,e);return[t-T1(s,t),t]}let kr;function A1(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function d5(s){return kr||(kr=A1()),kr.test(s)}const L1=/^[\t\n\r\x20-\x7E]*$/;function u5(s){return L1.test(s)}const I1=/[\u2028\u2029]/;function f5(s){return I1.test(s)}function p5(s){return s>=11904&&s<=55215||s>=63744&&s<=64255||s>=65281&&s<=65374}function Ad(s){return s>=127462&&s<=127487||s===8986||s===8987||s===9200||s===9203||s>=9728&&s<=10175||s===11088||s===11093||s>=127744&&s<=128591||s>=128640&&s<=128764||s>=128992&&s<=129008||s>=129280&&s<=129535||s>=129648&&s<=129782}const m5="\uFEFF";function g5(s){return!!(s&&s.length>0&&s.charCodeAt(0)===65279)}function P1(s,e=!1){return s?(e&&(s=s.replace(/\\./g,"")),s.toLowerCase()!==s):!1}function b5(s){return s=s%(2*26),s<26?String.fromCharCode(97+s):String.fromCharCode(65+s-26)}function yh(s,e){return s===0?e!==5&&e!==7:s===2&&e===3?!1:s===4||s===2||s===3||e===4||e===2||e===3?!0:!(s===8&&(e===8||e===9||e===11||e===12)||(s===11||s===9)&&(e===9||e===10)||(s===12||s===10)&&e===10||e===5||e===13||e===7||s===1||s===13&&e===14||s===6&&e===6)}const si=class si{static getInstance(){return si._INSTANCE||(si._INSTANCE=new si),si._INSTANCE}constructor(){this._data=R1()}getGraphemeBreakType(e){if(e<32)return e===10?3:e===13?2:4;if(e<127)return 0;const t=this._data,i=t.length/3;let n=1;for(;n<=i;)if(e<t[3*n])n=2*n;else if(e>t[3*n+1])n=2*n+1;else return t[3*n+2];return 0}};si._INSTANCE=null;let Po=si;function R1(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function _5(s,e){if(s===0)return 0;const t=M1(s,e);if(t!==void 0)return t;const i=new ya(e,s);return i.prevCodePoint(),i.offset}function M1(s,e){const t=new ya(e,s);let i=t.prevCodePoint();for(;O1(i)||i===65039||i===8419;){if(t.offset===0)return;i=t.prevCodePoint()}if(!Ad(i))return;let n=t.offset;return n>0&&t.prevCodePoint()===8205&&(n=t.offset),n}function O1(s){return 127995<=s&&s<=127999}const w5=" ",Vt=class Vt{static getInstance(e){return Vt.cache.get(Array.from(e))}static getLocales(){return Vt._locales.value}constructor(e){this.confusableDictionary=e}isAmbiguous(e){return this.confusableDictionary.has(e)}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}};Vt.ambiguousCharacterData=new Pi(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),Vt.cache=new S1({getCacheKey:JSON.stringify},e=>{function t(d){const u=new Map;for(let f=0;f<d.length;f+=2)u.set(d[f],d[f+1]);return u}function i(d,u){const f=new Map(d);for(const[g,y]of u)f.set(g,y);return f}function n(d,u){if(!d)return u;const f=new Map;for(const[g,y]of d)u.has(g)&&f.set(g,y);return f}const o=Vt.ambiguousCharacterData.value;let r=e.filter(d=>!d.startsWith("_")&&d in o);r.length===0&&(r=["_default"]);let l;for(const d of r){const u=t(o[d]);l=n(l,u)}const a=t(o._common),h=i(a,l);return new Vt(h)}),Vt._locales=new Pi(()=>Object.keys(Vt.ambiguousCharacterData.value).filter(e=>!e.startsWith("_")));let vh=Vt;const Ni=class Ni{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(Ni.getRawData())),this._data}static isInvisibleCharacter(e){return Ni.getData().has(e)}static get codePoints(){return Ni.getData()}};Ni._data=void 0;let Sh=Ni;const Zo=class Zo{constructor(){this.mapWindowIdToZoomFactor=new Map}getZoomFactor(e){return this.mapWindowIdToZoomFactor.get(this.getWindowId(e))??1}getWindowId(e){return e.vscodeWindowId}};Zo.INSTANCE=new Zo;let vl=Zo;function F1(s,e,t){typeof e=="string"&&(e=s.matchMedia(e)),e.addEventListener("change",t)}function z1(s){return vl.INSTANCE.getZoomFactor(s)}const zi=navigator.userAgent,gn=zi.indexOf("Firefox")>=0,Ld=zi.indexOf("AppleWebKit")>=0,ur=zi.indexOf("Chrome")>=0,Id=!ur&&zi.indexOf("Safari")>=0,y5=!ur&&!Id&&Ld;zi.indexOf("Electron/")>=0;const v5=zi.indexOf("Android")>=0;let Nr=!1;if(typeof ze.matchMedia=="function"){const s=ze.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),e=ze.matchMedia("(display-mode: fullscreen)");Nr=s.matches,F1(ze,s,({matches:t})=>{Nr&&e.matches||(Nr=t)})}const Pd={clipboard:{writeText:cl||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:cl||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},pointerEvents:ze.PointerEvent&&("ontouchstart"in ze||navigator.maxTouchPoints>0)};function S5(s,e){if(typeof s=="number"){if(s===0)return null;const t=(s&65535)>>>0,i=(s&4294901760)>>>16;return i!==0?new Tr([Wn(t,e),Wn(i,e)]):new Tr([Wn(t,e)])}else{const t=[];for(let i=0;i<s.length;i++)t.push(Wn(s[i],e));return new Tr(t)}}function Wn(s,e){const t=!!(s&2048),i=!!(s&256),n=e===2?i:t,o=!!(s&1024),r=!!(s&512),l=e===2?t:i,a=s&255;return new fr(n,o,r,l,a)}class fr{constructor(e,t,i,n,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyCode=o}equals(e){return e instanceof fr&&this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class Tr{constructor(e){if(e.length===0)throw fd("chords");this.chords=e}}class C5{constructor(e,t,i,n,o,r){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyLabel=o,this.keyAriaLabel=r}}class x5{}function B1(s){if(s.charCode){const t=String.fromCharCode(s.charCode).toUpperCase();return No.fromString(t)}const e=s.keyCode;if(e===3)return 7;if(gn)switch(e){case 59:return 85;case 60:if(Do)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(Oe)return 57;break}else if(Ld){if(Oe&&e===93)return 57;if(!Oe&&e===92)return 57}return wd[e]||0}const H1=Oe?256:2048,K1=512,$1=1024,W1=Oe?2048:256;class Re{constructor(e){var i;this._standardKeyboardEventBrand=!0;const t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.altGraphKey=(i=t.getModifierState)==null?void 0:i.call(t,"AltGraph"),this.keyCode=B1(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=H1),this.altKey&&(t|=K1),this.shiftKey&&(t|=$1),this.metaKey&&(t|=W1),t|=e,t}_computeKeyCodeChord(){let e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new fr(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}const Ch=new WeakMap;function V1(s){if(!s.parent||s.parent===s)return null;try{const e=s.location,t=s.parent.location;if(e.origin!=="null"&&t.origin!=="null"&&e.origin!==t.origin)return null}catch{return null}return s.parent}class U1{static getSameOriginWindowChain(e){let t=Ch.get(e);if(!t){t=[],Ch.set(e,t);let i=e,n;do n=V1(i),n?t.push({window:new WeakRef(i),iframeElement:i.frameElement||null}):t.push({window:new WeakRef(i),iframeElement:null}),i=n;while(i)}return t.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let i=0,n=0;const o=this.getSameOriginWindowChain(e);for(const r of o){const l=r.window.deref();if(i+=(l==null?void 0:l.scrollY)??0,n+=(l==null?void 0:l.scrollX)??0,l===t||!r.iframeElement)break;const a=r.iframeElement.getBoundingClientRect();i+=a.top,n+=a.left}return{top:i,left:n}}}class As{constructor(e,t){this.timestamp=Date.now(),this.browserEvent=t,this.leftButton=t.button===0,this.middleButton=t.button===1,this.rightButton=t.button===2,this.buttons=t.buttons,this.target=t.target,this.detail=t.detail||1,t.type==="dblclick"&&(this.detail=2),this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,typeof t.pageX=="number"?(this.posx=t.pageX,this.posy=t.pageY):(this.posx=t.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=t.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);const i=U1.getPositionOfChildWindowRelativeToAncestorWindow(e,t.view);this.posx-=i.left,this.posy-=i.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class Ri{constructor(e,t=0,i=0){var o;this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=i,this.deltaX=t;let n=!1;if(ur){const r=navigator.userAgent.match(/Chrome\/(\d+)/);n=(r?parseInt(r[1]):123)<=122}if(e){const r=e,l=e,a=((o=e.view)==null?void 0:o.devicePixelRatio)||1;if(typeof r.wheelDeltaY<"u")n?this.deltaY=r.wheelDeltaY/(120*a):this.deltaY=r.wheelDeltaY/120;else if(typeof l.VERTICAL_AXIS<"u"&&l.axis===l.VERTICAL_AXIS)this.deltaY=-l.detail/3;else if(e.type==="wheel"){const h=e;h.deltaMode===h.DOM_DELTA_LINE?gn&&!Oe?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof r.wheelDeltaX<"u")Id&&kt?this.deltaX=-(r.wheelDeltaX/120):n?this.deltaX=r.wheelDeltaX/(120*a):this.deltaX=r.wheelDeltaX/120;else if(typeof l.HORIZONTAL_AXIS<"u"&&l.axis===l.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){const h=e;h.deltaMode===h.DOM_DELTA_LINE?gn&&!Oe?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(n?this.deltaY=e.wheelDelta/(120*a):this.deltaY=e.wheelDelta/120)}}preventDefault(){var e;(e=this.browserEvent)==null||e.preventDefault()}stopPropagation(){var e;(e=this.browserEvent)==null||e.stopPropagation()}}const Rd=Symbol("MicrotaskDelay");function Sl(s){return!!s&&typeof s.then=="function"}function Md(s){const e=new cr,t=s(e.token),i=new Promise((n,o)=>{const r=e.token.onCancellationRequested(()=>{r.dispose(),o(new zs)});Promise.resolve(t).then(l=>{r.dispose(),e.dispose(),n(l)},l=>{r.dispose(),e.dispose(),o(l)})});return new class{cancel(){e.cancel(),e.dispose()}then(n,o){return i.then(n,o)}catch(n){return this.then(void 0,n)}finally(n){return i.finally(n)}}}function D5(s,e,t){return new Promise((i,n)=>{const o=e.onCancellationRequested(()=>{o.dispose(),i(t)});s.then(i,n).finally(()=>o.dispose())})}class q1{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){const t=()=>{if(this.queuedPromise=null,this.isDisposed)return;const i=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,i};this.queuedPromise=new Promise(i=>{this.activePromise.then(t,t).then(i)})}return new Promise((t,i)=>{this.queuedPromise.then(t,i)})}return this.activePromise=e(),new Promise((t,i)=>{this.activePromise.then(n=>{this.activePromise=null,t(n)},n=>{this.activePromise=null,i(n)})})}dispose(){this.isDisposed=!0}}const G1=(s,e)=>{let t=!0;const i=setTimeout(()=>{t=!1,e()},s);return{isTriggered:()=>t,dispose:()=>{clearTimeout(i),t=!1}}},Y1=s=>{let e=!0;return queueMicrotask(()=>{e&&(e=!1,s())}),{isTriggered:()=>e,dispose:()=>{e=!1}}};class Ln{constructor(e){this.defaultDelay=e,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e,t=this.defaultDelay){this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((n,o)=>{this.doResolve=n,this.doReject=o}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const n=this.task;return this.task=null,n()}}));const i=()=>{var n;this.deferred=null,(n=this.doResolve)==null||n.call(this,null)};return this.deferred=t===Rd?Y1(i):G1(t,i),this.completionPromise}isTriggered(){var e;return!!((e=this.deferred)!=null&&e.isTriggered())}cancel(){var e;this.cancelTimeout(),this.completionPromise&&((e=this.doReject)==null||e.call(this,new zs),this.completionPromise=null)}cancelTimeout(){var e;(e=this.deferred)==null||e.dispose(),this.deferred=null}dispose(){this.cancel()}}class j1{constructor(e){this.delayer=new Ln(e),this.throttler=new q1}trigger(e,t){return this.delayer.trigger(()=>this.throttler.queue(e),t)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}function Ro(s,e){return e?new Promise((t,i)=>{const n=setTimeout(()=>{o.dispose(),t()},s),o=e.onCancellationRequested(()=>{clearTimeout(n),o.dispose(),i(new zs)})}):Md(t=>Ro(s,t))}function Cl(s,e=0,t){const i=setTimeout(()=>{s(),t&&n.dispose()},e),n=we(()=>{clearTimeout(i),t==null||t.deleteAndLeak(n)});return t==null||t.add(n),n}function E5(s,e=i=>!!i,t=null){let i=0;const n=s.length,o=()=>{if(i>=n)return Promise.resolve(t);const r=s[i++];return Promise.resolve(r()).then(a=>e(a)?Promise.resolve(a):o())};return o()}class va{constructor(e,t){this._isDisposed=!1,this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){if(this._isDisposed)throw new Bs("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){if(this._isDisposed)throw new Bs("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}}class X1{constructor(){this.disposable=void 0,this.isDisposed=!1}cancel(){var e;(e=this.disposable)==null||e.dispose(),this.disposable=void 0}cancelAndSet(e,t,i=globalThis){if(this.isDisposed)throw new Bs("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();const n=i.setInterval(()=>{e()},t);this.disposable=we(()=>{i.clearInterval(n),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}}class bn{constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var e;(e=this.runner)==null||e.call(this)}}let Z1,on;(function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?on=(s,e)=>{Of(()=>{if(t)return;const i=Date.now()+15;e(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,i-Date.now())}}))});let t=!1;return{dispose(){t||(t=!0)}}}:on=(s,e,t)=>{const i=s.requestIdleCallback(e,typeof t=="number"?{timeout:t}:void 0);let n=!1;return{dispose(){n||(n=!0,s.cancelIdleCallback(i))}}},Z1=s=>on(globalThis,s)})();class Od{constructor(e,t){this._didRun=!1,this._executor=()=>{try{this._value=t()}catch(i){this._error=i}finally{this._didRun=!0}},this._handle=on(e,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class k5 extends Od{constructor(e){super(globalThis,e)}}class N5{get isRejected(){var e;return((e=this.outcome)==null?void 0:e.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((e,t)=>{this.completeCallback=e,this.errorCallback=t})}complete(e){return new Promise(t=>{this.completeCallback(e),this.outcome={outcome:0,value:e},t()})}error(e){return new Promise(t=>{this.errorCallback(e),this.outcome={outcome:1,value:e},t()})}cancel(){return this.error(new zs)}}var xl;(function(s){async function e(i){let n;const o=await Promise.all(i.map(r=>r.then(l=>l,l=>{n||(n=l)})));if(typeof n<"u")throw n;return o}s.settled=e;function t(i){return new Promise(async(n,o)=>{try{await i(n,o)}catch(r){o(r)}})}s.withAsyncBody=t})(xl||(xl={}));const nt=class nt{static fromArray(e){return new nt(t=>{t.emitMany(e)})}static fromPromise(e){return new nt(async t=>{t.emitMany(await e)})}static fromPromises(e){return new nt(async t=>{await Promise.all(e.map(async i=>t.emitOne(await i)))})}static merge(e){return new nt(async t=>{await Promise.all(e.map(async i=>{for await(const n of i)t.emitOne(n)}))})}constructor(e,t){this._state=0,this._results=[],this._error=null,this._onReturn=t,this._onStateChanged=new M,queueMicrotask(async()=>{const i={emitOne:n=>this.emitOne(n),emitMany:n=>this.emitMany(n),reject:n=>this.reject(n)};try{await Promise.resolve(e(i)),this.resolve()}catch(n){this.reject(n)}finally{i.emitOne=void 0,i.emitMany=void 0,i.reject=void 0}})}[Symbol.asyncIterator](){let e=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};await P.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>{var t;return(t=this._onReturn)==null||t.call(this),{done:!0,value:void 0}}}}static map(e,t){return new nt(async i=>{for await(const n of e)i.emitOne(t(n))})}map(e){return nt.map(this,e)}static filter(e,t){return new nt(async i=>{for await(const n of e)t(n)&&i.emitOne(n)})}filter(e){return nt.filter(this,e)}static coalesce(e){return nt.filter(e,t=>!!t)}coalesce(){return nt.coalesce(this)}static async toPromise(e){const t=[];for await(const i of e)t.push(i);return t}toPromise(){return nt.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}};nt.EMPTY=nt.fromArray([]);let Dl=nt;class Q1 extends Dl{constructor(e,t){super(t),this._source=e}cancel(){this._source.cancel()}}function T5(s){const e=new cr,t=s(e.token);return new Q1(e,async i=>{const n=e.token.onCancellationRequested(()=>{n.dispose(),e.dispose(),i.reject(new zs)});try{for await(const o of t){if(e.token.isCancellationRequested)return;i.emitOne(o)}n.dispose(),e.dispose()}catch(o){n.dispose(),e.dispose(),i.reject(o)}})}/*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE */const{entries:Fd,setPrototypeOf:xh,isFrozen:J1,getPrototypeOf:ep,getOwnPropertyDescriptor:tp}=Object;let{freeze:ot,seal:Nt,create:zd}=Object,{apply:El,construct:kl}=typeof Reflect<"u"&&Reflect;ot||(ot=function(e){return e});Nt||(Nt=function(e){return e});El||(El=function(e,t,i){return e.apply(t,i)});kl||(kl=function(e,t){return new e(...t)});const Vn=xt(Array.prototype.forEach),Dh=xt(Array.prototype.pop),Yi=xt(Array.prototype.push),ao=xt(String.prototype.toLowerCase),Ar=xt(String.prototype.toString),Eh=xt(String.prototype.match),ji=xt(String.prototype.replace),sp=xt(String.prototype.indexOf),ip=xt(String.prototype.trim),Pt=xt(Object.prototype.hasOwnProperty),it=xt(RegExp.prototype.test),Xi=np(TypeError);function xt(s){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return El(s,e,i)}}function np(s){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return kl(s,t)}}function he(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ao;xh&&xh(s,null);let i=e.length;for(;i--;){let n=e[i];if(typeof n=="string"){const o=t(n);o!==n&&(J1(e)||(e[i]=o),n=o)}s[n]=!0}return s}function op(s){for(let e=0;e<s.length;e++)Pt(s,e)||(s[e]=null);return s}function Js(s){const e=zd(null);for(const[t,i]of Fd(s))Pt(s,t)&&(Array.isArray(i)?e[t]=op(i):i&&typeof i=="object"&&i.constructor===Object?e[t]=Js(i):e[t]=i);return e}function Zi(s,e){for(;s!==null;){const i=tp(s,e);if(i){if(i.get)return xt(i.get);if(typeof i.value=="function")return xt(i.value)}s=ep(s)}function t(){return null}return t}const kh=ot(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Lr=ot(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ir=ot(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),rp=ot(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Pr=ot(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),lp=ot(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Nh=ot(["#text"]),Th=ot(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Rr=ot(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ah=ot(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Un=ot(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ap=Nt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),hp=Nt(/<%[\w\W]*|[\w\W]*%>/gm),cp=Nt(/\${[\w\W]*}/gm),dp=Nt(/^data-[\-\w.\u00B7-\uFFFF]/),up=Nt(/^aria-[\-\w]+$/),Bd=Nt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),fp=Nt(/^(?:\w+script|data):/i),pp=Nt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Hd=Nt(/^html$/i),mp=Nt(/^[a-z][.\w]*(-[.\w]+)+$/i);var Lh=Object.freeze({__proto__:null,MUSTACHE_EXPR:ap,ERB_EXPR:hp,TMPLIT_EXPR:cp,DATA_ATTR:dp,ARIA_ATTR:up,IS_ALLOWED_URI:Bd,IS_SCRIPT_OR_DATA:fp,ATTR_WHITESPACE:pp,DOCTYPE_NAME:Hd,CUSTOM_ELEMENT:mp});const Qi={element:1,text:3,progressingInstruction:7,comment:8,document:9},gp=function(){return typeof window>"u"?null:window},bp=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null;const n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(i=t.getAttribute(n));const o="dompurify"+(i?"#"+i:"");try{return e.createPolicy(o,{createHTML(r){return r},createScriptURL(r){return r}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function Kd(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:gp();const e=j=>Kd(j);if(e.version="3.1.7",e.removed=[],!s||!s.document||s.document.nodeType!==Qi.document)return e.isSupported=!1,e;let{document:t}=s;const i=t,n=i.currentScript,{DocumentFragment:o,HTMLTemplateElement:r,Node:l,Element:a,NodeFilter:h,NamedNodeMap:d=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:u,DOMParser:f,trustedTypes:g}=s,y=a.prototype,_=Zi(y,"cloneNode"),D=Zi(y,"remove"),L=Zi(y,"nextSibling"),N=Zi(y,"childNodes"),K=Zi(y,"parentNode");if(typeof r=="function"){const j=t.createElement("template");j.content&&j.content.ownerDocument&&(t=j.content.ownerDocument)}let T,E="";const{implementation:I,createNodeIterator:A,createDocumentFragment:k,getElementsByTagName:q}=t,{importNode:be}=i;let ee={};e.isSupported=typeof Fd=="function"&&typeof K=="function"&&I&&I.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Q,ERB_EXPR:B,TMPLIT_EXPR:O,DATA_ATTR:V,ARIA_ATTR:W,IS_SCRIPT_OR_DATA:G,ATTR_WHITESPACE:ne,CUSTOM_ELEMENT:fe}=Lh;let{IS_ALLOWED_URI:Pe}=Lh,de=null;const gt=he({},[...kh,...Lr,...Ir,...Pr,...Nh]);let Ee=null;const Et=he({},[...Th,...Rr,...Ah,...Un]);let Le=Object.seal(zd(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),bt=null,Ws=null,Vs=!0,Ki=!0,ws=!1,Mn=!0,ys=!1,$i=!0,ns=!1,Wi=!1,Vi=!1,vs=!1,hi=!1,ci=!1,Us=!0,On=!1;const Fn="user-content-";let di=!0,qs=!1,Bt={},Ss=null;const ui=he({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let zn=null;const Gs=he({},["audio","video","img","source","image","track"]);let os=null;const rt=he({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ht="http://www.w3.org/1998/Math/MathML",rs="http://www.w3.org/2000/svg",Be="http://www.w3.org/1999/xhtml";let _t=Be,fi=!1,At=null;const me=he({},[Ht,rs,Be],Ar);let Ys=null;const vr=["application/xhtml+xml","text/html"],Sr="text/html";let He=null,Cs=null;const Cr=t.createElement("form"),Bn=function(S){return S instanceof RegExp||S instanceof Function},Ui=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Cs&&Cs===S)){if((!S||typeof S!="object")&&(S={}),S=Js(S),Ys=vr.indexOf(S.PARSER_MEDIA_TYPE)===-1?Sr:S.PARSER_MEDIA_TYPE,He=Ys==="application/xhtml+xml"?Ar:ao,de=Pt(S,"ALLOWED_TAGS")?he({},S.ALLOWED_TAGS,He):gt,Ee=Pt(S,"ALLOWED_ATTR")?he({},S.ALLOWED_ATTR,He):Et,At=Pt(S,"ALLOWED_NAMESPACES")?he({},S.ALLOWED_NAMESPACES,Ar):me,os=Pt(S,"ADD_URI_SAFE_ATTR")?he(Js(rt),S.ADD_URI_SAFE_ATTR,He):rt,zn=Pt(S,"ADD_DATA_URI_TAGS")?he(Js(Gs),S.ADD_DATA_URI_TAGS,He):Gs,Ss=Pt(S,"FORBID_CONTENTS")?he({},S.FORBID_CONTENTS,He):ui,bt=Pt(S,"FORBID_TAGS")?he({},S.FORBID_TAGS,He):{},Ws=Pt(S,"FORBID_ATTR")?he({},S.FORBID_ATTR,He):{},Bt=Pt(S,"USE_PROFILES")?S.USE_PROFILES:!1,Vs=S.ALLOW_ARIA_ATTR!==!1,Ki=S.ALLOW_DATA_ATTR!==!1,ws=S.ALLOW_UNKNOWN_PROTOCOLS||!1,Mn=S.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ys=S.SAFE_FOR_TEMPLATES||!1,$i=S.SAFE_FOR_XML!==!1,ns=S.WHOLE_DOCUMENT||!1,vs=S.RETURN_DOM||!1,hi=S.RETURN_DOM_FRAGMENT||!1,ci=S.RETURN_TRUSTED_TYPE||!1,Vi=S.FORCE_BODY||!1,Us=S.SANITIZE_DOM!==!1,On=S.SANITIZE_NAMED_PROPS||!1,di=S.KEEP_CONTENT!==!1,qs=S.IN_PLACE||!1,Pe=S.ALLOWED_URI_REGEXP||Bd,_t=S.NAMESPACE||Be,Le=S.CUSTOM_ELEMENT_HANDLING||{},S.CUSTOM_ELEMENT_HANDLING&&Bn(S.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Le.tagNameCheck=S.CUSTOM_ELEMENT_HANDLING.tagNameCheck),S.CUSTOM_ELEMENT_HANDLING&&Bn(S.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Le.attributeNameCheck=S.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),S.CUSTOM_ELEMENT_HANDLING&&typeof S.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Le.allowCustomizedBuiltInElements=S.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ys&&(Ki=!1),hi&&(vs=!0),Bt&&(de=he({},Nh),Ee=[],Bt.html===!0&&(he(de,kh),he(Ee,Th)),Bt.svg===!0&&(he(de,Lr),he(Ee,Rr),he(Ee,Un)),Bt.svgFilters===!0&&(he(de,Ir),he(Ee,Rr),he(Ee,Un)),Bt.mathMl===!0&&(he(de,Pr),he(Ee,Ah),he(Ee,Un))),S.ADD_TAGS&&(de===gt&&(de=Js(de)),he(de,S.ADD_TAGS,He)),S.ADD_ATTR&&(Ee===Et&&(Ee=Js(Ee)),he(Ee,S.ADD_ATTR,He)),S.ADD_URI_SAFE_ATTR&&he(os,S.ADD_URI_SAFE_ATTR,He),S.FORBID_CONTENTS&&(Ss===ui&&(Ss=Js(Ss)),he(Ss,S.FORBID_CONTENTS,He)),di&&(de["#text"]=!0),ns&&he(de,["html","head","body"]),de.table&&(he(de,["tbody"]),delete bt.tbody),S.TRUSTED_TYPES_POLICY){if(typeof S.TRUSTED_TYPES_POLICY.createHTML!="function")throw Xi('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof S.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Xi('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');T=S.TRUSTED_TYPES_POLICY,E=T.createHTML("")}else T===void 0&&(T=bp(g,n)),T!==null&&typeof E=="string"&&(E=T.createHTML(""));ot&&ot(S),Cs=S}},se=he({},["mi","mo","mn","ms","mtext"]),p=he({},["annotation-xml"]),m=he({},["title","style","font","a","script"]),b=he({},[...Lr,...Ir,...rp]),w=he({},[...Pr,...lp]),v=function(S){let F=K(S);(!F||!F.tagName)&&(F={namespaceURI:_t,tagName:"template"});const U=ao(S.tagName),ke=ao(F.tagName);return At[S.namespaceURI]?S.namespaceURI===rs?F.namespaceURI===Be?U==="svg":F.namespaceURI===Ht?U==="svg"&&(ke==="annotation-xml"||se[ke]):!!b[U]:S.namespaceURI===Ht?F.namespaceURI===Be?U==="math":F.namespaceURI===rs?U==="math"&&p[ke]:!!w[U]:S.namespaceURI===Be?F.namespaceURI===rs&&!p[ke]||F.namespaceURI===Ht&&!se[ke]?!1:!w[U]&&(m[U]||!b[U]):!!(Ys==="application/xhtml+xml"&&At[S.namespaceURI]):!1},C=function(S){Yi(e.removed,{element:S});try{K(S).removeChild(S)}catch{D(S)}},x=function(S,F){try{Yi(e.removed,{attribute:F.getAttributeNode(S),from:F})}catch{Yi(e.removed,{attribute:null,from:F})}if(F.removeAttribute(S),S==="is"&&!Ee[S])if(vs||hi)try{C(F)}catch{}else try{F.setAttribute(S,"")}catch{}},z=function(S){let F=null,U=null;if(Vi)S="<remove></remove>"+S;else{const je=Eh(S,/^[\r\n\t ]+/);U=je&&je[0]}Ys==="application/xhtml+xml"&&_t===Be&&(S='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+S+"</body></html>");const ke=T?T.createHTML(S):S;if(_t===Be)try{F=new f().parseFromString(ke,Ys)}catch{}if(!F||!F.documentElement){F=I.createDocument(_t,"template",null);try{F.documentElement.innerHTML=fi?E:ke}catch{}}const Ze=F.body||F.documentElement;return S&&U&&Ze.insertBefore(t.createTextNode(U),Ze.childNodes[0]||null),_t===Be?q.call(F,ns?"html":"body")[0]:ns?F.documentElement:Ze},H=function(S){return A.call(S.ownerDocument||S,S,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},te=function(S){return S instanceof u&&(typeof S.nodeName!="string"||typeof S.textContent!="string"||typeof S.removeChild!="function"||!(S.attributes instanceof d)||typeof S.removeAttribute!="function"||typeof S.setAttribute!="function"||typeof S.namespaceURI!="string"||typeof S.insertBefore!="function"||typeof S.hasChildNodes!="function")},ae=function(S){return typeof l=="function"&&S instanceof l},ue=function(S,F,U){ee[S]&&Vn(ee[S],ke=>{ke.call(e,F,U,Cs)})},ye=function(S){let F=null;if(ue("beforeSanitizeElements",S,null),te(S))return C(S),!0;const U=He(S.nodeName);if(ue("uponSanitizeElement",S,{tagName:U,allowedTags:de}),S.hasChildNodes()&&!ae(S.firstElementChild)&&it(/<[/\w]/g,S.innerHTML)&&it(/<[/\w]/g,S.textContent)||S.nodeType===Qi.progressingInstruction||$i&&S.nodeType===Qi.comment&&it(/<[/\w]/g,S.data))return C(S),!0;if(!de[U]||bt[U]){if(!bt[U]&&tt(U)&&(Le.tagNameCheck instanceof RegExp&&it(Le.tagNameCheck,U)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(U)))return!1;if(di&&!Ss[U]){const ke=K(S)||S.parentNode,Ze=N(S)||S.childNodes;if(Ze&&ke){const je=Ze.length;for(let lt=je-1;lt>=0;--lt){const Kt=_(Ze[lt],!0);Kt.__removalCount=(S.__removalCount||0)+1,ke.insertBefore(Kt,L(S))}}}return C(S),!0}return S instanceof a&&!v(S)||(U==="noscript"||U==="noembed"||U==="noframes")&&it(/<\/no(script|embed|frames)/i,S.innerHTML)?(C(S),!0):(ys&&S.nodeType===Qi.text&&(F=S.textContent,Vn([Q,B,O],ke=>{F=ji(F,ke," ")}),S.textContent!==F&&(Yi(e.removed,{element:S.cloneNode()}),S.textContent=F)),ue("afterSanitizeElements",S,null),!1)},ve=function(S,F,U){if(Us&&(F==="id"||F==="name")&&(U in t||U in Cr))return!1;if(!(Ki&&!Ws[F]&&it(V,F))){if(!(Vs&&it(W,F))){if(!Ee[F]||Ws[F]){if(!(tt(S)&&(Le.tagNameCheck instanceof RegExp&&it(Le.tagNameCheck,S)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(S))&&(Le.attributeNameCheck instanceof RegExp&&it(Le.attributeNameCheck,F)||Le.attributeNameCheck instanceof Function&&Le.attributeNameCheck(F))||F==="is"&&Le.allowCustomizedBuiltInElements&&(Le.tagNameCheck instanceof RegExp&&it(Le.tagNameCheck,U)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(U))))return!1}else if(!os[F]){if(!it(Pe,ji(U,ne,""))){if(!((F==="src"||F==="xlink:href"||F==="href")&&S!=="script"&&sp(U,"data:")===0&&zn[S])){if(!(ws&&!it(G,ji(U,ne,"")))){if(U)return!1}}}}}}return!0},tt=function(S){return S!=="annotation-xml"&&Eh(S,fe)},wt=function(S){ue("beforeSanitizeAttributes",S,null);const{attributes:F}=S;if(!F)return;const U={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ee};let ke=F.length;for(;ke--;){const Ze=F[ke],{name:je,namespaceURI:lt,value:Kt}=Ze,Gi=He(je);let st=je==="value"?Kt:ip(Kt);if(U.attrName=Gi,U.attrValue=st,U.keepAttr=!0,U.forceKeepAttr=void 0,ue("uponSanitizeAttribute",S,U),st=U.attrValue,U.forceKeepAttr||(x(je,S),!U.keepAttr))continue;if(!Mn&&it(/\/>/i,st)){x(je,S);continue}ys&&Vn([Q,B,O],nh=>{st=ji(st,nh," ")});const ih=He(S.nodeName);if(ve(ih,Gi,st)){if(On&&(Gi==="id"||Gi==="name")&&(x(je,S),st=Fn+st),$i&&it(/((--!?|])>)|<\/(style|title)/i,st)){x(je,S);continue}if(T&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!lt)switch(g.getAttributeType(ih,Gi)){case"TrustedHTML":{st=T.createHTML(st);break}case"TrustedScriptURL":{st=T.createScriptURL(st);break}}try{lt?S.setAttributeNS(lt,je,st):S.setAttribute(je,st),te(S)?C(S):Dh(e.removed)}catch{}}}ue("afterSanitizeAttributes",S,null)},qi=function j(S){let F=null;const U=H(S);for(ue("beforeSanitizeShadowDOM",S,null);F=U.nextNode();)ue("uponSanitizeShadowNode",F,null),!ye(F)&&(F.content instanceof o&&j(F.content),wt(F));ue("afterSanitizeShadowDOM",S,null)};return e.sanitize=function(j){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F=null,U=null,ke=null,Ze=null;if(fi=!j,fi&&(j="<!-->"),typeof j!="string"&&!ae(j))if(typeof j.toString=="function"){if(j=j.toString(),typeof j!="string")throw Xi("dirty is not a string, aborting")}else throw Xi("toString is not a function");if(!e.isSupported)return j;if(Wi||Ui(S),e.removed=[],typeof j=="string"&&(qs=!1),qs){if(j.nodeName){const Kt=He(j.nodeName);if(!de[Kt]||bt[Kt])throw Xi("root node is forbidden and cannot be sanitized in-place")}}else if(j instanceof l)F=z("<!---->"),U=F.ownerDocument.importNode(j,!0),U.nodeType===Qi.element&&U.nodeName==="BODY"||U.nodeName==="HTML"?F=U:F.appendChild(U);else{if(!vs&&!ys&&!ns&&j.indexOf("<")===-1)return T&&ci?T.createHTML(j):j;if(F=z(j),!F)return vs?null:ci?E:""}F&&Vi&&C(F.firstChild);const je=H(qs?j:F);for(;ke=je.nextNode();)ye(ke)||(ke.content instanceof o&&qi(ke.content),wt(ke));if(qs)return j;if(vs){if(hi)for(Ze=k.call(F.ownerDocument);F.firstChild;)Ze.appendChild(F.firstChild);else Ze=F;return(Ee.shadowroot||Ee.shadowrootmode)&&(Ze=be.call(i,Ze,!0)),Ze}let lt=ns?F.outerHTML:F.innerHTML;return ns&&de["!doctype"]&&F.ownerDocument&&F.ownerDocument.doctype&&F.ownerDocument.doctype.name&&it(Hd,F.ownerDocument.doctype.name)&&(lt="<!DOCTYPE "+F.ownerDocument.doctype.name+`>
`+lt),ys&&Vn([Q,B,O],Kt=>{lt=ji(lt,Kt," ")}),T&&ci?T.createHTML(lt):lt},e.setConfig=function(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ui(j),Wi=!0},e.clearConfig=function(){Cs=null,Wi=!1},e.isValidAttribute=function(j,S,F){Cs||Ui({});const U=He(j),ke=He(S);return ve(U,ke,F)},e.addHook=function(j,S){typeof S=="function"&&(ee[j]=ee[j]||[],Yi(ee[j],S))},e.removeHook=function(j){if(ee[j])return Dh(ee[j])},e.removeHooks=function(j){ee[j]&&(ee[j]=[])},e.removeAllHooks=function(){ee={}},e}var ts=Kd();ts.version;ts.isSupported;const $d=ts.sanitize;ts.setConfig;ts.clearConfig;ts.isValidAttribute;const Wd=ts.addHook,Vd=ts.removeHook;ts.removeHooks;ts.removeAllHooks;var De;(function(s){s.inMemory="inmemory",s.vscode="vscode",s.internal="private",s.walkThrough="walkThrough",s.walkThroughSnippet="walkThroughSnippet",s.http="http",s.https="https",s.file="file",s.mailto="mailto",s.untitled="untitled",s.data="data",s.command="command",s.vscodeRemote="vscode-remote",s.vscodeRemoteResource="vscode-remote-resource",s.vscodeManagedRemoteResource="vscode-managed-remote-resource",s.vscodeUserData="vscode-userdata",s.vscodeCustomEditor="vscode-custom-editor",s.vscodeNotebookCell="vscode-notebook-cell",s.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",s.vscodeNotebookCellMetadataDiff="vscode-notebook-cell-metadata-diff",s.vscodeNotebookCellOutput="vscode-notebook-cell-output",s.vscodeNotebookCellOutputDiff="vscode-notebook-cell-output-diff",s.vscodeNotebookMetadata="vscode-notebook-metadata",s.vscodeInteractiveInput="vscode-interactive-input",s.vscodeSettings="vscode-settings",s.vscodeWorkspaceTrust="vscode-workspace-trust",s.vscodeTerminal="vscode-terminal",s.vscodeChatCodeBlock="vscode-chat-code-block",s.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",s.vscodeChatSesssion="vscode-chat-editor",s.webviewPanel="webview-panel",s.vscodeWebview="vscode-webview",s.extension="extension",s.vscodeFileResource="vscode-file",s.tmp="tmp",s.vsls="vsls",s.vscodeSourceControl="vscode-scm",s.commentsInput="comment",s.codeSetting="code-setting",s.outputChannel="output"})(De||(De={}));function _p(s,e){return Ce.isUri(s)?wi(s.scheme,e):ba(s,e+":")}function A5(s,...e){return e.some(t=>_p(s,t))}const wp="tkn";class yp{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._serverRootPath="/"}setPreferredWebSchema(e){this._preferredWebSchema=e}get _remoteResourcesPath(){return Te.join(this._serverRootPath,De.vscodeRemoteResource)}rewrite(e){if(this._delegate)try{return this._delegate(e)}catch(l){return ft(l),e}const t=e.authority;let i=this._hosts[t];i&&i.indexOf(":")!==-1&&i.indexOf("[")===-1&&(i=`[${i}]`);const n=this._ports[t],o=this._connectionTokens[t];let r=`path=${encodeURIComponent(e.path)}`;return typeof o=="string"&&(r+=`&${wp}=${encodeURIComponent(o)}`),Ce.from({scheme:dd?this._preferredWebSchema:De.vscodeRemoteResource,authority:`${i}:${n}`,path:this._remoteResourcesPath,query:r})}}const Ud=new yp,vp="vscode-app",dn=class dn{asBrowserUri(e){const t=this.toUri(e);return this.uriToBrowserUri(t)}uriToBrowserUri(e){return e.scheme===De.vscodeRemote?Ud.rewrite(e):e.scheme===De.file&&(cl||Rf===`${De.vscodeFileResource}://${dn.FALLBACK_AUTHORITY}`)?e.with({scheme:De.vscodeFileResource,authority:e.authority||dn.FALLBACK_AUTHORITY,query:null,fragment:null}):e}toUri(e,t){if(Ce.isUri(e))return e;if(globalThis._VSCODE_FILE_ROOT){const i=globalThis._VSCODE_FILE_ROOT;if(/^\w[\w\d+.-]*:\/\//.test(i))return Ce.joinPath(Ce.parse(i,!0),e);const n=n1(i,e);return Ce.file(n)}return Ce.parse(t.toUrl(e))}};dn.FALLBACK_AUTHORITY=vp;let Nl=dn;const Sa=new Nl;var Tl;(function(s){const e=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);s.CoopAndCoep=Object.freeze(e.get("3"));const t="vscode-coi";function i(o){let r;typeof o=="string"?r=new URL(o).searchParams:o instanceof URL?r=o.searchParams:Ce.isUri(o)&&(r=new URL(o.toString(!0)).searchParams);const l=r==null?void 0:r.get(t);if(l)return e.get(l)}s.getHeadersFromQuery=i;function n(o,r,l){if(!globalThis.crossOriginIsolated)return;const a=r&&l?"3":l?"2":"1";o instanceof URLSearchParams?o.set(t,a):o[t]=a}s.addSearchParam=n})(Tl||(Tl={}));function Sp(s){return Ca(s,0)}function Ca(s,e){switch(typeof s){case"object":return s===null?cs(349,e):Array.isArray(s)?xp(s,e):Dp(s,e);case"string":return xa(s,e);case"boolean":return Cp(s,e);case"number":return cs(s,e);case"undefined":return cs(937,e);default:return cs(617,e)}}function cs(s,e){return(e<<5)-e+s|0}function Cp(s,e){return cs(s?433:863,e)}function xa(s,e){e=cs(149417,e);for(let t=0,i=s.length;t<i;t++)e=cs(s.charCodeAt(t),e);return e}function xp(s,e){return e=cs(104579,e),s.reduce((t,i)=>Ca(i,t),e)}function Dp(s,e){return e=cs(181387,e),Object.keys(s).sort().reduce((t,i)=>(t=xa(i,t),Ca(s[i],t)),e)}function Mr(s,e,t=32){const i=t-e,n=~((1<<i)-1);return(s<<e|(n&s)>>>i)>>>0}function Ih(s,e=0,t=s.byteLength,i=0){for(let n=0;n<t;n++)s[e+n]=i}function Ep(s,e,t="0"){for(;s.length<e;)s=t+s;return s}function Ji(s,e=32){return s instanceof ArrayBuffer?Array.from(new Uint8Array(s)).map(t=>t.toString(16).padStart(2,"0")).join(""):Ep((s>>>0).toString(16),e/4)}const Qo=class Qo{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){const t=e.length;if(t===0)return;const i=this._buff;let n=this._buffLen,o=this._leftoverHighSurrogate,r,l;for(o!==0?(r=o,l=-1,o=0):(r=e.charCodeAt(0),l=0);;){let a=r;if(_a(r))if(l+1<t){const h=e.charCodeAt(l+1);mn(h)?(l++,a=wa(r,h)):a=65533}else{o=r;break}else mn(r)&&(a=65533);if(n=this._push(i,n,a),l++,l<t)r=e.charCodeAt(l);else break}this._buffLen=n,this._leftoverHighSurrogate=o}_push(e,t,i){return i<128?e[t++]=i:i<2048?(e[t++]=192|(i&1984)>>>6,e[t++]=128|(i&63)>>>0):i<65536?(e[t++]=224|(i&61440)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0):(e[t++]=240|(i&1835008)>>>18,e[t++]=128|(i&258048)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),Ji(this._h0)+Ji(this._h1)+Ji(this._h2)+Ji(this._h3)+Ji(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,Ih(this._buff,this._buffLen),this._buffLen>56&&(this._step(),Ih(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=Qo._bigBlock32,t=this._buffDV;for(let u=0;u<64;u+=4)e.setUint32(u,t.getUint32(u,!1),!1);for(let u=64;u<320;u+=4)e.setUint32(u,Mr(e.getUint32(u-12,!1)^e.getUint32(u-32,!1)^e.getUint32(u-56,!1)^e.getUint32(u-64,!1),1),!1);let i=this._h0,n=this._h1,o=this._h2,r=this._h3,l=this._h4,a,h,d;for(let u=0;u<80;u++)u<20?(a=n&o|~n&r,h=1518500249):u<40?(a=n^o^r,h=1859775393):u<60?(a=n&o|n&r|o&r,h=2400959708):(a=n^o^r,h=3395469782),d=Mr(i,5)+a+l+h+e.getUint32(u*4,!1)&4294967295,l=r,r=o,o=Mr(n,30),n=i,i=d;this._h0=this._h0+i&4294967295,this._h1=this._h1+n&4294967295,this._h2=this._h2+o&4294967295,this._h3=this._h3+r&4294967295,this._h4=this._h4+l&4294967295}};Qo._bigBlock32=new DataView(new ArrayBuffer(320));let Ph=Qo;const{getWindow:le,getWindows:qd,getWindowsCount:kp,getWindowId:Al,getWindowById:L5,onDidRegisterWindow:Gd,onWillUnregisterWindow:I5,onDidUnregisterWindow:Np}=function(){const s=new Map;v1(ze,1);const e={window:ze,disposables:new J};s.set(ze.vscodeWindowId,e);const t=new M,i=new M,n=new M;function o(r,l){return(typeof r=="number"?s.get(r):void 0)??(l?e:void 0)}return{onDidRegisterWindow:t.event,onWillUnregisterWindow:n.event,onDidUnregisterWindow:i.event,registerWindow(r){if(s.has(r.vscodeWindowId))return Z.None;const l=new J,a={window:r,disposables:l.add(new J)};return s.set(r.vscodeWindowId,a),l.add(we(()=>{s.delete(r.vscodeWindowId),i.fire(r)})),l.add(R(r,$.BEFORE_UNLOAD,()=>{n.fire(r)})),t.fire(a),l},getWindows(){return s.values()},getWindowsCount(){return s.size},getWindowId(r){return r.vscodeWindowId},hasWindow(r){return s.has(r)},getWindowById:o,getWindow(r){var h;const l=r;if((h=l==null?void 0:l.ownerDocument)!=null&&h.defaultView)return l.ownerDocument.defaultView.window;const a=r;return a!=null&&a.view?a.view.window:ze},getDocument(r){return le(r).document}}}();function zt(s){for(;s.firstChild;)s.firstChild.remove()}class Tp{constructor(e,t,i,n){this._node=e,this._type=t,this._handler=i,this._options=n||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function R(s,e,t,i){return new Tp(s,e,t,i)}function Yd(s,e){return function(t){return e(new As(s,t))}}function Ap(s){return function(e){return s(new Re(e))}}const fs=function(e,t,i,n){let o=i;return t==="click"||t==="mousedown"||t==="contextmenu"?o=Yd(le(e),i):(t==="keydown"||t==="keypress"||t==="keyup")&&(o=Ap(i)),R(e,t,o,n)},P5=function(e,t,i){const n=Yd(le(e),t);return Lp(e,n,i)};function Lp(s,e,t){return R(s,ca&&Pd.pointerEvents?$.POINTER_DOWN:$.MOUSE_DOWN,e,t)}function R5(s,e,t){return on(s,e,t)}class M5 extends Od{constructor(e,t){super(e,t)}}let Ip,es;class Pp extends X1{constructor(e){super(),this.defaultTarget=e&&le(e)}cancelAndSet(e,t,i){return super.cancelAndSet(e,t,i??this.defaultTarget)}}class Or{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){ft(e)}}static sort(e,t){return t.priority-e.priority}}(function(){const s=new Map,e=new Map,t=new Map,i=new Map,n=o=>{t.set(o,!1);const r=s.get(o)??[];for(e.set(o,r),s.set(o,[]),i.set(o,!0);r.length>0;)r.sort(Or.sort),r.shift().execute();i.set(o,!1)};es=(o,r,l=0)=>{const a=Al(o),h=new Or(r,l);let d=s.get(a);return d||(d=[],s.set(a,d)),d.push(h),t.get(a)||(t.set(a,!0),o.requestAnimationFrame(()=>n(a))),h},Ip=(o,r,l)=>{const a=Al(o);if(i.get(a)){const h=new Or(r,l);let d=e.get(a);return d||(d=[],e.set(a,d)),d.push(h),h}else return es(o,r,l)}})();function Da(s){return le(s).getComputedStyle(s,null)}function O5(s,e){const t=le(s),i=t.document;if(s!==i.body)return new dt(s.clientWidth,s.clientHeight);if(ca&&(t!=null&&t.visualViewport))return new dt(t.visualViewport.width,t.visualViewport.height);if(t!=null&&t.innerWidth&&t.innerHeight)return new dt(t.innerWidth,t.innerHeight);if(i.body&&i.body.clientWidth&&i.body.clientHeight)return new dt(i.body.clientWidth,i.body.clientHeight);if(i.documentElement&&i.documentElement.clientWidth&&i.documentElement.clientHeight)return new dt(i.documentElement.clientWidth,i.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class Se{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,i){const n=Da(e),o=n?n.getPropertyValue(t):"0";return Se.convertToPixels(e,o)}static getBorderLeftWidth(e){return Se.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return Se.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return Se.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return Se.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return Se.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return Se.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return Se.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return Se.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return Se.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return Se.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return Se.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return Se.getDimension(e,"margin-bottom","marginBottom")}}const ii=class ii{constructor(e,t){this.width=e,this.height=t}with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new ii(e,t):this}static is(e){return typeof e=="object"&&typeof e.height=="number"&&typeof e.width=="number"}static lift(e){return e instanceof ii?e:new ii(e.width,e.height)}static equals(e,t){return e===t?!0:!e||!t?!1:e.width===t.width&&e.height===t.height}};ii.None=new ii(0,0);let dt=ii;function Rp(s){let e=s.offsetParent,t=s.offsetTop,i=s.offsetLeft;for(;(s=s.parentNode)!==null&&s!==s.ownerDocument.body&&s!==s.ownerDocument.documentElement;){t-=s.scrollTop;const n=jd(s)?null:Da(s);n&&(i-=n.direction!=="rtl"?s.scrollLeft:-s.scrollLeft),s===e&&(i+=Se.getBorderLeftWidth(s),t+=Se.getBorderTopWidth(s),t+=s.offsetTop,i+=s.offsetLeft,e=s.offsetParent)}return{left:i,top:t}}function F5(s,e,t){typeof e=="number"&&(s.style.width=`${e}px`),typeof t=="number"&&(s.style.height=`${t}px`)}function yi(s){const e=s.getBoundingClientRect(),t=le(s);return{left:e.left+t.scrollX,top:e.top+t.scrollY,width:e.width,height:e.height}}function Mp(s){let e=s,t=1;do{const i=Da(e).zoom;i!=null&&i!=="1"&&(t*=i),e=e.parentElement}while(e!==null&&e!==e.ownerDocument.documentElement);return t}function Ea(s){const e=Se.getMarginLeft(s)+Se.getMarginRight(s);return s.offsetWidth+e}function Fr(s){const e=Se.getBorderLeftWidth(s)+Se.getBorderRightWidth(s),t=Se.getPaddingLeft(s)+Se.getPaddingRight(s);return s.offsetWidth-e-t}function Op(s){const e=Se.getBorderTopWidth(s)+Se.getBorderBottomWidth(s),t=Se.getPaddingTop(s)+Se.getPaddingBottom(s);return s.offsetHeight-e-t}function Ll(s){const e=Se.getMarginTop(s)+Se.getMarginBottom(s);return s.offsetHeight+e}function St(s,e){return!!(e!=null&&e.contains(s))}function Fp(s,e,t){for(;s&&s.nodeType===s.ELEMENT_NODE;){if(s.classList.contains(e))return s;if(t){if(typeof t=="string"){if(s.classList.contains(t))return null}else if(s===t)return null}s=s.parentNode}return null}function zr(s,e,t){return!!Fp(s,e,t)}function jd(s){return s&&!!s.host&&!!s.mode}function Rh(s){return!!Xd(s)}function Xd(s){var e;for(;s.parentNode;){if(s===((e=s.ownerDocument)==null?void 0:e.body))return null;s=s.parentNode}return jd(s)?s:null}function ps(){let s=Qd().activeElement;for(;s!=null&&s.shadowRoot;)s=s.shadowRoot.activeElement;return s}function Zd(s){return ps()===s}function z5(s){return St(ps(),s)}function Qd(){return kp()<=1?ze.document:Array.from(qd()).map(({window:e})=>e.document).find(e=>e.hasFocus())??ze.document}function zp(){var e;return((e=Qd().defaultView)==null?void 0:e.window)??ze}const ka=new Map;function Bp(){return new Hp}class Hp{constructor(){this._currentCssStyle="",this._styleSheet=void 0}setStyle(e){e!==this._currentCssStyle&&(this._currentCssStyle=e,this._styleSheet?this._styleSheet.innerText=e:this._styleSheet=gs(ze.document.head,t=>t.innerText=e))}dispose(){this._styleSheet&&(this._styleSheet.remove(),this._styleSheet=void 0)}}function gs(s=ze.document.head,e,t){const i=document.createElement("style");if(i.type="text/css",i.media="screen",e==null||e(i),s.appendChild(i),t&&t.add(we(()=>i.remove())),s===ze.document.head){const n=new Set;ka.set(i,n);for(const{window:o,disposables:r}of qd()){if(o===ze)continue;const l=r.add(Kp(i,n,o));t==null||t.add(l)}}return i}function Kp(s,e,t){var o,r;const i=new J,n=s.cloneNode(!0);t.document.head.appendChild(n),i.add(we(()=>n.remove()));for(const l of eu(s))(r=n.sheet)==null||r.insertRule(l.cssText,(o=n.sheet)==null?void 0:o.cssRules.length);return i.add($p.observe(s,i,{childList:!0})(()=>{n.textContent=s.textContent})),e.add(n),i.add(we(()=>e.delete(n))),i}const $p=new class{constructor(){this.mutationObservers=new Map}observe(s,e,t){let i=this.mutationObservers.get(s);i||(i=new Map,this.mutationObservers.set(s,i));const n=Sp(t);let o=i.get(n);if(o)o.users+=1;else{const r=new M,l=new MutationObserver(h=>r.fire(h));l.observe(s,t);const a=o={users:1,observer:l,onDidMutate:r.event};e.add(we(()=>{a.users-=1,a.users===0&&(r.dispose(),l.disconnect(),i==null||i.delete(n),(i==null?void 0:i.size)===0&&this.mutationObservers.delete(s))})),i.set(n,o)}return o.onDidMutate}};let Br=null;function Jd(){return Br||(Br=gs()),Br}function eu(s){var e,t;return(e=s==null?void 0:s.sheet)!=null&&e.rules?s.sheet.rules:(t=s==null?void 0:s.sheet)!=null&&t.cssRules?s.sheet.cssRules:[]}function Wp(s,e,t=Jd()){var i;if(!(!t||!e)){(i=t.sheet)==null||i.insertRule(`${s} {${e}}`,0);for(const n of ka.get(t)??[])Wp(s,e,n)}}function Vp(s,e=Jd()){var n;if(!e)return;const t=eu(e),i=[];for(let o=0;o<t.length;o++){const r=t[o];Up(r)&&r.selectorText.indexOf(s)!==-1&&i.push(o)}for(let o=i.length-1;o>=0;o--)(n=e.sheet)==null||n.deleteRule(i[o]);for(const o of ka.get(e)??[])Vp(s,o)}function Up(s){return typeof s.selectorText=="string"}function Ft(s){return s instanceof HTMLElement||s instanceof le(s).HTMLElement}function B5(s){return s instanceof HTMLAnchorElement||s instanceof le(s).HTMLAnchorElement}function qp(s){return s instanceof SVGElement||s instanceof le(s).SVGElement}function tu(s){return s instanceof MouseEvent||s instanceof le(s).MouseEvent}function ei(s){return s instanceof KeyboardEvent||s instanceof le(s).KeyboardEvent}const $={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",KEY_DOWN:"keydown",KEY_UP:"keyup",BEFORE_UNLOAD:"beforeunload",CHANGE:"change",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend"};function H5(s){const e=s;return!!(e&&typeof e.preventDefault=="function"&&typeof e.stopPropagation=="function")}const oe={stop:(s,e)=>(s.preventDefault(),e&&s.stopPropagation(),s)};function K5(s){const e=[];for(let t=0;s&&s.nodeType===s.ELEMENT_NODE;t++)e[t]=s.scrollTop,s=s.parentNode;return e}function $5(s,e){for(let t=0;s&&s.nodeType===s.ELEMENT_NODE;t++)s.scrollTop!==e[t]&&(s.scrollTop=e[t]),s=s.parentNode}class Mo extends Z{static hasFocusWithin(e){if(Ft(e)){const t=Xd(e),i=t?t.activeElement:e.ownerDocument.activeElement;return St(i,e)}else{const t=e;return St(t.document.activeElement,t.document)}}constructor(e){super(),this._onDidFocus=this._register(new M),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new M),this.onDidBlur=this._onDidBlur.event;let t=Mo.hasFocusWithin(e),i=!1;const n=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},o=()=>{t&&(i=!0,(Ft(e)?le(e):e).setTimeout(()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{Mo.hasFocusWithin(e)!==t&&(t?o():n())},this._register(R(e,$.FOCUS,n,!0)),this._register(R(e,$.BLUR,o,!0)),Ft(e)&&(this._register(R(e,$.FOCUS_IN,()=>this._refreshStateHandler())),this._register(R(e,$.FOCUS_OUT,()=>this._refreshStateHandler())))}}function su(s){return new Mo(s)}function Gp(s,e){return s.after(e),e}function Y(s,...e){if(s.append(...e),e.length===1&&typeof e[0]!="string")return e[0]}function W5(s,e){return s.insertBefore(e,s.firstChild),e}function _n(s,...e){s.innerText="",Y(s,...e)}const Yp=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var wn;(function(s){s.HTML="http://www.w3.org/1999/xhtml",s.SVG="http://www.w3.org/2000/svg"})(wn||(wn={}));function iu(s,e,t,...i){const n=Yp.exec(e);if(!n)throw new Error("Bad use of emmet");const o=n[1]||"div";let r;return s!==wn.HTML?r=document.createElementNS(s,o):r=document.createElement(o),n[3]&&(r.id=n[3]),n[4]&&(r.className=n[4].replace(/\./g," ").trim()),t&&Object.entries(t).forEach(([l,a])=>{typeof a>"u"||(/^on\w+$/.test(l)?r[l]=a:l==="selected"?a&&r.setAttribute(l,"true"):r.setAttribute(l,a))}),r.append(...i),r}function X(s,e,...t){return iu(wn.HTML,s,e,...t)}X.SVG=function(s,e,...t){return iu(wn.SVG,s,e,...t)};function V5(s,...e){s?Na(...e):Il(...e)}function Na(...s){for(const e of s)e.style.display="",e.removeAttribute("aria-hidden")}function Il(...s){for(const e of s)e.style.display="none",e.setAttribute("aria-hidden","true")}function U5(s,e){const t=s.devicePixelRatio*e;return Math.max(1,Math.floor(t))/s.devicePixelRatio}function q5(s){ze.open(s,"_blank","noopener")}function jp(s,e){const t=()=>{e(),i=es(s,t)};let i=es(s,t);return we(()=>i.dispose())}Ud.setPreferredWebSchema(/^https:/.test(ze.location.href)?"https":"http");function Xp(s){return s?`url('${Sa.uriToBrowserUri(s).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function G5(s){return`'${s.replace(/'/g,"%27")}'`}function ms(s,e){if(s!==void 0){const t=s.match(/^\s*var\((.+)\)$/);if(t){const i=t[1].split(",",2);return i.length===2&&(e=ms(i[1].trim(),e)),`var(${i[0]}, ${e})`}return s}return e}function Zp(s,e=!1){const t=document.createElement("a");return Wd("afterSanitizeAttributes",i=>{for(const n of["href","src"])if(i.hasAttribute(n)){const o=i.getAttribute(n);if(n==="href"&&o.startsWith("#"))continue;if(t.href=o,!s.includes(t.protocol.replace(/:$/,""))){if(e&&n==="src"&&t.href.startsWith("data:"))continue;i.removeAttribute(n)}}}),we(()=>{Vd("afterSanitizeAttributes")})}const Qp=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);class sn extends M{constructor(){super(),this._subscriptions=new J,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(P.runAndSubscribe(Gd,({window:e,disposables:t})=>this.registerListeners(e,t),{window:ze,disposables:this._subscriptions}))}registerListeners(e,t){t.add(R(e,"keydown",i=>{if(i.defaultPrevented)return;const n=new Re(i);if(!(n.keyCode===6&&i.repeat)){if(i.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(i.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(i.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(i.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(n.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=i.altKey,this._keyStatus.ctrlKey=i.ctrlKey,this._keyStatus.metaKey=i.metaKey,this._keyStatus.shiftKey=i.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=i,this.fire(this._keyStatus))}},!0)),t.add(R(e,"keyup",i=>{i.defaultPrevented||(!i.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!i.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!i.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!i.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=i.altKey,this._keyStatus.ctrlKey=i.ctrlKey,this._keyStatus.metaKey=i.metaKey,this._keyStatus.shiftKey=i.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=i,this.fire(this._keyStatus)))},!0)),t.add(R(e.document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),t.add(R(e.document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),t.add(R(e.document.body,"mousemove",i=>{i.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),t.add(R(e,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return sn.instance||(sn.instance=new sn),sn.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class Y5 extends Z{constructor(e,t){super(),this.element=e,this.callbacks=t,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this.callbacks.onDragStart&&this._register(R(this.element,$.DRAG_START,e=>{var t,i;(i=(t=this.callbacks).onDragStart)==null||i.call(t,e)})),this.callbacks.onDrag&&this._register(R(this.element,$.DRAG,e=>{var t,i;(i=(t=this.callbacks).onDrag)==null||i.call(t,e)})),this._register(R(this.element,$.DRAG_ENTER,e=>{var t,i;this.counter++,this.dragStartTime=e.timeStamp,(i=(t=this.callbacks).onDragEnter)==null||i.call(t,e)})),this._register(R(this.element,$.DRAG_OVER,e=>{var t,i;e.preventDefault(),(i=(t=this.callbacks).onDragOver)==null||i.call(t,e,e.timeStamp-this.dragStartTime)})),this._register(R(this.element,$.DRAG_LEAVE,e=>{var t,i;this.counter--,this.counter===0&&(this.dragStartTime=0,(i=(t=this.callbacks).onDragLeave)==null||i.call(t,e))})),this._register(R(this.element,$.DRAG_END,e=>{var t,i;this.counter=0,this.dragStartTime=0,(i=(t=this.callbacks).onDragEnd)==null||i.call(t,e)})),this._register(R(this.element,$.DROP,e=>{var t,i;this.counter=0,this.dragStartTime=0,(i=(t=this.callbacks).onDrop)==null||i.call(t,e)}))}}const nu=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function j5(s,...e){let t,i;Array.isArray(e[0])?(t={},i=e[0]):(t=e[0]||{},i=e[1]);const n=nu.exec(s);if(!n||!n.groups)throw new Error("Bad use of h");const o=n.groups.tag||"div",r=document.createElement(o);n.groups.id&&(r.id=n.groups.id);const l=[];if(n.groups.class)for(const h of n.groups.class.split("."))h!==""&&l.push(h);if(t.className!==void 0)for(const h of t.className.split("."))h!==""&&l.push(h);l.length>0&&(r.className=l.join(" "));const a={};if(n.groups.name&&(a[n.groups.name]=r),i)for(const h of i)Ft(h)?r.appendChild(h):typeof h=="string"?r.append(h):"root"in h&&(Object.assign(a,h),r.appendChild(h.root));for(const[h,d]of Object.entries(t))if(h!=="className")if(h==="style")for(const[u,f]of Object.entries(d))r.style.setProperty(Oo(u),typeof f=="number"?f+"px":""+f);else h==="tabIndex"?r.tabIndex=d:r.setAttribute(Oo(h),d.toString());return a.root=r,a}function X5(s,...e){let t,i;Array.isArray(e[0])?(t={},i=e[0]):(t=e[0]||{},i=e[1]);const n=nu.exec(s);if(!n||!n.groups)throw new Error("Bad use of h");const o=n.groups.tag||"div",r=document.createElementNS("http://www.w3.org/2000/svg",o);n.groups.id&&(r.id=n.groups.id);const l=[];if(n.groups.class)for(const h of n.groups.class.split("."))h!==""&&l.push(h);if(t.className!==void 0)for(const h of t.className.split("."))h!==""&&l.push(h);l.length>0&&(r.className=l.join(" "));const a={};if(n.groups.name&&(a[n.groups.name]=r),i)for(const h of i)Ft(h)?r.appendChild(h):typeof h=="string"?r.append(h):"root"in h&&(Object.assign(a,h),r.appendChild(h.root));for(const[h,d]of Object.entries(t))if(h!=="className")if(h==="style")for(const[u,f]of Object.entries(d))r.style.setProperty(Oo(u),typeof f=="number"?f+"px":""+f);else h==="tabIndex"?r.tabIndex=d:r.setAttribute(Oo(h),d.toString());return a.root=r,a}function Oo(s){return s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}class Jp extends Z{constructor(e){super(),this._onDidChange=this._register(new M),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(e,!0),this._mediaQueryList=null,this._handleChange(e,!1)}_handleChange(e,t){var i;(i=this._mediaQueryList)==null||i.removeEventListener("change",this._listener),this._mediaQueryList=e.matchMedia(`(resolution: ${e.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),t&&this._onDidChange.fire()}}class em extends Z{get value(){return this._value}constructor(e){super(),this._onDidChange=this._register(new M),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio(e);const t=this._register(new Jp(e));this._register(t.onDidChange(()=>{this._value=this._getPixelRatio(e),this._onDidChange.fire(this._value)}))}_getPixelRatio(e){const t=document.createElement("canvas").getContext("2d"),i=e.devicePixelRatio||1,n=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return i/n}}class tm{constructor(){this.mapWindowIdToPixelRatioMonitor=new Map}_getOrCreatePixelRatioMonitor(e){const t=Al(e);let i=this.mapWindowIdToPixelRatioMonitor.get(t);return i||(i=new em(e),this.mapWindowIdToPixelRatioMonitor.set(t,i),P.once(Np)(({vscodeWindowId:n})=>{n===t&&(i==null||i.dispose(),this.mapWindowIdToPixelRatioMonitor.delete(t))})),i}getInstance(e){return this._getOrCreatePixelRatioMonitor(e)}}const Z5=new tm;class sm{constructor(e){this.domNode=e,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){const t=Lt(e);this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth)}setWidth(e){const t=Lt(e);this._width!==t&&(this._width=t,this.domNode.style.width=this._width)}setHeight(e){const t=Lt(e);this._height!==t&&(this._height=t,this.domNode.style.height=this._height)}setTop(e){const t=Lt(e);this._top!==t&&(this._top=t,this.domNode.style.top=this._top)}setLeft(e){const t=Lt(e);this._left!==t&&(this._left=t,this.domNode.style.left=this._left)}setBottom(e){const t=Lt(e);this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom)}setRight(e){const t=Lt(e);this._right!==t&&(this._right=t,this.domNode.style.right=this._right)}setPaddingLeft(e){const t=Lt(e);this._paddingLeft!==t&&(this._paddingLeft=t,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){const t=Lt(e);this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize)}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(e){this._fontVariationSettings!==e&&(this._fontVariationSettings=e,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){const t=Lt(e);this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(e){const t=Lt(e);this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}}function Lt(s){return typeof s=="number"?`${s}px`:s}function rn(s){return new sm(s)}class Ta extends Z{constructor(e,t="",i="",n=!0,o){super(),this._onDidChange=this._register(new M),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=e,this._label=t,this._cssClass=i,this._enabled=n,this._actionCallback=o}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}async run(e,t){this._actionCallback&&await this._actionCallback(e)}}class Aa extends Z{constructor(){super(...arguments),this._onWillRun=this._register(new M),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new M),this.onDidRun=this._onDidRun.event}async run(e,t){if(!e.enabled)return;this._onWillRun.fire({action:e});let i;try{await this.runAction(e,t)}catch(n){i=n}this._onDidRun.fire({action:e,error:i})}async runAction(e,t){await e.run(t)}}const un=class un{constructor(){this.id=un.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...e){let t=[];for(const i of e)i.length&&(t.length?t=[...t,new un,...i]:t=i);return t}async run(){}};un.ID="vs.actions.separator";let Xt=un;class ou{get actions(){return this._actions}constructor(e,t,i,n){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=e,this.label=t,this.class=n,this._actions=i}async run(){}}const Jo=class Jo extends Ta{constructor(){super(Jo.ID,ie("submenu.empty","(empty)"),void 0,!1)}};Jo.ID="vs.actions.empty";let Pl=Jo;function Q5(s){return{id:s.id,label:s.label,tooltip:s.tooltip??s.label,class:s.class,enabled:s.enabled??!0,checked:s.checked,run:async(...e)=>s.run(...e)}}var Rl;(function(s){function e(t){return t&&typeof t=="object"&&typeof t.id=="string"}s.isThemeColor=e})(Rl||(Rl={}));var We;(function(s){s.iconNameSegment="[A-Za-z0-9]+",s.iconNameExpression="[A-Za-z0-9-]+",s.iconModifierExpression="~[A-Za-z]+",s.iconNameCharacter="[A-Za-z0-9~-]";const e=new RegExp(`^(${s.iconNameExpression})(${s.iconModifierExpression})?$`);function t(f){const g=e.exec(f.id);if(!g)return t($e.error);const[,y,_]=g,D=["codicon","codicon-"+y];return _&&D.push("codicon-modifier-"+_.substring(1)),D}s.asClassNameArray=t;function i(f){return t(f).join(" ")}s.asClassName=i;function n(f){return"."+t(f).join(".")}s.asCSSSelector=n;function o(f){return f&&typeof f=="object"&&typeof f.id=="string"&&(typeof f.color>"u"||Rl.isThemeColor(f.color))}s.isThemeIcon=o;const r=new RegExp(`^\\$\\((${s.iconNameExpression}(?:${s.iconModifierExpression})?)\\)$`);function l(f){const g=r.exec(f);if(!g)return;const[,y]=g;return{id:y}}s.fromString=l;function a(f){return{id:f}}s.fromId=a;function h(f,g){let y=f.id;const _=y.lastIndexOf("~");return _!==-1&&(y=y.substring(0,_)),g&&(y=`${y}~${g}`),{id:y}}s.modify=h;function d(f){const g=f.id.lastIndexOf("~");if(g!==-1)return f.id.substring(g+1)}s.getModifier=d;function u(f,g){var y,_;return f.id===g.id&&((y=f.color)==null?void 0:y.id)===((_=g.color)==null?void 0:_.id)}s.isEqual=u})(We||(We={}));function J5(s,e){if(!s)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}function e7(s,e="Unreachable"){throw new Error(e)}function t7(s){s||ft(new Bs("Soft Assertion Failed"))}function ru(s){if(!s()){debugger;s(),ft(new Bs("Assertion Failed"))}}function s7(s,e){let t=0;for(;t<s.length-1;){const i=s[t],n=s[t+1];if(!e(i,n))return!1;t++}return!0}const Mh="default",im="$initialize";let Oh=!1;function nm(s){dd&&(Oh||(Oh=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(s.message))}class om{constructor(e,t,i,n,o){this.vsWorker=e,this.req=t,this.channel=i,this.method=n,this.args=o,this.type=0}}class Fh{constructor(e,t,i,n){this.vsWorker=e,this.seq=t,this.res=i,this.err=n,this.type=1}}class rm{constructor(e,t,i,n,o){this.vsWorker=e,this.req=t,this.channel=i,this.eventName=n,this.arg=o,this.type=2}}class lm{constructor(e,t,i){this.vsWorker=e,this.req=t,this.event=i,this.type=3}}class am{constructor(e,t){this.vsWorker=e,this.req=t,this.type=4}}class hm{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(e){this._workerId=e}sendMessage(e,t,i){const n=String(++this._lastSentReq);return new Promise((o,r)=>{this._pendingReplies[n]={resolve:o,reject:r},this._send(new om(this._workerId,n,e,t,i))})}listen(e,t,i){let n=null;const o=new M({onWillAddFirstListener:()=>{n=String(++this._lastSentReq),this._pendingEmitters.set(n,o),this._send(new rm(this._workerId,n,e,t,i))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(n),this._send(new am(this._workerId,n)),n=null}});return o.event}handleMessage(e){!e||!e.vsWorker||this._workerId!==-1&&e.vsWorker!==this._workerId||this._handleMessage(e)}createProxyToRemoteChannel(e,t){const i={get:(n,o)=>(typeof o=="string"&&!n[o]&&(au(o)?n[o]=r=>this.listen(e,o,r):lu(o)?n[o]=this.listen(e,o,void 0):o.charCodeAt(0)===36&&(n[o]=async(...r)=>(await(t==null?void 0:t()),this.sendMessage(e,o,r)))),n[o])};return new Proxy(Object.create(null),i)}_handleMessage(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e)}}_handleReplyMessage(e){if(!this._pendingReplies[e.seq]){console.warn("Got reply to unknown seq");return}const t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){let i=e.err;e.err.$isError&&(i=new Error,i.name=e.err.name,i.message=e.err.message,i.stack=e.err.stack),t.reject(i);return}t.resolve(e.res)}_handleRequestMessage(e){const t=e.req;this._handler.handleMessage(e.channel,e.method,e.args).then(n=>{this._send(new Fh(this._workerId,t,n,void 0))},n=>{n.detail instanceof Error&&(n.detail=uh(n.detail)),this._send(new Fh(this._workerId,t,void 0,uh(n)))})}_handleSubscribeEventMessage(e){const t=e.req,i=this._handler.handleEvent(e.channel,e.eventName,e.arg)(n=>{this._send(new lm(this._workerId,t,n))});this._pendingEvents.set(t,i)}_handleEventMessage(e){if(!this._pendingEmitters.has(e.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(e.req).fire(e.event)}_handleUnsubscribeEventMessage(e){if(!this._pendingEvents.has(e.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(e.req).dispose(),this._pendingEvents.delete(e.req)}_send(e){const t=[];if(e.type===0)for(let i=0;i<e.args.length;i++)e.args[i]instanceof ArrayBuffer&&t.push(e.args[i]);else e.type===1&&e.res instanceof ArrayBuffer&&t.push(e.res);this._handler.sendMessage(e,t)}}class cm extends Z{constructor(e,t){super(),this._localChannels=new Map,this._worker=this._register(e.create({amdModuleId:"vs/base/common/worker/simpleWorker",esmModuleLocation:t.esmModuleLocation,label:t.label},o=>{this._protocol.handleMessage(o)},o=>{ft(o)})),this._protocol=new hm({sendMessage:(o,r)=>{this._worker.postMessage(o,r)},handleMessage:(o,r,l)=>this._handleMessage(o,r,l),handleEvent:(o,r,l)=>this._handleEvent(o,r,l)}),this._protocol.setWorkerId(this._worker.getId());let i=null;const n=globalThis.require;typeof n<"u"&&typeof n.getConfig=="function"?i=n.getConfig():typeof globalThis.requirejs<"u"&&(i=globalThis.requirejs.s.contexts._.config),this._onModuleLoaded=this._protocol.sendMessage(Mh,im,[this._worker.getId(),JSON.parse(JSON.stringify(i)),t.amdModuleId]),this.proxy=this._protocol.createProxyToRemoteChannel(Mh,async()=>{await this._onModuleLoaded}),this._onModuleLoaded.catch(o=>{this._onError("Worker failed to load "+t.amdModuleId,o)})}_handleMessage(e,t,i){const n=this._localChannels.get(e);if(!n)return Promise.reject(new Error(`Missing channel ${e} on main thread`));if(typeof n[t]!="function")return Promise.reject(new Error(`Missing method ${t} on main thread channel ${e}`));try{return Promise.resolve(n[t].apply(n,i))}catch(o){return Promise.reject(o)}}_handleEvent(e,t,i){const n=this._localChannels.get(e);if(!n)throw new Error(`Missing channel ${e} on main thread`);if(au(t)){const o=n[t].call(n,i);if(typeof o!="function")throw new Error(`Missing dynamic event ${t} on main thread channel ${e}.`);return o}if(lu(t)){const o=n[t];if(typeof o!="function")throw new Error(`Missing event ${t} on main thread channel ${e}.`);return o}throw new Error(`Malformed event name ${t}`)}setChannel(e,t){this._localChannels.set(e,t)}_onError(e,t){console.error(e),console.info(t)}}function lu(s){return s[0]==="o"&&s[1]==="n"&&Nd(s.charCodeAt(2))}function au(s){return/^onDynamic/.test(s)&&Nd(s.charCodeAt(9))}function dm(s,e){var i;const t=globalThis.MonacoEnvironment;if(t!=null&&t.createTrustedTypesPolicy)try{return t.createTrustedTypesPolicy(s,e)}catch(n){ft(n);return}try{return(i=globalThis.trustedTypes)==null?void 0:i.createPolicy(s,e)}catch(n){ft(n);return}}let vi;typeof self=="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope"&&globalThis.workerttPolicy!==void 0?vi=globalThis.workerttPolicy:vi=dm("defaultWorkerFactory",{createScriptURL:s=>s});function um(s,e){const t=globalThis.MonacoEnvironment;if(t){if(typeof t.getWorker=="function")return t.getWorker("workerMain.js",e);if(typeof t.getWorkerUrl=="function"){const i=t.getWorkerUrl("workerMain.js",e);return new Worker(vi?vi.createScriptURL(i):i,{name:e,type:"module"})}}if(s){const i=fm(e,s.toString(!0)),n=new Worker(vi?vi.createScriptURL(i):i,{name:e,type:"module"});return pm(n)}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function fm(s,e,t){if(!(/^((http:)|(https:)|(file:)|(vscode-file:))/.test(e)&&e.substring(0,globalThis.origin.length)!==globalThis.origin)){const o=e.lastIndexOf("?"),r=e.lastIndexOf("#",o),l=o>0?new URLSearchParams(e.substring(o+1,~r?r:void 0)):new URLSearchParams;Tl.addSearchParam(l,!0,!0),l.toString()?e=`${e}?${l.toString()}#${s}`:e=`${e}#${s}`}const n=new Blob([id([`/*${s}*/`,void 0,`globalThis._VSCODE_NLS_MESSAGES = ${JSON.stringify(ld())};`,`globalThis._VSCODE_NLS_LANGUAGE = ${JSON.stringify(la())};`,`globalThis._VSCODE_FILE_ROOT = '${globalThis._VSCODE_FILE_ROOT}';`,"const ttPolicy = globalThis.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });","globalThis.workerttPolicy = ttPolicy;",`await import(ttPolicy?.createScriptURL('${e}') ?? '${e}');`,"globalThis.postMessage({ type: 'vscode-worker-ready' });",`/*${s}*/`]).join("")],{type:"application/javascript"});return URL.createObjectURL(n)}function pm(s){return new Promise((e,t)=>{s.onmessage=function(i){i.data.type==="vscode-worker-ready"&&(s.onmessage=null,e(s))},s.onerror=t})}function mm(s){return typeof s.then=="function"}class gm extends Z{constructor(e,t,i,n,o,r){super(),this.id=i,this.label=n;const l=um(e,n);mm(l)?this.worker=l:this.worker=Promise.resolve(l),this.postMessage(t,[]),this.worker.then(a=>{a.onmessage=function(h){o(h.data)},a.onmessageerror=r,typeof a.addEventListener=="function"&&a.addEventListener("error",r)}),this._register(we(()=>{var a;(a=this.worker)==null||a.then(h=>{h.onmessage=null,h.onmessageerror=null,h.removeEventListener("error",r),h.terminate()}),this.worker=null}))}getId(){return this.id}postMessage(e,t){var i;(i=this.worker)==null||i.then(n=>{try{n.postMessage(e,t)}catch(o){ft(o),ft(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:o}))}})}}class bm{constructor(e,t){this.amdModuleId=e,this.label=t,this.esmModuleLocation=Sa.asBrowserUri(`${e}.esm.js`)}}const er=class er{constructor(){this._webWorkerFailedBeforeError=!1}create(e,t,i){const n=++er.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new gm(e.esmModuleLocation,e.amdModuleId,n,e.label||"anonymous"+n,t,o=>{nm(o),this._webWorkerFailedBeforeError=o,i(o)})}};er.LAST_WORKER_ID=0;let Ml=er;function i7(s,e){const t=typeof s=="string"?new bm(s,e):s;return new cm(new Ml,t)}const zh=typeof Buffer<"u";let Hr;class La{static wrap(e){return zh&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new La(e)}constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}toString(){return zh?this.buffer.toString():(Hr||(Hr=new TextDecoder),Hr.decode(this.buffer))}}function n7(s,e){return s[e+0]<<0>>>0|s[e+1]<<8>>>0}function o7(s,e,t){s[t+0]=e&255,e=e>>>8,s[t+1]=e&255}function r7(s,e){return s[e]*2**24+s[e+1]*2**16+s[e+2]*2**8+s[e+3]}function l7(s,e,t){s[t+3]=e,e=e>>>8,s[t+2]=e,e=e>>>8,s[t+1]=e,e=e>>>8,s[t]=e}function a7(s,e){return s[e]}function h7(s,e,t){s[t]=e}const _m=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"});class ks{constructor(e,t,i,n){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=n}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}class Bh{constructor(e){this.source=e}getElements(){const e=this.source,t=new Int32Array(e.length);for(let i=0,n=e.length;i<n;i++)t[i]=e.charCodeAt(i);return t}}function c7(s,e,t){return new Ns(new Bh(s),new Bh(e)).ComputeDiff(t).changes}class mi{static Assert(e,t){if(!e)throw new Error(t)}}class gi{static Copy(e,t,i,n,o){for(let r=0;r<o;r++)i[n+r]=e[t+r]}static Copy2(e,t,i,n,o){for(let r=0;r<o;r++)i[n+r]=e[t+r]}}class Hh{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new ks(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class Ns{constructor(e,t,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=e,this._modifiedSequence=t;const[n,o,r]=Ns._getElements(e),[l,a,h]=Ns._getElements(t);this._hasStrings=r&&h,this._originalStringElements=n,this._originalElementsOrHash=o,this._modifiedStringElements=l,this._modifiedElementsOrHash=a,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&typeof e[0]=="string"}static _getElements(e){const t=e.getElements();if(Ns._isStringArray(t)){const i=new Int32Array(t.length);for(let n=0,o=t.length;n<o;n++)i[n]=xa(t[n],0);return[t,i,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._modifiedStringElements[t]:!0}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t))return!1;const i=Ns._getStrictElement(this._originalSequence,e),n=Ns._getStrictElement(this._modifiedSequence,t);return i===n}static _getStrictElement(e,t){return typeof e.getStrictElement=="function"?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._originalElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._originalStringElements[t]:!0}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._modifiedStringElements[e]===this._modifiedStringElements[t]:!0}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,i,n,o){const r=[!1];let l=this.ComputeDiffRecursive(e,t,i,n,r);return o&&(l=this.PrettifyChanges(l)),{quitEarly:r[0],changes:l}}ComputeDiffRecursive(e,t,i,n,o){for(o[0]=!1;e<=t&&i<=n&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&n>=i&&this.ElementsAreEqual(t,n);)t--,n--;if(e>t||i>n){let u;return i<=n?(mi.Assert(e===t+1,"originalStart should only be one more than originalEnd"),u=[new ks(e,0,i,n-i+1)]):e<=t?(mi.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd"),u=[new ks(e,t-e+1,i,0)]):(mi.Assert(e===t+1,"originalStart should only be one more than originalEnd"),mi.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd"),u=[]),u}const r=[0],l=[0],a=this.ComputeRecursionPoint(e,t,i,n,r,l,o),h=r[0],d=l[0];if(a!==null)return a;if(!o[0]){const u=this.ComputeDiffRecursive(e,h,i,d,o);let f=[];return o[0]?f=[new ks(h+1,t-(h+1)+1,d+1,n-(d+1)+1)]:f=this.ComputeDiffRecursive(h+1,t,d+1,n,o),this.ConcatenateChanges(u,f)}return[new ks(e,t-e+1,i,n-i+1)]}WALKTRACE(e,t,i,n,o,r,l,a,h,d,u,f,g,y,_,D,L,N){let K=null,T=null,E=new Hh,I=t,A=i,k=g[0]-D[0]-n,q=-1073741824,be=this.m_forwardHistory.length-1;do{const ee=k+e;ee===I||ee<A&&h[ee-1]<h[ee+1]?(u=h[ee+1],y=u-k-n,u<q&&E.MarkNextChange(),q=u,E.AddModifiedElement(u+1,y),k=ee+1-e):(u=h[ee-1]+1,y=u-k-n,u<q&&E.MarkNextChange(),q=u-1,E.AddOriginalElement(u,y+1),k=ee-1-e),be>=0&&(h=this.m_forwardHistory[be],e=h[0],I=1,A=h.length-1)}while(--be>=-1);if(K=E.getReverseChanges(),N[0]){let ee=g[0]+1,Q=D[0]+1;if(K!==null&&K.length>0){const B=K[K.length-1];ee=Math.max(ee,B.getOriginalEnd()),Q=Math.max(Q,B.getModifiedEnd())}T=[new ks(ee,f-ee+1,Q,_-Q+1)]}else{E=new Hh,I=r,A=l,k=g[0]-D[0]-a,q=1073741824,be=L?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const ee=k+o;ee===I||ee<A&&d[ee-1]>=d[ee+1]?(u=d[ee+1]-1,y=u-k-a,u>q&&E.MarkNextChange(),q=u+1,E.AddOriginalElement(u+1,y+1),k=ee+1-o):(u=d[ee-1],y=u-k-a,u>q&&E.MarkNextChange(),q=u,E.AddModifiedElement(u+1,y+1),k=ee-1-o),be>=0&&(d=this.m_reverseHistory[be],o=d[0],I=1,A=d.length-1)}while(--be>=-1);T=E.getChanges()}return this.ConcatenateChanges(K,T)}ComputeRecursionPoint(e,t,i,n,o,r,l){let a=0,h=0,d=0,u=0,f=0,g=0;e--,i--,o[0]=0,r[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const y=t-e+(n-i),_=y+1,D=new Int32Array(_),L=new Int32Array(_),N=n-i,K=t-e,T=e-i,E=t-n,A=(K-N)%2===0;D[N]=e,L[K]=t,l[0]=!1;for(let k=1;k<=y/2+1;k++){let q=0,be=0;d=this.ClipDiagonalBound(N-k,k,N,_),u=this.ClipDiagonalBound(N+k,k,N,_);for(let Q=d;Q<=u;Q+=2){Q===d||Q<u&&D[Q-1]<D[Q+1]?a=D[Q+1]:a=D[Q-1]+1,h=a-(Q-N)-T;const B=a;for(;a<t&&h<n&&this.ElementsAreEqual(a+1,h+1);)a++,h++;if(D[Q]=a,a+h>q+be&&(q=a,be=h),!A&&Math.abs(Q-K)<=k-1&&a>=L[Q])return o[0]=a,r[0]=h,B<=L[Q]&&k<=1448?this.WALKTRACE(N,d,u,T,K,f,g,E,D,L,a,t,o,h,n,r,A,l):null}const ee=(q-e+(be-i)-k)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(q,ee))return l[0]=!0,o[0]=q,r[0]=be,ee>0&&k<=1448?this.WALKTRACE(N,d,u,T,K,f,g,E,D,L,a,t,o,h,n,r,A,l):(e++,i++,[new ks(e,t-e+1,i,n-i+1)]);f=this.ClipDiagonalBound(K-k,k,K,_),g=this.ClipDiagonalBound(K+k,k,K,_);for(let Q=f;Q<=g;Q+=2){Q===f||Q<g&&L[Q-1]>=L[Q+1]?a=L[Q+1]-1:a=L[Q-1],h=a-(Q-K)-E;const B=a;for(;a>e&&h>i&&this.ElementsAreEqual(a,h);)a--,h--;if(L[Q]=a,A&&Math.abs(Q-N)<=k&&a<=D[Q])return o[0]=a,r[0]=h,B>=D[Q]&&k<=1448?this.WALKTRACE(N,d,u,T,K,f,g,E,D,L,a,t,o,h,n,r,A,l):null}if(k<=1447){let Q=new Int32Array(u-d+2);Q[0]=N-d+1,gi.Copy2(D,d,Q,1,u-d+1),this.m_forwardHistory.push(Q),Q=new Int32Array(g-f+2),Q[0]=K-f+1,gi.Copy2(L,f,Q,1,g-f+1),this.m_reverseHistory.push(Q)}}return this.WALKTRACE(N,d,u,T,K,f,g,E,D,L,a,t,o,h,n,r,A,l)}PrettifyChanges(e){for(let t=0;t<e.length;t++){const i=e[t],n=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,o=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,r=i.originalLength>0,l=i.modifiedLength>0;for(;i.originalStart+i.originalLength<n&&i.modifiedStart+i.modifiedLength<o&&(!r||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!l||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){const h=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!h)break;i.originalStart++,i.modifiedStart++}const a=[null];if(t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],a)){e[t]=a[0],e.splice(t+1,1),t--;continue}}for(let t=e.length-1;t>=0;t--){const i=e[t];let n=0,o=0;if(t>0){const u=e[t-1];n=u.originalStart+u.originalLength,o=u.modifiedStart+u.modifiedLength}const r=i.originalLength>0,l=i.modifiedLength>0;let a=0,h=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let u=1;;u++){const f=i.originalStart-u,g=i.modifiedStart-u;if(f<n||g<o||r&&!this.OriginalElementsAreEqual(f,f+i.originalLength)||l&&!this.ModifiedElementsAreEqual(g,g+i.modifiedLength))break;const _=(f===n&&g===o?5:0)+this._boundaryScore(f,i.originalLength,g,i.modifiedLength);_>h&&(h=_,a=u)}i.originalStart-=a,i.modifiedStart-=a;const d=[null];if(t>0&&this.ChangesOverlap(e[t-1],e[t],d)){e[t-1]=d[0],e.splice(t,1),t++;continue}}if(this._hasStrings)for(let t=1,i=e.length;t<i;t++){const n=e[t-1],o=e[t],r=o.originalStart-n.originalStart-n.originalLength,l=n.originalStart,a=o.originalStart+o.originalLength,h=a-l,d=n.modifiedStart,u=o.modifiedStart+o.modifiedLength,f=u-d;if(r<5&&h<20&&f<20){const g=this._findBetterContiguousSequence(l,h,d,f,r);if(g){const[y,_]=g;(y!==n.originalStart+n.originalLength||_!==n.modifiedStart+n.modifiedLength)&&(n.originalLength=y-n.originalStart,n.modifiedLength=_-n.modifiedStart,o.originalStart=y+r,o.modifiedStart=_+r,o.originalLength=a-o.originalStart,o.modifiedLength=u-o.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,i,n,o){if(t<o||n<o)return null;const r=e+t-o+1,l=i+n-o+1;let a=0,h=0,d=0;for(let u=e;u<r;u++)for(let f=i;f<l;f++){const g=this._contiguousSequenceScore(u,f,o);g>0&&g>a&&(a=g,h=u,d=f)}return a>0?[h,d]:null}_contiguousSequenceScore(e,t,i){let n=0;for(let o=0;o<i;o++){if(!this.ElementsAreEqual(e+o,t+o))return 0;n+=this._originalStringElements[e+o].length}return n}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(e,t,i,n){const o=this._OriginalRegionIsBoundary(e,t)?1:0,r=this._ModifiedRegionIsBoundary(i,n)?1:0;return o+r}ConcatenateChanges(e,t){const i=[];if(e.length===0||t.length===0)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){const n=new Array(e.length+t.length-1);return gi.Copy(e,0,n,0,e.length-1),n[e.length-1]=i[0],gi.Copy(t,1,n,e.length,t.length-1),n}else{const n=new Array(e.length+t.length);return gi.Copy(e,0,n,0,e.length),gi.Copy(t,0,n,e.length,t.length),n}}ChangesOverlap(e,t,i){if(mi.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),mi.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){const n=e.originalStart;let o=e.originalLength;const r=e.modifiedStart;let l=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(o=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(l=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new ks(n,o,r,l),!0}else return i[0]=null,!1}ClipDiagonalBound(e,t,i,n){if(e>=0&&e<n)return e;const o=i,r=n-i-1,l=t%2===0;if(e<0){const a=o%2===0;return l===a?0:1}else{const a=r%2===0;return l===a?n-1:n-2}}}function d7(s){return s<0?0:s>255?255:s|0}function u7(s){return s<0?0:s>4294967295?4294967295:s|0}var Kh,$h;class wm{constructor(e,t){this.uri=e,this.value=t}}function ym(s){return Array.isArray(s)}const ni=class ni{constructor(e,t){if(this[Kh]="ResourceMap",e instanceof ni)this.map=new Map(e.map),this.toKey=t??ni.defaultToKey;else if(ym(e)){this.map=new Map,this.toKey=t??ni.defaultToKey;for(const[i,n]of e)this.set(i,n)}else this.map=new Map,this.toKey=e??ni.defaultToKey}set(e,t){return this.map.set(this.toKey(e),new wm(e,t)),this}get(e){var t;return(t=this.map.get(this.toKey(e)))==null?void 0:t.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){typeof t<"u"&&(e=e.bind(t));for(const[i,n]of this.map)e(n.value,n.uri,this)}*values(){for(const e of this.map.values())yield e.value}*keys(){for(const e of this.map.values())yield e.uri}*entries(){for(const e of this.map.values())yield[e.uri,e.value]}*[(Kh=Symbol.toStringTag,Symbol.iterator)](){for(const[,e]of this.map)yield[e.uri,e.value]}};ni.defaultToKey=e=>e.toString();let Wh=ni;class vm{constructor(){this[$h]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)==null?void 0:e.value}get last(){var e;return(e=this._tail)==null?void 0:e.value}has(e){return this._map.has(e)}get(e,t=0){const i=this._map.get(e);if(i)return t!==0&&this.touch(i,t),i.value}set(e,t,i=0){let n=this._map.get(e);if(n)n.value=t,i!==0&&this.touch(n,i);else{switch(n={key:e,value:t,next:void 0,previous:void 0},i){case 0:this.addItemLast(n);break;case 1:this.addItemFirst(n);break;case 2:this.addItemLast(n);break;default:this.addItemLast(n);break}this._map.set(e,n),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const i=this._state;let n=this._head;for(;n;){if(t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator](){return n},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const o={value:i.key,done:!1};return i=i.next,o}else return{value:void 0,done:!0}}};return n}values(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator](){return n},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const o={value:i.value,done:!1};return i=i.next,o}else return{value:void 0,done:!0}}};return n}entries(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator](){return n},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const o={value:[i.key,i.value],done:!1};return i=i.next,o}else return{value:void 0,done:!0}}};return n}[($h=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.next,i--;this._head=t,this._size=i,t&&(t.previous=void 0),this._state++}trimNew(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._tail,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.previous,i--;this._tail=t,this._size=i,t&&(t.next=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,i=e.previous;if(!t||!i)throw new Error("Invalid list");t.previous=i,i.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(e===this._head)return;const i=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(i.previous=n,n.next=i),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===2){if(e===this._tail)return;const i=e.next,n=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=n,n.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){const e=[];return this.forEach((t,i)=>{e.push([i,t])}),e}fromJSON(e){this.clear();for(const[t,i]of e)this.set(t,i)}}class Sm extends vm{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}}class hu extends Sm{constructor(e,t=1){super(e,t)}trim(e){this.trimOld(e)}set(e,t){return super.set(e,t),this.checkTrim(),this}}class f7{constructor(e){if(this._m1=new Map,this._m2=new Map,e)for(const[t,i]of e)this.set(t,i)}clear(){this._m1.clear(),this._m2.clear()}set(e,t){this._m1.set(e,t),this._m2.set(t,e)}get(e){return this._m1.get(e)}getKey(e){return this._m2.get(e)}delete(e){const t=this._m1.get(e);return t===void 0?!1:(this._m1.delete(e),this._m2.delete(t),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}class Cm{constructor(){this.map=new Map}add(e,t){let i=this.map.get(e);i||(i=new Set,this.map.set(e,i)),i.add(t)}delete(e,t){const i=this.map.get(e);i&&(i.delete(t),i.size===0&&this.map.delete(e))}forEach(e,t){const i=this.map.get(e);i&&i.forEach(t)}get(e){const t=this.map.get(e);return t||new Set}}function p7(s,e){const t=xm(s,e);if(t!==-1)return s[t]}function xm(s,e,t=s.length-1){for(let i=t;i>=0;i--){const n=s[i];if(e(n))return i}return-1}function m7(s,e){const t=cu(s,e);return t===-1?void 0:s[t]}function cu(s,e,t=0,i=s.length){let n=t,o=i;for(;n<o;){const r=Math.floor((n+o)/2);e(s[r])?n=r+1:o=r}return n-1}function g7(s,e){const t=Dm(s,e);return t===s.length?void 0:s[t]}function Dm(s,e,t=0,i=s.length){let n=t,o=i;for(;n<o;){const r=Math.floor((n+o)/2);e(s[r])?o=r:n=r+1}return n}const tr=class tr{constructor(e){this._array=e,this._findLastMonotonousLastIdx=0}findLastMonotonous(e){if(tr.assertInvariants){if(this._prevFindLastPredicate){for(const i of this._array)if(this._prevFindLastPredicate(i)&&!e(i))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=e}const t=cu(this._array,e,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=t+1,t===-1?void 0:this._array[t]}};tr.assertInvariants=!1;let Vh=tr;function Em(s,e){if(s.length===0)return;let t=s[0];for(let i=1;i<s.length;i++){const n=s[i];e(n,t)>0&&(t=n)}return t}function b7(s,e){if(s.length===0)return;let t=s[0];for(let i=1;i<s.length;i++){const n=s[i];e(n,t)>=0&&(t=n)}return t}function _7(s,e){return Em(s,(t,i)=>-e(t,i))}function w7(s,e){if(s.length===0)return-1;let t=0;for(let i=1;i<s.length;i++){const n=s[i];e(n,s[t])>0&&(t=i)}return t}function y7(s,e){for(const t of s){const i=e(t);if(i!==void 0)return i}}function Ms(s,e){const t=Math.pow(10,e);return Math.round(s*t)/t}class Ve{constructor(e,t,i,n=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,e))|0,this.g=Math.min(255,Math.max(0,t))|0,this.b=Math.min(255,Math.max(0,i))|0,this.a=Ms(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}}class Mt{constructor(e,t,i,n){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=Ms(Math.max(Math.min(1,t),0),3),this.l=Ms(Math.max(Math.min(1,i),0),3),this.a=Ms(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,n=e.b/255,o=e.a,r=Math.max(t,i,n),l=Math.min(t,i,n);let a=0,h=0;const d=(l+r)/2,u=r-l;if(u>0){switch(h=Math.min(d<=.5?u/(2*d):u/(2-2*d),1),r){case t:a=(i-n)/u+(i<n?6:0);break;case i:a=(n-t)/u+2;break;case n:a=(t-i)/u+4;break}a*=60,a=Math.round(a)}return new Mt(a,h,d,o)}static _hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}static toRGBA(e){const t=e.h/360,{s:i,l:n,a:o}=e;let r,l,a;if(i===0)r=l=a=n;else{const h=n<.5?n*(1+i):n+i-n*i,d=2*n-h;r=Mt._hue2rgb(d,h,t+1/3),l=Mt._hue2rgb(d,h,t),a=Mt._hue2rgb(d,h,t-1/3)}return new Ve(Math.round(r*255),Math.round(l*255),Math.round(a*255),o)}}class Si{constructor(e,t,i,n){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=Ms(Math.max(Math.min(1,t),0),3),this.v=Ms(Math.max(Math.min(1,i),0),3),this.a=Ms(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,n=e.b/255,o=Math.max(t,i,n),r=Math.min(t,i,n),l=o-r,a=o===0?0:l/o;let h;return l===0?h=0:o===t?h=((i-n)/l%6+6)%6:o===i?h=(n-t)/l+2:h=(t-i)/l+4,new Si(Math.round(h*60),a,o,e.a)}static toRGBA(e){const{h:t,s:i,v:n,a:o}=e,r=n*i,l=r*(1-Math.abs(t/60%2-1)),a=n-r;let[h,d,u]=[0,0,0];return t<60?(h=r,d=l):t<120?(h=l,d=r):t<180?(d=r,u=l):t<240?(d=l,u=r):t<300?(h=l,u=r):t<=360&&(h=r,u=l),h=Math.round((h+a)*255),d=Math.round((d+a)*255),u=Math.round((u+a)*255),new Ve(h,d,u,o)}}const _e=class _e{static fromHex(e){return _e.Format.CSS.parseHex(e)||_e.red}static equals(e,t){return!e&&!t?!0:!e||!t?!1:e.equals(t)}get hsla(){return this._hsla?this._hsla:Mt.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:Si.fromRGBA(this.rgba)}constructor(e){if(e)if(e instanceof Ve)this.rgba=e;else if(e instanceof Mt)this._hsla=e,this.rgba=Mt.toRGBA(e);else if(e instanceof Si)this._hsva=e,this.rgba=Si.toRGBA(e);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(e){return!!e&&Ve.equals(this.rgba,e.rgba)&&Mt.equals(this.hsla,e.hsla)&&Si.equals(this.hsva,e.hsva)}getRelativeLuminance(){const e=_e._relativeLuminanceForComponent(this.rgba.r),t=_e._relativeLuminanceForComponent(this.rgba.g),i=_e._relativeLuminanceForComponent(this.rgba.b),n=.2126*e+.7152*t+.0722*i;return Ms(n,4)}static _relativeLuminanceForComponent(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(e){const t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t>i}isDarkerThan(e){const t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t<i}lighten(e){return new _e(new Mt(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new _e(new Mt(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){const{r:t,g:i,b:n,a:o}=this.rgba;return new _e(new Ve(t,i,n,o*e))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new _e(new Ve(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(e){if(this.isOpaque()||e.rgba.a!==1)return this;const{r:t,g:i,b:n,a:o}=this.rgba;return new _e(new Ve(e.rgba.r-o*(e.rgba.r-t),e.rgba.g-o*(e.rgba.g-i),e.rgba.b-o*(e.rgba.b-n),1))}toString(){return this._toString||(this._toString=_e.Format.CSS.format(this)),this._toString}static getLighterColor(e,t,i){if(e.isLighterThan(t))return e;i=i||.5;const n=e.getRelativeLuminance(),o=t.getRelativeLuminance();return i=i*(o-n)/o,e.lighten(i)}static getDarkerColor(e,t,i){if(e.isDarkerThan(t))return e;i=i||.5;const n=e.getRelativeLuminance(),o=t.getRelativeLuminance();return i=i*(n-o)/n,e.darken(i)}};_e.white=new _e(new Ve(255,255,255,1)),_e.black=new _e(new Ve(0,0,0,1)),_e.red=new _e(new Ve(255,0,0,1)),_e.blue=new _e(new Ve(0,0,255,1)),_e.green=new _e(new Ve(0,255,0,1)),_e.cyan=new _e(new Ve(0,255,255,1)),_e.lightgrey=new _e(new Ve(211,211,211,1)),_e.transparent=new _e(new Ve(0,0,0,0));let Zt=_e;(function(s){(function(e){(function(t){function i(g){return g.rgba.a===1?`rgb(${g.rgba.r}, ${g.rgba.g}, ${g.rgba.b})`:s.Format.CSS.formatRGBA(g)}t.formatRGB=i;function n(g){return`rgba(${g.rgba.r}, ${g.rgba.g}, ${g.rgba.b}, ${+g.rgba.a.toFixed(2)})`}t.formatRGBA=n;function o(g){return g.hsla.a===1?`hsl(${g.hsla.h}, ${(g.hsla.s*100).toFixed(2)}%, ${(g.hsla.l*100).toFixed(2)}%)`:s.Format.CSS.formatHSLA(g)}t.formatHSL=o;function r(g){return`hsla(${g.hsla.h}, ${(g.hsla.s*100).toFixed(2)}%, ${(g.hsla.l*100).toFixed(2)}%, ${g.hsla.a.toFixed(2)})`}t.formatHSLA=r;function l(g){const y=g.toString(16);return y.length!==2?"0"+y:y}function a(g){return`#${l(g.rgba.r)}${l(g.rgba.g)}${l(g.rgba.b)}`}t.formatHex=a;function h(g,y=!1){return y&&g.rgba.a===1?s.Format.CSS.formatHex(g):`#${l(g.rgba.r)}${l(g.rgba.g)}${l(g.rgba.b)}${l(Math.round(g.rgba.a*255))}`}t.formatHexA=h;function d(g){return g.isOpaque()?s.Format.CSS.formatHex(g):s.Format.CSS.formatRGBA(g)}t.format=d;function u(g){const y=g.length;if(y===0||g.charCodeAt(0)!==35)return null;if(y===7){const _=16*f(g.charCodeAt(1))+f(g.charCodeAt(2)),D=16*f(g.charCodeAt(3))+f(g.charCodeAt(4)),L=16*f(g.charCodeAt(5))+f(g.charCodeAt(6));return new s(new Ve(_,D,L,1))}if(y===9){const _=16*f(g.charCodeAt(1))+f(g.charCodeAt(2)),D=16*f(g.charCodeAt(3))+f(g.charCodeAt(4)),L=16*f(g.charCodeAt(5))+f(g.charCodeAt(6)),N=16*f(g.charCodeAt(7))+f(g.charCodeAt(8));return new s(new Ve(_,D,L,N/255))}if(y===4){const _=f(g.charCodeAt(1)),D=f(g.charCodeAt(2)),L=f(g.charCodeAt(3));return new s(new Ve(16*_+_,16*D+D,16*L+L))}if(y===5){const _=f(g.charCodeAt(1)),D=f(g.charCodeAt(2)),L=f(g.charCodeAt(3)),N=f(g.charCodeAt(4));return new s(new Ve(16*_+_,16*D+D,16*L+L,(16*N+N)/255))}return null}t.parseHex=u;function f(g){switch(g){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(e.CSS||(e.CSS={}))})(s.Format||(s.Format={}))})(Zt||(Zt={}));var yn;(function(s){s[s.Ignore=0]="Ignore",s[s.Info=1]="Info",s[s.Warning=2]="Warning",s[s.Error=3]="Error"})(yn||(yn={}));(function(s){const e="error",t="warning",i="warn",n="info",o="ignore";function r(a){return a?wi(e,a)?s.Error:wi(t,a)||wi(i,a)?s.Warning:wi(n,a)?s.Info:s.Ignore:s.Ignore}s.fromValue=r;function l(a){switch(a){case s.Error:return e;case s.Warning:return t;case s.Info:return n;default:return o}}s.toString=l})(yn||(yn={}));const v7=yn;function vt(s,e,t){return Math.min(Math.max(s,e),t)}class S7{constructor(){this._n=1,this._val=0}update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class C7{constructor(e){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(e),this._values.fill(0,0,e)}update(e){const t=this._values[this._index];return this._values[this._index]=e,this._index=(this._index+1)%this._values.length,this._sum-=t,this._sum+=e,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}function Es(s){return s===47||s===92}function du(s){return s.replace(/[\\/]/g,Te.sep)}function km(s){return s.indexOf("/")===-1&&(s=du(s)),/^[a-zA-Z]:(\/|$)/.test(s)&&(s="/"+s),s}function Uh(s,e=Te.sep){if(!s)return"";const t=s.length,i=s.charCodeAt(0);if(Es(i)){if(Es(s.charCodeAt(1))&&!Es(s.charCodeAt(2))){let o=3;const r=o;for(;o<t&&!Es(s.charCodeAt(o));o++);if(r!==o&&!Es(s.charCodeAt(o+1))){for(o+=1;o<t;o++)if(Es(s.charCodeAt(o)))return s.slice(0,o+1).replace(/[\\/]/g,e)}}return e}else if(uu(i)&&s.charCodeAt(1)===58)return Es(s.charCodeAt(2))?s.slice(0,2)+e:s.slice(0,2);let n=s.indexOf("://");if(n!==-1){for(n+=3;n<t;n++)if(Es(s.charCodeAt(n)))return s.slice(0,n+1)}return""}function Ol(s,e,t,i=Ot){if(s===e)return!0;if(!s||!e||e.length>s.length)return!1;if(t){if(!ba(s,e))return!1;if(e.length===s.length)return!0;let o=e.length;return e.charAt(e.length-1)===i&&o--,s.charAt(o)===i}return e.charAt(e.length-1)!==i&&(e+=i),s.indexOf(e)===0}function uu(s){return s>=65&&s<=90||s>=97&&s<=122}function Nm(s,e=kt){return e?uu(s.charCodeAt(0))&&s.charCodeAt(1)===58:!1}const qn="**",qh="/",ho="[/\\\\]",co="[^/\\\\]",Tm=/\//g;function Gh(s,e){switch(s){case 0:return"";case 1:return`${co}*?`;default:return`(?:${ho}|${co}+${ho}${e?`|${ho}${co}+`:""})*?`}}function Yh(s,e){if(!s)return[];const t=[];let i=!1,n=!1,o="";for(const r of s){switch(r){case e:if(!i&&!n){t.push(o),o="";continue}break;case"{":i=!0;break;case"}":i=!1;break;case"[":n=!0;break;case"]":n=!1;break}o+=r}return o&&t.push(o),t}function fu(s){if(!s)return"";let e="";const t=Yh(s,qh);if(t.every(i=>i===qn))e=".*";else{let i=!1;t.forEach((n,o)=>{if(n===qn){if(i)return;e+=Gh(2,o===t.length-1)}else{let r=!1,l="",a=!1,h="";for(const d of n){if(d!=="}"&&r){l+=d;continue}if(a&&(d!=="]"||!h)){let u;d==="-"?u=d:(d==="^"||d==="!")&&!h?u="^":d===qh?u="":u=Io(d),h+=u;continue}switch(d){case"{":r=!0;continue;case"[":a=!0;continue;case"}":{const f=`(?:${Yh(l,",").map(g=>fu(g)).join("|")})`;e+=f,r=!1,l="";break}case"]":{e+="["+h+"]",a=!1,h="";break}case"?":e+=co;continue;case"*":e+=Gh(1);continue;default:e+=Io(d)}}o<t.length-1&&(t[o+1]!==qn||o+2<t.length)&&(e+=ho)}i=n===qn})}return e}const Am=/^\*\*\/\*\.[\w\.-]+$/,Lm=/^\*\*\/([\w\.-]+)\/?$/,Im=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,Pm=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,Rm=/^\*\*((\/[\w\.-]+)+)\/?$/,Mm=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,jh=new hu(1e4),Xh=function(){return!1},Qt=function(){return null};function Ia(s,e){if(!s)return Qt;let t;typeof s!="string"?t=s.pattern:t=s,t=t.trim();const i=`${t}_${!!e.trimForExclusions}`;let n=jh.get(i);if(n)return Zh(n,s);let o;return Am.test(t)?n=Om(t.substr(4),t):(o=Lm.exec(Kr(t,e)))?n=Fm(o[1],t):(e.trimForExclusions?Pm:Im).test(t)?n=zm(t,e):(o=Rm.exec(Kr(t,e)))?n=Qh(o[1].substr(1),t,!0):(o=Mm.exec(Kr(t,e)))?n=Qh(o[1],t,!1):n=Bm(t),jh.set(i,n),Zh(n,s)}function Zh(s,e){if(typeof e=="string")return s;const t=function(i,n){return Ol(i,e.base,!Do)?s(dr(i.substr(e.base.length),Ot),n):null};return t.allBasenames=s.allBasenames,t.allPaths=s.allPaths,t.basenames=s.basenames,t.patterns=s.patterns,t}function Kr(s,e){return e.trimForExclusions&&s.endsWith("/**")?s.substr(0,s.length-2):s}function Om(s,e){return function(t,i){return typeof t=="string"&&t.endsWith(s)?e:null}}function Fm(s,e){const t=`/${s}`,i=`\\${s}`,n=function(r,l){return typeof r!="string"?null:l?l===s?e:null:r===s||r.endsWith(t)||r.endsWith(i)?e:null},o=[s];return n.basenames=o,n.patterns=[e],n.allBasenames=o,n}function zm(s,e){const t=pu(s.slice(1,-1).split(",").map(l=>Ia(l,e)).filter(l=>l!==Qt),s),i=t.length;if(!i)return Qt;if(i===1)return t[0];const n=function(l,a){for(let h=0,d=t.length;h<d;h++)if(t[h](l,a))return s;return null},o=t.find(l=>!!l.allBasenames);o&&(n.allBasenames=o.allBasenames);const r=t.reduce((l,a)=>a.allPaths?l.concat(a.allPaths):l,[]);return r.length&&(n.allPaths=r),n}function Qh(s,e,t){const i=Ot===Te.sep,n=i?s:s.replace(Tm,Ot),o=Ot+n,r=Te.sep+s;let l;return t?l=function(a,h){return typeof a=="string"&&(a===n||a.endsWith(o)||!i&&(a===s||a.endsWith(r)))?e:null}:l=function(a,h){return typeof a=="string"&&(a===n||!i&&a===s)?e:null},l.allPaths=[(t?"*/":"./")+s],l}function Bm(s){try{const e=new RegExp(`^${fu(s)}$`);return function(t){return e.lastIndex=0,typeof t=="string"&&e.test(t)?s:null}}catch{return Qt}}function x7(s,e,t){return!s||typeof e!="string"?!1:Hm(s)(e,void 0,t)}function Hm(s,e={}){if(!s)return Xh;if(typeof s=="string"||Km(s)){const t=Ia(s,e);if(t===Qt)return Xh;const i=function(n,o){return!!t(n,o)};return t.allBasenames&&(i.allBasenames=t.allBasenames),t.allPaths&&(i.allPaths=t.allPaths),i}return $m(s,e)}function Km(s){const e=s;return e?typeof e.base=="string"&&typeof e.pattern=="string":!1}function $m(s,e){const t=pu(Object.getOwnPropertyNames(s).map(l=>Wm(l,s[l],e)).filter(l=>l!==Qt)),i=t.length;if(!i)return Qt;if(!t.some(l=>!!l.requiresSiblings)){if(i===1)return t[0];const l=function(d,u){let f;for(let g=0,y=t.length;g<y;g++){const _=t[g](d,u);if(typeof _=="string")return _;Sl(_)&&(f||(f=[]),f.push(_))}return f?(async()=>{for(const g of f){const y=await g;if(typeof y=="string")return y}return null})():null},a=t.find(d=>!!d.allBasenames);a&&(l.allBasenames=a.allBasenames);const h=t.reduce((d,u)=>u.allPaths?d.concat(u.allPaths):d,[]);return h.length&&(l.allPaths=h),l}const n=function(l,a,h){let d,u;for(let f=0,g=t.length;f<g;f++){const y=t[f];y.requiresSiblings&&h&&(a||(a=a1(l)),d||(d=a.substr(0,a.length-h1(l).length)));const _=y(l,a,d,h);if(typeof _=="string")return _;Sl(_)&&(u||(u=[]),u.push(_))}return u?(async()=>{for(const f of u){const g=await f;if(typeof g=="string")return g}return null})():null},o=t.find(l=>!!l.allBasenames);o&&(n.allBasenames=o.allBasenames);const r=t.reduce((l,a)=>a.allPaths?l.concat(a.allPaths):l,[]);return r.length&&(n.allPaths=r),n}function Wm(s,e,t){if(e===!1)return Qt;const i=Ia(s,t);if(i===Qt)return Qt;if(typeof e=="boolean")return i;if(e){const n=e.when;if(typeof n=="string"){const o=(r,l,a,h)=>{if(!h||!i(r,l))return null;const d=n.replace("$(basename)",()=>a),u=h(d);return Sl(u)?u.then(f=>f?s:null):u?s:null};return o.requiresSiblings=!0,o}}return i}function pu(s,e){const t=s.filter(l=>!!l.basenames);if(t.length<2)return s;const i=t.reduce((l,a)=>{const h=a.basenames;return h?l.concat(h):l},[]);let n;if(e){n=[];for(let l=0,a=i.length;l<a;l++)n.push(e)}else n=t.reduce((l,a)=>{const h=a.patterns;return h?l.concat(h):l},[]);const o=function(l,a){if(typeof l!="string")return null;if(!a){let d;for(d=l.length;d>0;d--){const u=l.charCodeAt(d-1);if(u===47||u===92)break}a=l.substr(d)}const h=i.indexOf(a);return h!==-1?n[h]:null};o.basenames=i,o.patterns=n,o.allBasenames=i;const r=s.filter(l=>!l.basenames);return r.push(o),r}class mu{constructor(){this._hooks=new J,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const i=this._onStopCallback;this._onStopCallback=null,e&&i&&i(t)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(e,t,i,n,o){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=n,this._onStopCallback=o;let r=e;try{e.setPointerCapture(t),this._hooks.add(we(()=>{try{e.releasePointerCapture(t)}catch{}}))}catch{r=le(e)}this._hooks.add(R(r,$.POINTER_MOVE,l=>{if(l.buttons!==i){this.stopMonitoring(!0);return}l.preventDefault(),this._pointerMoveCallback(l)})),this._hooks.add(R(r,$.POINTER_UP,l=>this.stopMonitoring(!0)))}}function Ae(s,e,t){let i=null,n=null;if(typeof t.value=="function"?(i="value",n=t.value,n.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof t.get=="function"&&(i="get",n=t.get),!n)throw new Error("not supported");const o=`$memoize$${e}`;t[i]=function(...r){return this.hasOwnProperty(o)||Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:n.apply(this,r)}),this[o]}}var Vm=function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o},Ie;(function(s){s.Tap="-monaco-gesturetap",s.Change="-monaco-gesturechange",s.Start="-monaco-gesturestart",s.End="-monaco-gesturesend",s.Contextmenu="-monaco-gesturecontextmenu"})(Ie||(Ie={}));const Ke=class Ke extends Z{constructor(){super(),this.dispatched=!1,this.targets=new dl,this.ignoreTargets=new dl,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(P.runAndSubscribe(Gd,({window:e,disposables:t})=>{t.add(R(e.document,"touchstart",i=>this.onTouchStart(i),{passive:!1})),t.add(R(e.document,"touchend",i=>this.onTouchEnd(e,i))),t.add(R(e.document,"touchmove",i=>this.onTouchMove(i),{passive:!1}))},{window:ze,disposables:this._store}))}static addTarget(e){if(!Ke.isTouchDevice())return Z.None;Ke.INSTANCE||(Ke.INSTANCE=new Ke);const t=Ke.INSTANCE.targets.push(e);return we(t)}static ignoreTarget(e){if(!Ke.isTouchDevice())return Z.None;Ke.INSTANCE||(Ke.INSTANCE=new Ke);const t=Ke.INSTANCE.ignoreTargets.push(e);return we(t)}static isTouchDevice(){return"ontouchstart"in ze||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){const t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,n=e.targetTouches.length;i<n;i++){const o=e.targetTouches.item(i);this.activeTouches[o.identifier]={id:o.identifier,initialTarget:o.target,initialTimeStamp:t,initialPageX:o.pageX,initialPageY:o.pageY,rollingTimestamps:[t],rollingPageX:[o.pageX],rollingPageY:[o.pageY]};const r=this.newGestureEvent(Ie.Start,o.target);r.pageX=o.pageX,r.pageY=o.pageY,this.dispatchEvent(r)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e,t){const i=Date.now(),n=Object.keys(this.activeTouches).length;for(let o=0,r=t.changedTouches.length;o<r;o++){const l=t.changedTouches.item(o);if(!this.activeTouches.hasOwnProperty(String(l.identifier))){console.warn("move of an UNKNOWN touch",l);continue}const a=this.activeTouches[l.identifier],h=Date.now()-a.initialTimeStamp;if(h<Ke.HOLD_DELAY&&Math.abs(a.initialPageX-yt(a.rollingPageX))<30&&Math.abs(a.initialPageY-yt(a.rollingPageY))<30){const d=this.newGestureEvent(Ie.Tap,a.initialTarget);d.pageX=yt(a.rollingPageX),d.pageY=yt(a.rollingPageY),this.dispatchEvent(d)}else if(h>=Ke.HOLD_DELAY&&Math.abs(a.initialPageX-yt(a.rollingPageX))<30&&Math.abs(a.initialPageY-yt(a.rollingPageY))<30){const d=this.newGestureEvent(Ie.Contextmenu,a.initialTarget);d.pageX=yt(a.rollingPageX),d.pageY=yt(a.rollingPageY),this.dispatchEvent(d)}else if(n===1){const d=yt(a.rollingPageX),u=yt(a.rollingPageY),f=yt(a.rollingTimestamps)-a.rollingTimestamps[0],g=d-a.rollingPageX[0],y=u-a.rollingPageY[0],_=[...this.targets].filter(D=>a.initialTarget instanceof Node&&D.contains(a.initialTarget));this.inertia(e,_,i,Math.abs(g)/f,g>0?1:-1,d,Math.abs(y)/f,y>0?1:-1,u)}this.dispatchEvent(this.newGestureEvent(Ie.End,a.initialTarget)),delete this.activeTouches[l.identifier]}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){const i=document.createEvent("CustomEvent");return i.initEvent(e,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(e){if(e.type===Ie.Tap){const t=new Date().getTime();let i=0;t-this._lastSetTapCountTime>Ke.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=t,e.tapCount=i}else(e.type===Ie.Change||e.type===Ie.Contextmenu)&&(this._lastSetTapCountTime=0);if(e.initialTarget instanceof Node){for(const i of this.ignoreTargets)if(i.contains(e.initialTarget))return;const t=[];for(const i of this.targets)if(i.contains(e.initialTarget)){let n=0,o=e.initialTarget;for(;o&&o!==i;)n++,o=o.parentElement;t.push([n,i])}t.sort((i,n)=>i[0]-n[0]);for(const[i,n]of t)n.dispatchEvent(e),this.dispatched=!0}}inertia(e,t,i,n,o,r,l,a,h){this.handle=es(e,()=>{const d=Date.now(),u=d-i;let f=0,g=0,y=!0;n+=Ke.SCROLL_FRICTION*u,l+=Ke.SCROLL_FRICTION*u,n>0&&(y=!1,f=o*n*u),l>0&&(y=!1,g=a*l*u);const _=this.newGestureEvent(Ie.Change);_.translationX=f,_.translationY=g,t.forEach(D=>D.dispatchEvent(_)),y||this.inertia(e,t,d,n,o,r+f,l,a,h+g)})}onTouchMove(e){const t=Date.now();for(let i=0,n=e.changedTouches.length;i<n;i++){const o=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(o.identifier))){console.warn("end of an UNKNOWN touch",o);continue}const r=this.activeTouches[o.identifier],l=this.newGestureEvent(Ie.Change,r.initialTarget);l.translationX=o.pageX-yt(r.rollingPageX),l.translationY=o.pageY-yt(r.rollingPageY),l.pageX=o.pageX,l.pageY=o.pageY,this.dispatchEvent(l),r.rollingPageX.length>3&&(r.rollingPageX.shift(),r.rollingPageY.shift(),r.rollingTimestamps.shift()),r.rollingPageX.push(o.pageX),r.rollingPageY.push(o.pageY),r.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}};Ke.SCROLL_FRICTION=-.005,Ke.HOLD_DELAY=700,Ke.CLEAR_TAP_COUNT_TIME=400;let Dt=Ke;Vm([Ae],Dt,"isTouchDevice",null);class Hs extends Z{onclick(e,t){this._register(R(e,$.CLICK,i=>t(new As(le(e),i))))}onmousedown(e,t){this._register(R(e,$.MOUSE_DOWN,i=>t(new As(le(e),i))))}onmouseover(e,t){this._register(R(e,$.MOUSE_OVER,i=>t(new As(le(e),i))))}onmouseleave(e,t){this._register(R(e,$.MOUSE_LEAVE,i=>t(new As(le(e),i))))}onkeydown(e,t){this._register(R(e,$.KEY_DOWN,i=>t(new Re(i))))}onkeyup(e,t){this._register(R(e,$.KEY_UP,i=>t(new Re(i))))}oninput(e,t){this._register(R(e,$.INPUT,t))}onblur(e,t){this._register(R(e,$.BLUR,t))}onfocus(e,t){this._register(R(e,$.FOCUS,t))}ignoreGesture(e){return Dt.ignoreTarget(e)}}const Mi=11;class Um extends Hs{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",typeof e.top<"u"&&(this.bgDomNode.style.top="0px"),typeof e.left<"u"&&(this.bgDomNode.style.left="0px"),typeof e.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof e.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...We.asClassNameArray(e.icon)),this.domNode.style.position="absolute",this.domNode.style.width=Mi+"px",this.domNode.style.height=Mi+"px",typeof e.top<"u"&&(this.domNode.style.top=e.top+"px"),typeof e.left<"u"&&(this.domNode.style.left=e.left+"px"),typeof e.bottom<"u"&&(this.domNode.style.bottom=e.bottom+"px"),typeof e.right<"u"&&(this.domNode.style.right=e.right+"px"),this._pointerMoveMonitor=this._register(new mu),this._register(fs(this.bgDomNode,$.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._register(fs(this.domNode,$.POINTER_DOWN,t=>this._arrowPointerDown(t))),this._pointerdownRepeatTimer=this._register(new Pp),this._pointerdownScheduleRepeatTimer=this._register(new va)}_arrowPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,le(e))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(t,200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,i=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),e.preventDefault()}}class qm extends Z{constructor(e,t,i){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new va)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var e;(e=this._domNode)==null||e.setClassName(this._visibleClassName)},0))}_hide(e){var t;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(t=this._domNode)==null||t.setClassName(this._invisibleClassName+(e?" fade":"")))}}const Gm=140;class gu extends Hs{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new qm(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new mu),this._shouldRender=!0,this.domNode=rn(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(R(this.domNode.domNode,$.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(e){const t=this._register(new Um(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,i,n){this.slider=rn(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),typeof i=="number"&&this.slider.setWidth(i),typeof n=="number"&&this.slider.setHeight(n),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(R(this.slider.domNode,$.POINTER_DOWN,o=>{o.button===0&&(o.preventDefault(),this._sliderPointerDown(o))})),this.onclick(this.slider.domNode,o=>{o.leftButton&&o.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}delegatePointerDown(e){const t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),n=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderPointerPosition(e);i<=o&&o<=n?e.button===0&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}_onPointerDown(e){let t,i;if(e.target===this.domNode.domNode&&typeof e.offsetX=="number"&&typeof e.offsetY=="number")t=e.offsetX,i=e.offsetY;else{const o=yi(this.domNode.domNode);t=e.pageX-o.left,i=e.pageY-o.top}const n=this._pointerDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(n):this._scrollbarState.getDesiredScrollPositionFromOffset(n)),e.button===0&&(e.preventDefault(),this._sliderPointerDown(e))}_sliderPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=this._sliderPointerPosition(e),i=this._sliderOrthogonalPointerPosition(e),n=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,o=>{const r=this._sliderOrthogonalPointerPosition(o),l=Math.abs(r-i);if(kt&&l>Gm){this._setDesiredScrollPositionNow(n.getScrollPosition());return}const h=this._sliderPointerPosition(o)-t;this._setDesiredScrollPositionNow(n.getDesiredScrollPositionFromDelta(h))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){const t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}const Ym=20;class vn{constructor(e,t,i,n,o,r){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=n,this._scrollSize=o,this._scrollPosition=r,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new vn(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){const t=Math.round(e);return this._visibleSize!==t?(this._visibleSize=t,this._refreshComputedValues(),!0):!1}setScrollSize(e){const t=Math.round(e);return this._scrollSize!==t?(this._scrollSize=t,this._refreshComputedValues(),!0):!1}setScrollPosition(e){const t=Math.round(e);return this._scrollPosition!==t?(this._scrollPosition=t,this._refreshComputedValues(),!0):!1}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,i,n,o){const r=Math.max(0,i-e),l=Math.max(0,r-2*t),a=n>0&&n>i;if(!a)return{computedAvailableSize:Math.round(r),computedIsNeeded:a,computedSliderSize:Math.round(l),computedSliderRatio:0,computedSliderPosition:0};const h=Math.round(Math.max(Ym,Math.floor(i*l/n))),d=(l-h)/(n-i),u=o*d;return{computedAvailableSize:Math.round(r),computedIsNeeded:a,computedSliderSize:Math.round(h),computedSliderRatio:d,computedSliderPosition:Math.round(u)}}_refreshComputedValues(){const e=vn._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize;let i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;const t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}class jm extends gu{constructor(e,t,i){const n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new vn(t.horizontalHasArrows?t.arrowSize:0,t.horizontal===2?0:t.horizontalScrollbarSize,t.vertical===2?0:t.verticalScrollbarSize,n.width,n.scrollWidth,o.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows){const r=(t.arrowSize-Mi)/2,l=(t.horizontalScrollbarSize-Mi)/2;this._createArrow({className:"scra",icon:$e.scrollbarButtonLeft,top:l,left:r,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new Ri(null,1,0))}),this._createArrow({className:"scra",icon:$e.scrollbarButtonRight,top:l,left:void 0,bottom:void 0,right:r,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new Ri(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return e}_sliderPointerPosition(e){return e.pageX}_sliderOrthogonalPointerPosition(e){return e.pageY}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(e.horizontal===2?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}}class Xm extends gu{constructor(e,t,i){const n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new vn(t.verticalHasArrows?t.arrowSize:0,t.vertical===2?0:t.verticalScrollbarSize,0,n.height,n.scrollHeight,o.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){const r=(t.arrowSize-Mi)/2,l=(t.verticalScrollbarSize-Mi)/2;this._createArrow({className:"scra",icon:$e.scrollbarButtonUp,top:r,left:l,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new Ri(null,0,1))}),this._createArrow({className:"scra",icon:$e.scrollbarButtonDown,top:void 0,left:l,bottom:r,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new Ri(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return t}_sliderPointerPosition(e){return e.pageY}_sliderOrthogonalPointerPosition(e){return e.pageX}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}}class Fo{constructor(e,t,i,n,o,r,l){this._forceIntegerValues=e,this._scrollStateBrand=void 0,this._forceIntegerValues&&(t=t|0,i=i|0,n=n|0,o=o|0,r=r|0,l=l|0),this.rawScrollLeft=n,this.rawScrollTop=l,t<0&&(t=0),n+t>i&&(n=i-t),n<0&&(n=0),o<0&&(o=0),l+o>r&&(l=r-o),l<0&&(l=0),this.width=t,this.scrollWidth=i,this.scrollLeft=n,this.height=o,this.scrollHeight=r,this.scrollTop=l}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new Fo(this._forceIntegerValues,typeof e.width<"u"?e.width:this.width,typeof e.scrollWidth<"u"?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof e.height<"u"?e.height:this.height,typeof e.scrollHeight<"u"?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new Fo(this._forceIntegerValues,this.width,this.scrollWidth,typeof e.scrollLeft<"u"?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof e.scrollTop<"u"?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){const i=this.width!==e.width,n=this.scrollWidth!==e.scrollWidth,o=this.scrollLeft!==e.scrollLeft,r=this.height!==e.height,l=this.scrollHeight!==e.scrollHeight,a=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:n,scrollLeftChanged:o,heightChanged:r,scrollHeightChanged:l,scrollTopChanged:a}}}class pr extends Z{constructor(e){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new M),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e.smoothScrollDuration,this._scheduleAtNextAnimationFrame=e.scheduleAtNextAnimationFrame,this._state=new Fo(e.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){var n;const i=this._state.withScrollDimensions(e,t);this._setState(i,!!this._smoothScrolling),(n=this._smoothScrolling)==null||n.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){const t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop>"u"?this._smoothScrolling.to.scrollTop:e.scrollTop};const i=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let n;t?n=new Sn(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):n=this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=n}else{const i=this._state.withScrollPosition(e);this._smoothScrolling=Sn.start(this._state,i,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);if(this._setState(t,!0),!!this._smoothScrolling){if(e.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(e,t){const i=this._state;i.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(i,t)))}}class Jh{constructor(e,t,i){this.scrollLeft=e,this.scrollTop=t,this.isDone=i}}function $r(s,e){const t=e-s;return function(i){return s+t*Jm(i)}}function Zm(s,e,t){return function(i){return i<t?s(i/t):e((i-t)/(1-t))}}class Sn{constructor(e,t,i,n){this.from=e,this.to=t,this.duration=n,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,i){if(Math.abs(e-t)>2.5*i){let o,r;return e<t?(o=e+.75*i,r=t-.75*i):(o=e-.75*i,r=t+.75*i),Zm($r(e,o),$r(r,t),.33)}return $r(e,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){const t=(e-this.startTime)/this.duration;if(t<1){const i=this.scrollLeft(t),n=this.scrollTop(t);return new Jh(i,n,!1)}return new Jh(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,i){return Sn.start(e,t,i)}static start(e,t,i){i=i+10;const n=Date.now()-10;return new Sn(e,t,n,i)}}function Qm(s){return Math.pow(s,3)}function Jm(s){return 1-Qm(1-s)}const eg=500,ec=50;class tg{constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}}const sr=class sr{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let e=1,t=0,i=1,n=this._rear;do{const o=n===this._front?e:Math.pow(2,-i);if(e-=o,t+=this._memory[n].score*o,n===this._front)break;n=(this._capacity+n-1)%this._capacity,i++}while(!0);return t<=.5}acceptStandardWheelEvent(e){if(ur){const t=le(e.browserEvent),i=z1(t);this.accept(Date.now(),e.deltaX*i,e.deltaY*i)}else this.accept(Date.now(),e.deltaX,e.deltaY)}accept(e,t,i){let n=null;const o=new tg(e,t,i);this._front===-1&&this._rear===-1?(this._memory[0]=o,this._front=0,this._rear=0):(n=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=o),o.score=this._computeScore(o,n)}_computeScore(e,t){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let i=.5;if((!this._isAlmostInt(e.deltaX)||!this._isAlmostInt(e.deltaY))&&(i+=.25),t){const n=Math.abs(e.deltaX),o=Math.abs(e.deltaY),r=Math.abs(t.deltaX),l=Math.abs(t.deltaY),a=Math.max(Math.min(n,r),1),h=Math.max(Math.min(o,l),1),d=Math.max(n,r),u=Math.max(o,l);d%a===0&&u%h===0&&(i-=.5)}return Math.min(Math.max(i,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}};sr.INSTANCE=new sr;let Fl=sr;class Pa extends Hs{get options(){return this._options}constructor(e,t,i){super(),this._onScroll=this._register(new M),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new M),e.style.overflow="hidden",this._options=ig(t),this._scrollable=i,this._register(this._scrollable.onScroll(o=>{this._onWillScroll.fire(o),this._onDidScroll(o),this._onScroll.fire(o)}));const n={onMouseWheel:o=>this._onMouseWheel(o),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new Xm(this._scrollable,this._options,n)),this._horizontalScrollbar=this._register(new jm(this._scrollable,this._options,n)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=rn(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=rn(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=rn(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,o=>this._onMouseOver(o)),this.onmouseleave(this._listenOnDomNode,o=>this._onMouseLeave(o)),this._hideTimeout=this._register(new va),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=Ct(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(e){this._verticalScrollbar.delegatePointerDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,Oe&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){typeof e.handleMouseWheel<"u"&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof e.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),typeof e.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),typeof e.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),typeof e.horizontal<"u"&&(this._options.horizontal=e.horizontal),typeof e.vertical<"u"&&(this._options.vertical=e.vertical),typeof e.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),typeof e.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),typeof e.scrollByPage<"u"&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(e){this._onMouseWheel(new Ri(e))}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=Ct(this._mouseWheelToDispose),e)){const i=n=>{this._onMouseWheel(new Ri(n))};this._mouseWheelToDispose.push(R(this._listenOnDomNode,$.MOUSE_WHEEL,i,{passive:!1}))}}_onMouseWheel(e){var o;if((o=e.browserEvent)!=null&&o.defaultPrevented)return;const t=Fl.INSTANCE;t.acceptStandardWheelEvent(e);let i=!1;if(e.deltaY||e.deltaX){let r=e.deltaY*this._options.mouseWheelScrollSensitivity,l=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&l+r===0?l=r=0:Math.abs(r)>=Math.abs(l)?l=0:r=0),this._options.flipAxes&&([r,l]=[l,r]);const a=!Oe&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||a)&&!l&&(l=r,r=0),e.browserEvent&&e.browserEvent.altKey&&(l=l*this._options.fastScrollSensitivity,r=r*this._options.fastScrollSensitivity);const h=this._scrollable.getFutureScrollPosition();let d={};if(r){const u=ec*r,f=h.scrollTop-(u<0?Math.floor(u):Math.ceil(u));this._verticalScrollbar.writeScrollPosition(d,f)}if(l){const u=ec*l,f=h.scrollLeft-(u<0?Math.floor(u):Math.ceil(u));this._horizontalScrollbar.writeScrollPosition(d,f)}d=this._scrollable.validateScrollPosition(d),(h.scrollLeft!==d.scrollLeft||h.scrollTop!==d.scrollTop)&&(this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(d):this._scrollable.setScrollPositionNow(d),i=!0)}let n=i;!n&&this._options.alwaysConsumeMouseWheel&&(n=!0),!n&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(n=!0),n&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,n=i?" left":"",o=t?" top":"",r=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${n}`),this._topShadowDomNode.setClassName(`shadow${o}`),this._topLeftShadowDomNode.setClassName(`shadow${r}${o}${n}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),eg)}}class sg extends Pa{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;const i=new pr({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:n=>es(le(e),n)});super(e,t,i),this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}}class bu extends Pa{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class _u extends Pa{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;const i=new pr({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:n=>es(le(e),n)});super(e,t,i),this._register(i),this._element=e,this._register(this.onScroll(n=>{n.scrollTopChanged&&(this._element.scrollTop=n.scrollTop),n.scrollLeftChanged&&(this._element.scrollLeft=n.scrollLeft)})),this.scanDomNode()}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function ig(s){const e={lazyRender:typeof s.lazyRender<"u"?s.lazyRender:!1,className:typeof s.className<"u"?s.className:"",useShadows:typeof s.useShadows<"u"?s.useShadows:!0,handleMouseWheel:typeof s.handleMouseWheel<"u"?s.handleMouseWheel:!0,flipAxes:typeof s.flipAxes<"u"?s.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof s.consumeMouseWheelIfScrollbarIsNeeded<"u"?s.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof s.alwaysConsumeMouseWheel<"u"?s.alwaysConsumeMouseWheel:!1,scrollYToX:typeof s.scrollYToX<"u"?s.scrollYToX:!1,mouseWheelScrollSensitivity:typeof s.mouseWheelScrollSensitivity<"u"?s.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof s.fastScrollSensitivity<"u"?s.fastScrollSensitivity:5,scrollPredominantAxis:typeof s.scrollPredominantAxis<"u"?s.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof s.mouseWheelSmoothScroll<"u"?s.mouseWheelSmoothScroll:!0,arrowSize:typeof s.arrowSize<"u"?s.arrowSize:11,listenOnDomNode:typeof s.listenOnDomNode<"u"?s.listenOnDomNode:null,horizontal:typeof s.horizontal<"u"?s.horizontal:1,horizontalScrollbarSize:typeof s.horizontalScrollbarSize<"u"?s.horizontalScrollbarSize:10,horizontalSliderSize:typeof s.horizontalSliderSize<"u"?s.horizontalSliderSize:0,horizontalHasArrows:typeof s.horizontalHasArrows<"u"?s.horizontalHasArrows:!1,vertical:typeof s.vertical<"u"?s.vertical:1,verticalScrollbarSize:typeof s.verticalScrollbarSize<"u"?s.verticalScrollbarSize:10,verticalHasArrows:typeof s.verticalHasArrows<"u"?s.verticalHasArrows:!1,verticalSliderSize:typeof s.verticalSliderSize<"u"?s.verticalSliderSize:0,scrollByPage:typeof s.scrollByPage<"u"?s.scrollByPage:!1};return e.horizontalSliderSize=typeof s.horizontalSliderSize<"u"?s.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=typeof s.verticalSliderSize<"u"?s.verticalSliderSize:e.verticalScrollbarSize,Oe&&(e.className+=" mac"),e}const Gn=X;class D7 extends Z{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new _u(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class wu extends Z{static render(e,t,i){return new wu(e,t,i)}constructor(e,t,i){super(),this.actionLabel=t.label,this.actionKeybindingLabel=i,this.actionContainer=Y(e,Gn("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=Y(this.actionContainer,Gn("a.action")),this.action.setAttribute("role","button"),t.iconClass&&Y(this.action,Gn(`span.icon.${t.iconClass}`));const n=Y(this.action,Gn("span"));n.textContent=i?`${t.label} (${i})`:t.label,this._store.add(new ng(this.actionContainer,t.run)),this._store.add(new og(this.actionContainer,t.run,[3,10])),this.setEnabled(!0)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}function E7(s,e){return s&&e?ie("acessibleViewHint","Inspect this in the accessible view with {0}.",e):s?ie("acessibleViewHintNoKbOpen","Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding."):""}class ng extends Z{constructor(e,t){super(),this._register(R(e,$.CLICK,i=>{i.stopPropagation(),i.preventDefault(),t(e)}))}}class og extends Z{constructor(e,t,i){super(),this._register(R(e,$.KEY_DOWN,n=>{const o=new Re(n);i.some(r=>o.equals(r))&&(n.stopPropagation(),n.preventDefault(),t(e))}))}}class ce{get event(){return this.emitter.event}constructor(e,t,i){const n=o=>this.emitter.fire(o);this.emitter=new M({onWillAddFirstListener:()=>e.addEventListener(t,n,i),onDidRemoveLastListener:()=>e.removeEventListener(t,n,i)})}dispose(){this.emitter.dispose()}}function rg(s,e={}){const t=Ra(e);return t.textContent=s,t}function lg(s,e={}){const t=Ra(e);return yu(t,hg(s,!!e.renderCodeSegments),e.actionHandler,e.renderCodeSegments),t}function Ra(s){const e=s.inline?"span":"div",t=document.createElement(e);return s.className&&(t.className=s.className),t}class ag{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){const e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}}function yu(s,e,t,i){let n;if(e.type===2)n=document.createTextNode(e.content||"");else if(e.type===3)n=document.createElement("b");else if(e.type===4)n=document.createElement("i");else if(e.type===7&&i)n=document.createElement("code");else if(e.type===5&&t){const o=document.createElement("a");t.disposables.add(fs(o,"click",r=>{t.callback(String(e.index),r)})),n=o}else e.type===8?n=document.createElement("br"):e.type===1&&(n=s);n&&s!==n&&s.appendChild(n),n&&Array.isArray(e.children)&&e.children.forEach(o=>{yu(n,o,t,i)})}function hg(s,e){const t={type:1,children:[]};let i=0,n=t;const o=[],r=new ag(s);for(;!r.eos();){let l=r.next();const a=l==="\\"&&zl(r.peek(),e)!==0;if(a&&(l=r.next()),!a&&cg(l,e)&&l===r.peek()){r.advance(),n.type===2&&(n=o.pop());const h=zl(l,e);if(n.type===h||n.type===5&&h===6)n=o.pop();else{const d={type:h,children:[]};h===5&&(d.index=i,i++),n.children.push(d),o.push(n),n=d}}else if(l===`
`)n.type===2&&(n=o.pop()),n.children.push({type:8});else if(n.type!==2){const h={type:2,content:l};n.children.push(h),o.push(n),n=h}else n.content+=l}return n.type===2&&(n=o.pop()),t}function cg(s,e){return zl(s,e)!==0}function zl(s,e){switch(s){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return e?7:0;default:return 0}}const dg=new RegExp(`(\\\\)?\\$\\((${We.iconNameExpression}(?:${We.iconModifierExpression})?)\\)`,"g");function ln(s){const e=new Array;let t,i=0,n=0;for(;(t=dg.exec(s))!==null;){n=t.index||0,i<n&&e.push(s.substring(i,n)),i=(t.index||0)+t[0].length;const[,o,r]=t;e.push(o?`$(${r})`:ug({id:r}))}return i<s.length&&e.push(s.substring(i)),e}function ug(s){const e=X("span");return e.classList.add(...We.asClassNameArray(s)),e}function fg(s){const e=pg(s);if(e&&e.length>0)return new Uint32Array(e)}let ht=0;const Ts=new Uint32Array(10);function pg(s){if(ht=0,$t(s,Wr,4352),ht>0||($t(s,Vr,4449),ht>0)||($t(s,Ur,4520),ht>0)||($t(s,js,12593),ht))return Ts.subarray(0,ht);if(s>=44032&&s<=55203){const e=s-44032,t=e%588,i=Math.floor(e/588),n=Math.floor(t/28),o=t%28-1;if(i<Wr.length?$t(i,Wr,0):4352+i-12593<js.length&&$t(4352+i,js,12593),n<Vr.length?$t(n,Vr,0):4449+n-12593<js.length&&$t(4449+n-12593,js,12593),o>=0&&(o<Ur.length?$t(o,Ur,0):4520+o-12593<js.length&&$t(4520+o-12593,js,12593)),ht>0)return Ts.subarray(0,ht)}}function $t(s,e,t){s>=t&&s<t+e.length&&mg(e[s-t])}function mg(s){s!==0&&(Ts[ht++]=s&255,s>>8&&(Ts[ht++]=s>>8&255),s>>16&&(Ts[ht++]=s>>16&255))}const Wr=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),Vr=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),Ur=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),js=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]);function vu(...s){return function(e,t){for(let i=0,n=s.length;i<n;i++){const o=s[i](e,t);if(o)return o}return null}}Su.bind(void 0,!1);const zo=Su.bind(void 0,!0);function Su(s,e,t){if(!t||t.length<e.length)return null;let i;return s?i=ba(t,e):i=t.indexOf(e)===0,i?e.length>0?[{start:0,end:e.length}]:[]:null}function gg(s,e){const t=e.toLowerCase().indexOf(s.toLowerCase());return t===-1?null:[{start:t,end:t+s.length}]}function bg(s,e){return Bl(s.toLowerCase(),e.toLowerCase(),0,0)}function Bl(s,e,t,i){if(t===s.length)return[];if(i===e.length)return null;if(s[t]===e[i]){let n=null;return(n=Bl(s,e,t+1,i+1))?Fa({start:i,end:i+1},n):null}return Bl(s,e,t,i+1)}function Ma(s){return 97<=s&&s<=122}function mr(s){return 65<=s&&s<=90}function Oa(s){return 48<=s&&s<=57}function Cu(s){return s===32||s===9||s===10||s===13}const xu=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(s=>xu.add(s.charCodeAt(0)));function Bo(s){return Cu(s)||xu.has(s)}function tc(s,e){return s===e||Bo(s)&&Bo(e)}const qr=new Map;function sc(s){if(qr.has(s))return qr.get(s);let e;const t=fg(s);return t&&(e=t),qr.set(s,e),e}function Du(s){return Ma(s)||mr(s)||Oa(s)}function Fa(s,e){return e.length===0?e=[s]:s.end===e[0].start?e[0].start=s.start:e.unshift(s),e}function Eu(s,e){for(let t=e;t<s.length;t++){const i=s.charCodeAt(t);if(mr(i)||Oa(i)||t>0&&!Du(s.charCodeAt(t-1)))return t}return s.length}function Hl(s,e,t,i){if(t===s.length)return[];if(i===e.length)return null;if(s[t]!==e[i].toLowerCase())return null;{let n=null,o=i+1;for(n=Hl(s,e,t+1,i+1);!n&&(o=Eu(e,o))<e.length;)n=Hl(s,e,t+1,o),o++;return n===null?null:Fa({start:i,end:i+1},n)}}function _g(s){let e=0,t=0,i=0,n=0,o=0;for(let d=0;d<s.length;d++)o=s.charCodeAt(d),mr(o)&&e++,Ma(o)&&t++,Du(o)&&i++,Oa(o)&&n++;const r=e/s.length,l=t/s.length,a=i/s.length,h=n/s.length;return{upperPercent:r,lowerPercent:l,alphaPercent:a,numericPercent:h}}function wg(s){const{upperPercent:e,lowerPercent:t}=s;return t===0&&e>.6}function yg(s){const{upperPercent:e,lowerPercent:t,alphaPercent:i,numericPercent:n}=s;return t>.2&&e<.8&&i>.6&&n<.2}function vg(s){let e=0,t=0,i=0,n=0;for(let o=0;o<s.length;o++)i=s.charCodeAt(o),mr(i)&&e++,Ma(i)&&t++,Cu(i)&&n++;return(e===0||t===0)&&n===0?s.length<=30:e<=5}function ku(s,e){if(!e||(e=e.trim(),e.length===0)||!vg(s))return null;e.length>60&&(e=e.substring(0,60));const t=_g(e);if(!yg(t)){if(!wg(t))return null;e=e.toLowerCase()}let i=null,n=0;for(s=s.toLowerCase();n<e.length&&(i=Hl(s,e,0,n))===null;)n=Eu(e,n+1);return i}function k7(s,e,t=!1){if(!e||e.length===0)return null;let i=null,n=0;for(s=s.toLowerCase(),e=e.toLowerCase();n<e.length&&(i=Kl(s,e,0,n,t),i===null);)n=Nu(e,n+1);return i}function Kl(s,e,t,i,n){let o=0;if(t===s.length)return[];if(i===e.length)return null;if(!tc(s.charCodeAt(t),e.charCodeAt(i))){const a=sc(s.charCodeAt(t));if(!a)return null;for(let h=0;h<a.length;h++)if(!tc(a[h],e.charCodeAt(i+h)))return null;o+=a.length-1}let r=null,l=i+o+1;if(r=Kl(s,e,t+1,l,n),!n)for(;!r&&(l=Nu(e,l))<e.length;)r=Kl(s,e,t+1,l,n),l++;if(!r)return null;if(s.charCodeAt(t)!==e.charCodeAt(i)){const a=sc(s.charCodeAt(t));if(!a)return r;for(let h=0;h<a.length;h++)if(a[h]!==e.charCodeAt(i+h))return r}return Fa({start:i,end:i+o+1},r)}function Nu(s,e){for(let t=e;t<s.length;t++)if(Bo(s.charCodeAt(t))||t>0&&Bo(s.charCodeAt(t-1)))return t;return s.length}const Sg=vu(zo,ku,gg),Cg=vu(zo,ku,bg),ic=new hu(1e4);function nc(s,e,t=!1){if(typeof s!="string"||typeof e!="string")return null;let i=ic.get(s);i||(i=new RegExp(x1(s),"i"),ic.set(s,i));const n=i.exec(e);return n?[{start:n.index,end:n.index+n[0].length}]:t?Cg(s,e):Sg(s,e)}function xg(s,e){const t=Oi(s,s.toLowerCase(),0,e,e.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return t?Tu(t):null}function N7(s,e,t,i,n,o){const r=Math.min(13,s.length);for(;t<r;t++){const l=Oi(s,e,t,i,n,o,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(l)return l}return[0,o]}function Tu(s){if(typeof s>"u")return[];const e=[],t=s[1];for(let i=s.length-1;i>1;i--){const n=s[i]+t,o=e[e.length-1];o&&o.end===n?o.end=n+1:e.push({start:n,end:n+1})}return e}const Ls=128;function za(){const s=[],e=[];for(let t=0;t<=Ls;t++)e[t]=0;for(let t=0;t<=Ls;t++)s.push(e.slice(0));return s}function Au(s){const e=[];for(let t=0;t<=s;t++)e[t]=0;return e}const Lu=Au(2*Ls),$l=Au(2*Ls),ls=za(),Xs=za(),Yn=za();function jn(s,e){if(e<0||e>=s.length)return!1;const t=s.codePointAt(e);switch(t){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!Ad(t)}}function oc(s,e){if(e<0||e>=s.length)return!1;switch(s.charCodeAt(e)){case 32:case 9:return!0;default:return!1}}function uo(s,e,t){return e[s]!==t[s]}function Dg(s,e,t,i,n,o,r=!1){for(;e<t&&n<o;)s[e]===i[n]&&(r&&(Lu[e]=n),e+=1),n+=1;return e===t}var Li;(function(s){s.Default=[-100,0];function e(t){return!t||t.length===2&&t[0]===-100&&t[1]===0}s.isDefault=e})(Li||(Li={}));const sh=class sh{constructor(e,t){this.firstMatchCanBeWeak=e,this.boostFullMatch=t}};sh.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};let Wl=sh;function Oi(s,e,t,i,n,o,r=Wl.default){const l=s.length>Ls?Ls:s.length,a=i.length>Ls?Ls:i.length;if(t>=l||o>=a||l-t>a-o||!Dg(e,t,l,n,o,a,!0))return;Eg(l,a,t,o,e,n);let h=1,d=1,u=t,f=o;const g=[!1];for(h=1,u=t;u<l;h++,u++){const N=Lu[u],K=$l[u],T=u+1<l?$l[u+1]:a;for(d=N-o+1,f=N;f<T;d++,f++){let E=Number.MIN_SAFE_INTEGER,I=!1;f<=K&&(E=kg(s,e,u,t,i,n,f,a,o,ls[h-1][d-1]===0,g));let A=0;E!==Number.MAX_SAFE_INTEGER&&(I=!0,A=E+Xs[h-1][d-1]);const k=f>N,q=k?Xs[h][d-1]+(ls[h][d-1]>0?-5:0):0,be=f>N+1&&ls[h][d-1]>0,ee=be?Xs[h][d-2]+(ls[h][d-2]>0?-5:0):0;if(be&&(!k||ee>=q)&&(!I||ee>=A))Xs[h][d]=ee,Yn[h][d]=3,ls[h][d]=0;else if(k&&(!I||q>=A))Xs[h][d]=q,Yn[h][d]=2,ls[h][d]=0;else if(I)Xs[h][d]=A,Yn[h][d]=1,ls[h][d]=ls[h-1][d-1]+1;else throw new Error("not possible")}}if(!g[0]&&!r.firstMatchCanBeWeak)return;h--,d--;const y=[Xs[h][d],o];let _=0,D=0;for(;h>=1;){let N=d;do{const K=Yn[h][N];if(K===3)N=N-2;else if(K===2)N=N-1;else break}while(N>=1);_>1&&e[t+h-1]===n[o+d-1]&&!uo(N+o-1,i,n)&&_+1>ls[h][N]&&(N=d),N===d?_++:_=1,D||(D=N),h--,d=N-1,y.push(d)}a-o===l&&r.boostFullMatch&&(y[0]+=2);const L=D-l;return y[0]-=L,y}function Eg(s,e,t,i,n,o){let r=s-1,l=e-1;for(;r>=t&&l>=i;)n[r]===o[l]&&($l[r]=l,r--),l--}function kg(s,e,t,i,n,o,r,l,a,h,d){if(e[t]!==o[r])return Number.MIN_SAFE_INTEGER;let u=1,f=!1;return r===t-i?u=s[t]===n[r]?7:5:uo(r,n,o)&&(r===0||!uo(r-1,n,o))?(u=s[t]===n[r]?7:5,f=!0):jn(o,r)&&(r===0||!jn(o,r-1))?u=5:(jn(o,r-1)||oc(o,r-1))&&(u=5,f=!0),u>1&&t===i&&(d[0]=!0),f||(f=uo(r,n,o)||jn(o,r-1)||oc(o,r-1)),t===i?r>a&&(u-=f?3:5):h?u+=f?2:0:u+=f?0:1,r+1===l&&(u-=f?3:5),u}function T7(s,e,t,i,n,o,r){return Ng(s,e,t,i,n,o,!0,r)}function Ng(s,e,t,i,n,o,r,l){let a=Oi(s,e,t,i,n,o,l);if(s.length>=3){const h=Math.min(7,s.length-1);for(let d=t+1;d<h;d++){const u=Tg(s,d);if(u){const f=Oi(u,u.toLowerCase(),t,i,n,o,l);f&&(f[0]-=3,(!a||f[0]>a[0])&&(a=f))}}}return a}function Tg(s,e){if(e+1>=s.length)return;const t=s[e],i=s[e+1];if(t!==i)return s.slice(0,e)+i+t+s.slice(e+2)}const Ag="$(",Ba=new RegExp(`\\$\\(${We.iconNameExpression}(?:${We.iconModifierExpression})?\\)`,"g"),Lg=new RegExp(`(\\\\)?${Ba.source}`,"g");function Ig(s){return s.replace(Lg,(e,t)=>t?e:`\\${e}`)}const Pg=new RegExp(`\\\\${Ba.source}`,"g");function Rg(s){return s.replace(Pg,e=>`\\${e}`)}const Mg=new RegExp(`(\\s)?(\\\\)?${Ba.source}(\\s)?`,"g");function Iu(s){return s.indexOf(Ag)===-1?s:s.replace(Mg,(e,t,i,n)=>i?e:t||n||"")}function A7(s){return s?s.replace(/\$\((.*?)\)/g,(e,t)=>` ${t} `).trim():""}const Gr=new RegExp(`\\$\\(${We.iconNameCharacter}+\\)`,"g");function L7(s){Gr.lastIndex=0;let e="";const t=[];let i=0;for(;;){const n=Gr.lastIndex,o=Gr.exec(s),r=s.substring(n,o==null?void 0:o.index);if(r.length>0){e+=r;for(let l=0;l<r.length;l++)t.push(i)}if(!o)break;i+=o[0].length}return{text:e,iconOffsets:t}}function I7(s,e,t=!1){const{text:i,iconOffsets:n}=e;if(!n||n.length===0)return nc(s,i,t);const o=dr(i," "),r=i.length-o.length,l=nc(s,o,t);if(l)for(const a of l){const h=n[a.start+r]+r;a.start+=h,a.end+=h}return l}function as(s){return Lo(s,!0)}class Og{constructor(e){this._ignorePathCasing=e}compare(e,t,i=!1){return e===t?0:yl(this.getComparisonKey(e,i),this.getComparisonKey(t,i))}isEqual(e,t,i=!1){return e===t?!0:!e||!t?!1:this.getComparisonKey(e,i)===this.getComparisonKey(t,i)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}isEqualOrParent(e,t,i=!1){if(e.scheme===t.scheme){if(e.scheme===De.file)return Ol(as(e),as(t),this._ignorePathCasing(e))&&e.query===t.query&&(i||e.fragment===t.fragment);if(lc(e.authority,t.authority))return Ol(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(i||e.fragment===t.fragment)}return!1}joinPath(e,...t){return Ce.joinPath(e,...t)}basenameOrAuthority(e){return zg(e)||e.authority}basename(e){return Te.basename(e.path)}extname(e){return Te.extname(e.path)}dirname(e){if(e.path.length===0)return e;let t;return e.scheme===De.file?t=Ce.file(l1(as(e))).path:(t=Te.dirname(e.path),e.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return e.scheme===De.file?t=Ce.file(i1(as(e))).path:t=Te.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!lc(e.authority,t.authority))return;if(e.scheme===De.file){const o=r1(as(e),as(t));return kt?du(o):o}let i=e.path||"/";const n=t.path||"/";if(this._ignorePathCasing(e)){let o=0;for(const r=Math.min(i.length,n.length);o<r&&!(i.charCodeAt(o)!==n.charCodeAt(o)&&i.charAt(o).toLowerCase()!==n.charAt(o).toLowerCase());o++);i=n.substr(0,o)+i.substr(o)}return Te.relative(i,n)}resolvePath(e,t){if(e.scheme===De.file){const i=Ce.file(o1(as(e),t));return e.with({authority:i.authority,path:i.path})}return t=km(t),e.with({path:Te.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,t){return e===t||e!==void 0&&t!==void 0&&wi(e,t)}hasTrailingPathSeparator(e,t=Ot){if(e.scheme===De.file){const i=as(e);return i.length>Uh(i).length&&i[i.length-1]===t}else{const i=e.path;return i.length>1&&i.charCodeAt(i.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=Ot){return ac(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=Ot){let i=!1;if(e.scheme===De.file){const n=as(e);i=n!==void 0&&n.length===Uh(n).length&&n[n.length-1]===t}else{t="/";const n=e.path;i=n.length===1&&n.charCodeAt(n.length-1)===47}return!i&&!ac(e,t)?e.with({path:e.path+"/"}):e}}const ge=new Og(()=>!1),Fg=ge.isEqual.bind(ge);ge.isEqualOrParent.bind(ge);ge.getComparisonKey.bind(ge);const P7=ge.basenameOrAuthority.bind(ge),zg=ge.basename.bind(ge),R7=ge.extname.bind(ge),Bg=ge.dirname.bind(ge),M7=ge.joinPath.bind(ge),O7=ge.normalizePath.bind(ge),F7=ge.relativePath.bind(ge),rc=ge.resolvePath.bind(ge);ge.isAbsolutePath.bind(ge);const lc=ge.isEqualAuthority.bind(ge),ac=ge.hasTrailingPathSeparator.bind(ge);ge.removeTrailingPathSeparator.bind(ge);ge.addTrailingPathSeparator.bind(ge);var hc;(function(s){s.META_DATA_LABEL="label",s.META_DATA_DESCRIPTION="description",s.META_DATA_SIZE="size",s.META_DATA_MIME="mime";function e(t){const i=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach(r=>{const[l,a]=r.split(":");l&&a&&i.set(l,a)});const o=t.path.substring(0,t.path.indexOf(";"));return o&&i.set(s.META_DATA_MIME,o),i}s.parseMetaData=e})(hc||(hc={}));class Hg{constructor(e="",t=!1){if(this.value=e,typeof this.value!="string")throw fd("value");typeof t=="boolean"?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=t.isTrusted??void 0,this.supportThemeIcons=t.supportThemeIcons??!1,this.supportHtml=t.supportHtml??!1)}appendText(e,t=0){return this.value+=Wg(this.supportThemeIcons?Ig(e):e).replace(/([ \t]+)/g,(i,n)=>"&nbsp;".repeat(n.length)).replace(/\>/gm,"\\>").replace(/\n/g,t===1?`\\
`:`

`),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+=`
${Vg(t,e)}
`,this}appendLink(e,t,i){return this.value+="[",this.value+=this._escape(t,"]"),this.value+="](",this.value+=this._escape(String(e),")"),i&&(this.value+=` "${this._escape(this._escape(i,'"'),")")}"`),this.value+=")",this}_escape(e,t){const i=new RegExp(Io(t),"g");return e.replace(i,(n,o)=>e.charAt(o-1)!=="\\"?`\\${n}`:n)}}function Kg(s){return fo(s)?!s.value:Array.isArray(s)?s.every(Kg):!0}function fo(s){return s instanceof Hg?!0:s&&typeof s=="object"?typeof s.value=="string"&&(typeof s.isTrusted=="boolean"||typeof s.isTrusted=="object"||s.isTrusted===void 0)&&(typeof s.supportThemeIcons=="boolean"||s.supportThemeIcons===void 0):!1}function $g(s,e){return s===e?!0:!s||!e?!1:s.value===e.value&&s.isTrusted===e.isTrusted&&s.supportThemeIcons===e.supportThemeIcons&&s.supportHtml===e.supportHtml&&(s.baseUri===e.baseUri||!!s.baseUri&&!!e.baseUri&&Fg(Ce.from(s.baseUri),Ce.from(e.baseUri)))}function Wg(s){return s.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function Vg(s,e){var n;const t=((n=s.match(/^`+/gm))==null?void 0:n.reduce((o,r)=>o.length>r.length?o:r).length)??0,i=t>=3?t+1:3;return[`${"`".repeat(i)}${e}`,s,`${"`".repeat(i)}`].join(`
`)}function Xn(s){return s.replace(/"/g,"&quot;")}function Yr(s){return s&&s.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function Ug(s){const e=[],t=s.split("|").map(n=>n.trim());s=t[0];const i=t[1];if(i){const n=/height=(\d+)/.exec(i),o=/width=(\d+)/.exec(i),r=n?n[1]:"",l=o?o[1]:"",a=isFinite(parseInt(l)),h=isFinite(parseInt(r));a&&e.push(`width="${l}"`),h&&e.push(`height="${r}"`)}return{href:s,dimensions:e}}class qg{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const cc=new qg("id#");let Ge={};(function(){function s(e,t){t(Ge)}s.amd=!0,function(e,t){typeof s=="function"&&s.amd?s(["exports"],t):typeof exports=="object"&&typeof module<"u"?t(exports):(e=typeof globalThis<"u"?globalThis:e||self,t(e.marked={}))}(this,function(e){function t(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}e.defaults=t();function i(se){e.defaults=se}const n=/[&<>"']/,o=new RegExp(n.source,"g"),r=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,l=new RegExp(r.source,"g"),a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},h=se=>a[se];function d(se,p){if(p){if(n.test(se))return se.replace(o,h)}else if(r.test(se))return se.replace(l,h);return se}const u=/(^|[^\[])\^/g;function f(se,p){let m=typeof se=="string"?se:se.source;p=p||"";const b={replace:(w,v)=>{let C=typeof v=="string"?v:v.source;return C=C.replace(u,"$1"),m=m.replace(w,C),b},getRegex:()=>new RegExp(m,p)};return b}function g(se){try{se=encodeURI(se).replace(/%25/g,"%")}catch{return null}return se}const y={exec:()=>null};function _(se,p){const m=se.replace(/\|/g,(v,C,x)=>{let z=!1,H=C;for(;--H>=0&&x[H]==="\\";)z=!z;return z?"|":" |"}),b=m.split(/ \|/);let w=0;if(b[0].trim()||b.shift(),b.length>0&&!b[b.length-1].trim()&&b.pop(),p)if(b.length>p)b.splice(p);else for(;b.length<p;)b.push("");for(;w<b.length;w++)b[w]=b[w].trim().replace(/\\\|/g,"|");return b}function D(se,p,m){const b=se.length;if(b===0)return"";let w=0;for(;w<b&&se.charAt(b-w-1)===p;)w++;return se.slice(0,b-w)}function L(se,p){if(se.indexOf(p[1])===-1)return-1;let m=0;for(let b=0;b<se.length;b++)if(se[b]==="\\")b++;else if(se[b]===p[0])m++;else if(se[b]===p[1]&&(m--,m<0))return b;return-1}function N(se,p,m,b){const w=p.href,v=p.title?d(p.title):null,C=se[1].replace(/\\([\[\]])/g,"$1");if(se[0].charAt(0)!=="!"){b.state.inLink=!0;const x={type:"link",raw:m,href:w,title:v,text:C,tokens:b.inlineTokens(C)};return b.state.inLink=!1,x}return{type:"image",raw:m,href:w,title:v,text:d(C)}}function K(se,p){const m=se.match(/^(\s+)(?:```)/);if(m===null)return p;const b=m[1];return p.split(`
`).map(w=>{const v=w.match(/^\s+/);if(v===null)return w;const[C]=v;return C.length>=b.length?w.slice(b.length):w}).join(`
`)}class T{constructor(p){Ne(this,"options");Ne(this,"rules");Ne(this,"lexer");this.options=p||e.defaults}space(p){const m=this.rules.block.newline.exec(p);if(m&&m[0].length>0)return{type:"space",raw:m[0]}}code(p){const m=this.rules.block.code.exec(p);if(m){const b=m[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:m[0],codeBlockStyle:"indented",text:this.options.pedantic?b:D(b,`
`)}}}fences(p){const m=this.rules.block.fences.exec(p);if(m){const b=m[0],w=K(b,m[3]||"");return{type:"code",raw:b,lang:m[2]?m[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):m[2],text:w}}}heading(p){const m=this.rules.block.heading.exec(p);if(m){let b=m[2].trim();if(/#$/.test(b)){const w=D(b,"#");(this.options.pedantic||!w||/ $/.test(w))&&(b=w.trim())}return{type:"heading",raw:m[0],depth:m[1].length,text:b,tokens:this.lexer.inline(b)}}}hr(p){const m=this.rules.block.hr.exec(p);if(m)return{type:"hr",raw:D(m[0],`
`)}}blockquote(p){const m=this.rules.block.blockquote.exec(p);if(m){let b=D(m[0],`
`).split(`
`),w="",v="";const C=[];for(;b.length>0;){let x=!1;const z=[];let H;for(H=0;H<b.length;H++)if(/^ {0,3}>/.test(b[H]))z.push(b[H]),x=!0;else if(!x)z.push(b[H]);else break;b=b.slice(H);const te=z.join(`
`),ae=te.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");w=w?`${w}
${te}`:te,v=v?`${v}
${ae}`:ae;const ue=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(ae,C,!0),this.lexer.state.top=ue,b.length===0)break;const ye=C[C.length-1];if((ye==null?void 0:ye.type)==="code")break;if((ye==null?void 0:ye.type)==="blockquote"){const ve=ye,tt=ve.raw+`
`+b.join(`
`),wt=this.blockquote(tt);C[C.length-1]=wt,w=w.substring(0,w.length-ve.raw.length)+wt.raw,v=v.substring(0,v.length-ve.text.length)+wt.text;break}else if((ye==null?void 0:ye.type)==="list"){const ve=ye,tt=ve.raw+`
`+b.join(`
`),wt=this.list(tt);C[C.length-1]=wt,w=w.substring(0,w.length-ye.raw.length)+wt.raw,v=v.substring(0,v.length-ve.raw.length)+wt.raw,b=tt.substring(C[C.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:w,tokens:C,text:v}}}list(p){let m=this.rules.block.list.exec(p);if(m){let b=m[1].trim();const w=b.length>1,v={type:"list",raw:"",ordered:w,start:w?+b.slice(0,-1):"",loose:!1,items:[]};b=w?`\\d{1,9}\\${b.slice(-1)}`:`\\${b}`,this.options.pedantic&&(b=w?b:"[*+-]");const C=new RegExp(`^( {0,3}${b})((?:[	 ][^\\n]*)?(?:\\n|$))`);let x=!1;for(;p;){let z=!1,H="",te="";if(!(m=C.exec(p))||this.rules.block.hr.test(p))break;H=m[0],p=p.substring(H.length);let ae=m[2].split(`
`,1)[0].replace(/^\t+/,qi=>" ".repeat(3*qi.length)),ue=p.split(`
`,1)[0],ye=!ae.trim(),ve=0;if(this.options.pedantic?(ve=2,te=ae.trimStart()):ye?ve=m[1].length+1:(ve=m[2].search(/[^ ]/),ve=ve>4?1:ve,te=ae.slice(ve),ve+=m[1].length),ye&&/^ *$/.test(ue)&&(H+=ue+`
`,p=p.substring(ue.length+1),z=!0),!z){const qi=new RegExp(`^ {0,${Math.min(3,ve-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),j=new RegExp(`^ {0,${Math.min(3,ve-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),S=new RegExp(`^ {0,${Math.min(3,ve-1)}}(?:\`\`\`|~~~)`),F=new RegExp(`^ {0,${Math.min(3,ve-1)}}#`);for(;p;){const U=p.split(`
`,1)[0];if(ue=U,this.options.pedantic&&(ue=ue.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),S.test(ue)||F.test(ue)||qi.test(ue)||j.test(p))break;if(ue.search(/[^ ]/)>=ve||!ue.trim())te+=`
`+ue.slice(ve);else{if(ye||ae.search(/[^ ]/)>=4||S.test(ae)||F.test(ae)||j.test(ae))break;te+=`
`+ue}!ye&&!ue.trim()&&(ye=!0),H+=U+`
`,p=p.substring(U.length+1),ae=ue.slice(ve)}}v.loose||(x?v.loose=!0:/\n *\n *$/.test(H)&&(x=!0));let tt=null,wt;this.options.gfm&&(tt=/^\[[ xX]\] /.exec(te),tt&&(wt=tt[0]!=="[ ] ",te=te.replace(/^\[[ xX]\] +/,""))),v.items.push({type:"list_item",raw:H,task:!!tt,checked:wt,loose:!1,text:te,tokens:[]}),v.raw+=H}v.items[v.items.length-1].raw=v.items[v.items.length-1].raw.trimEnd(),v.items[v.items.length-1].text=v.items[v.items.length-1].text.trimEnd(),v.raw=v.raw.trimEnd();for(let z=0;z<v.items.length;z++)if(this.lexer.state.top=!1,v.items[z].tokens=this.lexer.blockTokens(v.items[z].text,[]),!v.loose){const H=v.items[z].tokens.filter(ae=>ae.type==="space"),te=H.length>0&&H.some(ae=>/\n.*\n/.test(ae.raw));v.loose=te}if(v.loose)for(let z=0;z<v.items.length;z++)v.items[z].loose=!0;return v}}html(p){const m=this.rules.block.html.exec(p);if(m)return{type:"html",block:!0,raw:m[0],pre:m[1]==="pre"||m[1]==="script"||m[1]==="style",text:m[0]}}def(p){const m=this.rules.block.def.exec(p);if(m){const b=m[1].toLowerCase().replace(/\s+/g," "),w=m[2]?m[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",v=m[3]?m[3].substring(1,m[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):m[3];return{type:"def",tag:b,raw:m[0],href:w,title:v}}}table(p){const m=this.rules.block.table.exec(p);if(!m||!/[:|]/.test(m[2]))return;const b=_(m[1]),w=m[2].replace(/^\||\| *$/g,"").split("|"),v=m[3]&&m[3].trim()?m[3].replace(/\n[ \t]*$/,"").split(`
`):[],C={type:"table",raw:m[0],header:[],align:[],rows:[]};if(b.length===w.length){for(const x of w)/^ *-+: *$/.test(x)?C.align.push("right"):/^ *:-+: *$/.test(x)?C.align.push("center"):/^ *:-+ *$/.test(x)?C.align.push("left"):C.align.push(null);for(let x=0;x<b.length;x++)C.header.push({text:b[x],tokens:this.lexer.inline(b[x]),header:!0,align:C.align[x]});for(const x of v)C.rows.push(_(x,C.header.length).map((z,H)=>({text:z,tokens:this.lexer.inline(z),header:!1,align:C.align[H]})));return C}}lheading(p){const m=this.rules.block.lheading.exec(p);if(m)return{type:"heading",raw:m[0],depth:m[2].charAt(0)==="="?1:2,text:m[1],tokens:this.lexer.inline(m[1])}}paragraph(p){const m=this.rules.block.paragraph.exec(p);if(m){const b=m[1].charAt(m[1].length-1)===`
`?m[1].slice(0,-1):m[1];return{type:"paragraph",raw:m[0],text:b,tokens:this.lexer.inline(b)}}}text(p){const m=this.rules.block.text.exec(p);if(m)return{type:"text",raw:m[0],text:m[0],tokens:this.lexer.inline(m[0])}}escape(p){const m=this.rules.inline.escape.exec(p);if(m)return{type:"escape",raw:m[0],text:d(m[1])}}tag(p){const m=this.rules.inline.tag.exec(p);if(m)return!this.lexer.state.inLink&&/^<a /i.test(m[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(m[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(m[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(m[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:m[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:m[0]}}link(p){const m=this.rules.inline.link.exec(p);if(m){const b=m[2].trim();if(!this.options.pedantic&&/^</.test(b)){if(!/>$/.test(b))return;const C=D(b.slice(0,-1),"\\");if((b.length-C.length)%2===0)return}else{const C=L(m[2],"()");if(C>-1){const z=(m[0].indexOf("!")===0?5:4)+m[1].length+C;m[2]=m[2].substring(0,C),m[0]=m[0].substring(0,z).trim(),m[3]=""}}let w=m[2],v="";if(this.options.pedantic){const C=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(w);C&&(w=C[1],v=C[3])}else v=m[3]?m[3].slice(1,-1):"";return w=w.trim(),/^</.test(w)&&(this.options.pedantic&&!/>$/.test(b)?w=w.slice(1):w=w.slice(1,-1)),N(m,{href:w&&w.replace(this.rules.inline.anyPunctuation,"$1"),title:v&&v.replace(this.rules.inline.anyPunctuation,"$1")},m[0],this.lexer)}}reflink(p,m){let b;if((b=this.rules.inline.reflink.exec(p))||(b=this.rules.inline.nolink.exec(p))){const w=(b[2]||b[1]).replace(/\s+/g," "),v=m[w.toLowerCase()];if(!v){const C=b[0].charAt(0);return{type:"text",raw:C,text:C}}return N(b,v,b[0],this.lexer)}}emStrong(p,m,b=""){let w=this.rules.inline.emStrongLDelim.exec(p);if(!w||w[3]&&b.match(/[\p{L}\p{N}]/u))return;if(!(w[1]||w[2]||"")||!b||this.rules.inline.punctuation.exec(b)){const C=[...w[0]].length-1;let x,z,H=C,te=0;const ae=w[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(ae.lastIndex=0,m=m.slice(-1*p.length+C);(w=ae.exec(m))!=null;){if(x=w[1]||w[2]||w[3]||w[4]||w[5]||w[6],!x)continue;if(z=[...x].length,w[3]||w[4]){H+=z;continue}else if((w[5]||w[6])&&C%3&&!((C+z)%3)){te+=z;continue}if(H-=z,H>0)continue;z=Math.min(z,z+H+te);const ue=[...w[0]][0].length,ye=p.slice(0,C+w.index+ue+z);if(Math.min(C,z)%2){const tt=ye.slice(1,-1);return{type:"em",raw:ye,text:tt,tokens:this.lexer.inlineTokens(tt)}}const ve=ye.slice(2,-2);return{type:"strong",raw:ye,text:ve,tokens:this.lexer.inlineTokens(ve)}}}}codespan(p){const m=this.rules.inline.code.exec(p);if(m){let b=m[2].replace(/\n/g," ");const w=/[^ ]/.test(b),v=/^ /.test(b)&&/ $/.test(b);return w&&v&&(b=b.substring(1,b.length-1)),b=d(b,!0),{type:"codespan",raw:m[0],text:b}}}br(p){const m=this.rules.inline.br.exec(p);if(m)return{type:"br",raw:m[0]}}del(p){const m=this.rules.inline.del.exec(p);if(m)return{type:"del",raw:m[0],text:m[2],tokens:this.lexer.inlineTokens(m[2])}}autolink(p){const m=this.rules.inline.autolink.exec(p);if(m){let b,w;return m[2]==="@"?(b=d(m[1]),w="mailto:"+b):(b=d(m[1]),w=b),{type:"link",raw:m[0],text:b,href:w,tokens:[{type:"text",raw:b,text:b}]}}}url(p){var b;let m;if(m=this.rules.inline.url.exec(p)){let w,v;if(m[2]==="@")w=d(m[0]),v="mailto:"+w;else{let C;do C=m[0],m[0]=((b=this.rules.inline._backpedal.exec(m[0]))==null?void 0:b[0])??"";while(C!==m[0]);w=d(m[0]),m[1]==="www."?v="http://"+m[0]:v=m[0]}return{type:"link",raw:m[0],text:w,href:v,tokens:[{type:"text",raw:w,text:w}]}}}inlineText(p){const m=this.rules.inline.text.exec(p);if(m){let b;return this.lexer.state.inRawBlock?b=m[0]:b=d(m[0]),{type:"text",raw:m[0],text:b}}}}const E=/^(?: *(?:\n|$))+/,I=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,A=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,k=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,q=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,be=/(?:[*+-]|\d{1,9}[.)])/,ee=f(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,be).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Q=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,B=/^[^\n]+/,O=/(?!\s*\])(?:\\.|[^\[\]\\])+/,V=f(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",O).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),W=f(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,be).getRegex(),G="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ne=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,fe=f("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",ne).replace("tag",G).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Pe=f(Q).replace("hr",k).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",G).getRegex(),gt={blockquote:f(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Pe).getRegex(),code:I,def:V,fences:A,heading:q,hr:k,html:fe,lheading:ee,list:W,newline:E,paragraph:Pe,table:y,text:B},Ee=f("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",k).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",G).getRegex(),Et={...gt,table:Ee,paragraph:f(Q).replace("hr",k).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ee).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",G).getRegex()},Le={...gt,html:f(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ne).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:y,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:f(Q).replace("hr",k).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ee).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},bt=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ws=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Vs=/^( {2,}|\\)\n(?!\s*$)/,Ki=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ws="\\p{P}\\p{S}",Mn=f(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,ws).getRegex(),ys=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,$i=f(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,ws).getRegex(),ns=f("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,ws).getRegex(),Wi=f("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,ws).getRegex(),Vi=f(/\\([punct])/,"gu").replace(/punct/g,ws).getRegex(),vs=f(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),hi=f(ne).replace("(?:-->|$)","-->").getRegex(),ci=f("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",hi).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Us=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,On=f(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Us).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Fn=f(/^!?\[(label)\]\[(ref)\]/).replace("label",Us).replace("ref",O).getRegex(),di=f(/^!?\[(ref)\](?:\[\])?/).replace("ref",O).getRegex(),qs=f("reflink|nolink(?!\\()","g").replace("reflink",Fn).replace("nolink",di).getRegex(),Bt={_backpedal:y,anyPunctuation:Vi,autolink:vs,blockSkip:ys,br:Vs,code:Ws,del:y,emStrongLDelim:$i,emStrongRDelimAst:ns,emStrongRDelimUnd:Wi,escape:bt,link:On,nolink:di,punctuation:Mn,reflink:Fn,reflinkSearch:qs,tag:ci,text:Ki,url:y},Ss={...Bt,link:f(/^!?\[(label)\]\((.*?)\)/).replace("label",Us).getRegex(),reflink:f(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Us).getRegex()},ui={...Bt,escape:f(bt).replace("])","~|])").getRegex(),url:f(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},zn={...ui,br:f(Vs).replace("{2,}","*").getRegex(),text:f(ui.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Gs={normal:gt,gfm:Et,pedantic:Le},os={normal:Bt,gfm:ui,breaks:zn,pedantic:Ss};class rt{constructor(p){Ne(this,"tokens");Ne(this,"options");Ne(this,"state");Ne(this,"tokenizer");Ne(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=p||e.defaults,this.options.tokenizer=this.options.tokenizer||new T,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const m={block:Gs.normal,inline:os.normal};this.options.pedantic?(m.block=Gs.pedantic,m.inline=os.pedantic):this.options.gfm&&(m.block=Gs.gfm,this.options.breaks?m.inline=os.breaks:m.inline=os.gfm),this.tokenizer.rules=m}static get rules(){return{block:Gs,inline:os}}static lex(p,m){return new rt(m).lex(p)}static lexInline(p,m){return new rt(m).inlineTokens(p)}lex(p){p=p.replace(/\r\n|\r/g,`
`),this.blockTokens(p,this.tokens);for(let m=0;m<this.inlineQueue.length;m++){const b=this.inlineQueue[m];this.inlineTokens(b.src,b.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(p,m=[],b=!1){this.options.pedantic?p=p.replace(/\t/g,"    ").replace(/^ +$/gm,""):p=p.replace(/^( *)(\t+)/gm,(x,z,H)=>z+"    ".repeat(H.length));let w,v,C;for(;p;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(x=>(w=x.call({lexer:this},p,m))?(p=p.substring(w.raw.length),m.push(w),!0):!1))){if(w=this.tokenizer.space(p)){p=p.substring(w.raw.length),w.raw.length===1&&m.length>0?m[m.length-1].raw+=`
`:m.push(w);continue}if(w=this.tokenizer.code(p)){p=p.substring(w.raw.length),v=m[m.length-1],v&&(v.type==="paragraph"||v.type==="text")?(v.raw+=`
`+w.raw,v.text+=`
`+w.text,this.inlineQueue[this.inlineQueue.length-1].src=v.text):m.push(w);continue}if(w=this.tokenizer.fences(p)){p=p.substring(w.raw.length),m.push(w);continue}if(w=this.tokenizer.heading(p)){p=p.substring(w.raw.length),m.push(w);continue}if(w=this.tokenizer.hr(p)){p=p.substring(w.raw.length),m.push(w);continue}if(w=this.tokenizer.blockquote(p)){p=p.substring(w.raw.length),m.push(w);continue}if(w=this.tokenizer.list(p)){p=p.substring(w.raw.length),m.push(w);continue}if(w=this.tokenizer.html(p)){p=p.substring(w.raw.length),m.push(w);continue}if(w=this.tokenizer.def(p)){p=p.substring(w.raw.length),v=m[m.length-1],v&&(v.type==="paragraph"||v.type==="text")?(v.raw+=`
`+w.raw,v.text+=`
`+w.raw,this.inlineQueue[this.inlineQueue.length-1].src=v.text):this.tokens.links[w.tag]||(this.tokens.links[w.tag]={href:w.href,title:w.title});continue}if(w=this.tokenizer.table(p)){p=p.substring(w.raw.length),m.push(w);continue}if(w=this.tokenizer.lheading(p)){p=p.substring(w.raw.length),m.push(w);continue}if(C=p,this.options.extensions&&this.options.extensions.startBlock){let x=1/0;const z=p.slice(1);let H;this.options.extensions.startBlock.forEach(te=>{H=te.call({lexer:this},z),typeof H=="number"&&H>=0&&(x=Math.min(x,H))}),x<1/0&&x>=0&&(C=p.substring(0,x+1))}if(this.state.top&&(w=this.tokenizer.paragraph(C))){v=m[m.length-1],b&&(v==null?void 0:v.type)==="paragraph"?(v.raw+=`
`+w.raw,v.text+=`
`+w.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=v.text):m.push(w),b=C.length!==p.length,p=p.substring(w.raw.length);continue}if(w=this.tokenizer.text(p)){p=p.substring(w.raw.length),v=m[m.length-1],v&&v.type==="text"?(v.raw+=`
`+w.raw,v.text+=`
`+w.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=v.text):m.push(w);continue}if(p){const x="Infinite loop on byte: "+p.charCodeAt(0);if(this.options.silent){console.error(x);break}else throw new Error(x)}}return this.state.top=!0,m}inline(p,m=[]){return this.inlineQueue.push({src:p,tokens:m}),m}inlineTokens(p,m=[]){let b,w,v,C=p,x,z,H;if(this.tokens.links){const te=Object.keys(this.tokens.links);if(te.length>0)for(;(x=this.tokenizer.rules.inline.reflinkSearch.exec(C))!=null;)te.includes(x[0].slice(x[0].lastIndexOf("[")+1,-1))&&(C=C.slice(0,x.index)+"["+"a".repeat(x[0].length-2)+"]"+C.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(x=this.tokenizer.rules.inline.blockSkip.exec(C))!=null;)C=C.slice(0,x.index)+"["+"a".repeat(x[0].length-2)+"]"+C.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(x=this.tokenizer.rules.inline.anyPunctuation.exec(C))!=null;)C=C.slice(0,x.index)+"++"+C.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;p;)if(z||(H=""),z=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(te=>(b=te.call({lexer:this},p,m))?(p=p.substring(b.raw.length),m.push(b),!0):!1))){if(b=this.tokenizer.escape(p)){p=p.substring(b.raw.length),m.push(b);continue}if(b=this.tokenizer.tag(p)){p=p.substring(b.raw.length),w=m[m.length-1],w&&b.type==="text"&&w.type==="text"?(w.raw+=b.raw,w.text+=b.text):m.push(b);continue}if(b=this.tokenizer.link(p)){p=p.substring(b.raw.length),m.push(b);continue}if(b=this.tokenizer.reflink(p,this.tokens.links)){p=p.substring(b.raw.length),w=m[m.length-1],w&&b.type==="text"&&w.type==="text"?(w.raw+=b.raw,w.text+=b.text):m.push(b);continue}if(b=this.tokenizer.emStrong(p,C,H)){p=p.substring(b.raw.length),m.push(b);continue}if(b=this.tokenizer.codespan(p)){p=p.substring(b.raw.length),m.push(b);continue}if(b=this.tokenizer.br(p)){p=p.substring(b.raw.length),m.push(b);continue}if(b=this.tokenizer.del(p)){p=p.substring(b.raw.length),m.push(b);continue}if(b=this.tokenizer.autolink(p)){p=p.substring(b.raw.length),m.push(b);continue}if(!this.state.inLink&&(b=this.tokenizer.url(p))){p=p.substring(b.raw.length),m.push(b);continue}if(v=p,this.options.extensions&&this.options.extensions.startInline){let te=1/0;const ae=p.slice(1);let ue;this.options.extensions.startInline.forEach(ye=>{ue=ye.call({lexer:this},ae),typeof ue=="number"&&ue>=0&&(te=Math.min(te,ue))}),te<1/0&&te>=0&&(v=p.substring(0,te+1))}if(b=this.tokenizer.inlineText(v)){p=p.substring(b.raw.length),b.raw.slice(-1)!=="_"&&(H=b.raw.slice(-1)),z=!0,w=m[m.length-1],w&&w.type==="text"?(w.raw+=b.raw,w.text+=b.text):m.push(b);continue}if(p){const te="Infinite loop on byte: "+p.charCodeAt(0);if(this.options.silent){console.error(te);break}else throw new Error(te)}}return m}}class Ht{constructor(p){Ne(this,"options");Ne(this,"parser");this.options=p||e.defaults}space(p){return""}code({text:p,lang:m,escaped:b}){var C;const w=(C=(m||"").match(/^\S*/))==null?void 0:C[0],v=p.replace(/\n$/,"")+`
`;return w?'<pre><code class="language-'+d(w)+'">'+(b?v:d(v,!0))+`</code></pre>
`:"<pre><code>"+(b?v:d(v,!0))+`</code></pre>
`}blockquote({tokens:p}){return`<blockquote>
${this.parser.parse(p)}</blockquote>
`}html({text:p}){return p}heading({tokens:p,depth:m}){return`<h${m}>${this.parser.parseInline(p)}</h${m}>
`}hr(p){return`<hr>
`}list(p){const m=p.ordered,b=p.start;let w="";for(let x=0;x<p.items.length;x++){const z=p.items[x];w+=this.listitem(z)}const v=m?"ol":"ul",C=m&&b!==1?' start="'+b+'"':"";return"<"+v+C+`>
`+w+"</"+v+`>
`}listitem(p){let m="";if(p.task){const b=this.checkbox({checked:!!p.checked});p.loose?p.tokens.length>0&&p.tokens[0].type==="paragraph"?(p.tokens[0].text=b+" "+p.tokens[0].text,p.tokens[0].tokens&&p.tokens[0].tokens.length>0&&p.tokens[0].tokens[0].type==="text"&&(p.tokens[0].tokens[0].text=b+" "+p.tokens[0].tokens[0].text)):p.tokens.unshift({type:"text",raw:b+" ",text:b+" "}):m+=b+" "}return m+=this.parser.parse(p.tokens,!!p.loose),`<li>${m}</li>
`}checkbox({checked:p}){return"<input "+(p?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:p}){return`<p>${this.parser.parseInline(p)}</p>
`}table(p){let m="",b="";for(let v=0;v<p.header.length;v++)b+=this.tablecell(p.header[v]);m+=this.tablerow({text:b});let w="";for(let v=0;v<p.rows.length;v++){const C=p.rows[v];b="";for(let x=0;x<C.length;x++)b+=this.tablecell(C[x]);w+=this.tablerow({text:b})}return w&&(w=`<tbody>${w}</tbody>`),`<table>
<thead>
`+m+`</thead>
`+w+`</table>
`}tablerow({text:p}){return`<tr>
${p}</tr>
`}tablecell(p){const m=this.parser.parseInline(p.tokens),b=p.header?"th":"td";return(p.align?`<${b} align="${p.align}">`:`<${b}>`)+m+`</${b}>
`}strong({tokens:p}){return`<strong>${this.parser.parseInline(p)}</strong>`}em({tokens:p}){return`<em>${this.parser.parseInline(p)}</em>`}codespan({text:p}){return`<code>${p}</code>`}br(p){return"<br>"}del({tokens:p}){return`<del>${this.parser.parseInline(p)}</del>`}link({href:p,title:m,tokens:b}){const w=this.parser.parseInline(b),v=g(p);if(v===null)return w;p=v;let C='<a href="'+p+'"';return m&&(C+=' title="'+m+'"'),C+=">"+w+"</a>",C}image({href:p,title:m,text:b}){const w=g(p);if(w===null)return b;p=w;let v=`<img src="${p}" alt="${b}"`;return m&&(v+=` title="${m}"`),v+=">",v}text(p){return"tokens"in p&&p.tokens?this.parser.parseInline(p.tokens):p.text}}class rs{strong({text:p}){return p}em({text:p}){return p}codespan({text:p}){return p}del({text:p}){return p}html({text:p}){return p}text({text:p}){return p}link({text:p}){return""+p}image({text:p}){return""+p}br(){return""}}class Be{constructor(p){Ne(this,"options");Ne(this,"renderer");Ne(this,"textRenderer");this.options=p||e.defaults,this.options.renderer=this.options.renderer||new Ht,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new rs}static parse(p,m){return new Be(m).parse(p)}static parseInline(p,m){return new Be(m).parseInline(p)}parse(p,m=!0){let b="";for(let w=0;w<p.length;w++){const v=p[w];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[v.type]){const x=v,z=this.options.extensions.renderers[x.type].call({parser:this},x);if(z!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(x.type)){b+=z||"";continue}}const C=v;switch(C.type){case"space":{b+=this.renderer.space(C);continue}case"hr":{b+=this.renderer.hr(C);continue}case"heading":{b+=this.renderer.heading(C);continue}case"code":{b+=this.renderer.code(C);continue}case"table":{b+=this.renderer.table(C);continue}case"blockquote":{b+=this.renderer.blockquote(C);continue}case"list":{b+=this.renderer.list(C);continue}case"html":{b+=this.renderer.html(C);continue}case"paragraph":{b+=this.renderer.paragraph(C);continue}case"text":{let x=C,z=this.renderer.text(x);for(;w+1<p.length&&p[w+1].type==="text";)x=p[++w],z+=`
`+this.renderer.text(x);m?b+=this.renderer.paragraph({type:"paragraph",raw:z,text:z,tokens:[{type:"text",raw:z,text:z}]}):b+=z;continue}default:{const x='Token with "'+C.type+'" type was not found.';if(this.options.silent)return console.error(x),"";throw new Error(x)}}}return b}parseInline(p,m){m=m||this.renderer;let b="";for(let w=0;w<p.length;w++){const v=p[w];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[v.type]){const x=this.options.extensions.renderers[v.type].call({parser:this},v);if(x!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(v.type)){b+=x||"";continue}}const C=v;switch(C.type){case"escape":{b+=m.text(C);break}case"html":{b+=m.html(C);break}case"link":{b+=m.link(C);break}case"image":{b+=m.image(C);break}case"strong":{b+=m.strong(C);break}case"em":{b+=m.em(C);break}case"codespan":{b+=m.codespan(C);break}case"br":{b+=m.br(C);break}case"del":{b+=m.del(C);break}case"text":{b+=m.text(C);break}default:{const x='Token with "'+C.type+'" type was not found.';if(this.options.silent)return console.error(x),"";throw new Error(x)}}}return b}}class _t{constructor(p){Ne(this,"options");this.options=p||e.defaults}preprocess(p){return p}postprocess(p){return p}processAllTokens(p){return p}}Ne(_t,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class fi{constructor(...p){Ne(this,"defaults",t());Ne(this,"options",this.setOptions);Ne(this,"parse",this.parseMarkdown(rt.lex,Be.parse));Ne(this,"parseInline",this.parseMarkdown(rt.lexInline,Be.parseInline));Ne(this,"Parser",Be);Ne(this,"Renderer",Ht);Ne(this,"TextRenderer",rs);Ne(this,"Lexer",rt);Ne(this,"Tokenizer",T);Ne(this,"Hooks",_t);this.use(...p)}walkTokens(p,m){var w,v;let b=[];for(const C of p)switch(b=b.concat(m.call(this,C)),C.type){case"table":{const x=C;for(const z of x.header)b=b.concat(this.walkTokens(z.tokens,m));for(const z of x.rows)for(const H of z)b=b.concat(this.walkTokens(H.tokens,m));break}case"list":{const x=C;b=b.concat(this.walkTokens(x.items,m));break}default:{const x=C;(v=(w=this.defaults.extensions)==null?void 0:w.childTokens)!=null&&v[x.type]?this.defaults.extensions.childTokens[x.type].forEach(z=>{const H=x[z].flat(1/0);b=b.concat(this.walkTokens(H,m))}):x.tokens&&(b=b.concat(this.walkTokens(x.tokens,m)))}}return b}use(...p){const m=this.defaults.extensions||{renderers:{},childTokens:{}};return p.forEach(b=>{const w={...b};if(w.async=this.defaults.async||w.async||!1,b.extensions&&(b.extensions.forEach(v=>{if(!v.name)throw new Error("extension name required");if("renderer"in v){const C=m.renderers[v.name];C?m.renderers[v.name]=function(...x){let z=v.renderer.apply(this,x);return z===!1&&(z=C.apply(this,x)),z}:m.renderers[v.name]=v.renderer}if("tokenizer"in v){if(!v.level||v.level!=="block"&&v.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const C=m[v.level];C?C.unshift(v.tokenizer):m[v.level]=[v.tokenizer],v.start&&(v.level==="block"?m.startBlock?m.startBlock.push(v.start):m.startBlock=[v.start]:v.level==="inline"&&(m.startInline?m.startInline.push(v.start):m.startInline=[v.start]))}"childTokens"in v&&v.childTokens&&(m.childTokens[v.name]=v.childTokens)}),w.extensions=m),b.renderer){const v=this.defaults.renderer||new Ht(this.defaults);for(const C in b.renderer){if(!(C in v))throw new Error(`renderer '${C}' does not exist`);if(["options","parser"].includes(C))continue;const x=C,z=b.renderer[x],H=v[x];v[x]=(...te)=>{let ae=z.apply(v,te);return ae===!1&&(ae=H.apply(v,te)),ae||""}}w.renderer=v}if(b.tokenizer){const v=this.defaults.tokenizer||new T(this.defaults);for(const C in b.tokenizer){if(!(C in v))throw new Error(`tokenizer '${C}' does not exist`);if(["options","rules","lexer"].includes(C))continue;const x=C,z=b.tokenizer[x],H=v[x];v[x]=(...te)=>{let ae=z.apply(v,te);return ae===!1&&(ae=H.apply(v,te)),ae}}w.tokenizer=v}if(b.hooks){const v=this.defaults.hooks||new _t;for(const C in b.hooks){if(!(C in v))throw new Error(`hook '${C}' does not exist`);if(C==="options")continue;const x=C,z=b.hooks[x],H=v[x];_t.passThroughHooks.has(C)?v[x]=te=>{if(this.defaults.async)return Promise.resolve(z.call(v,te)).then(ue=>H.call(v,ue));const ae=z.call(v,te);return H.call(v,ae)}:v[x]=(...te)=>{let ae=z.apply(v,te);return ae===!1&&(ae=H.apply(v,te)),ae}}w.hooks=v}if(b.walkTokens){const v=this.defaults.walkTokens,C=b.walkTokens;w.walkTokens=function(x){let z=[];return z.push(C.call(this,x)),v&&(z=z.concat(v.call(this,x))),z}}this.defaults={...this.defaults,...w}}),this}setOptions(p){return this.defaults={...this.defaults,...p},this}lexer(p,m){return rt.lex(p,m??this.defaults)}parser(p,m){return Be.parse(p,m??this.defaults)}parseMarkdown(p,m){return(w,v)=>{const C={...v},x={...this.defaults,...C},z=this.onError(!!x.silent,!!x.async);if(this.defaults.async===!0&&C.async===!1)return z(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof w>"u"||w===null)return z(new Error("marked(): input parameter is undefined or null"));if(typeof w!="string")return z(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(w)+", string expected"));if(x.hooks&&(x.hooks.options=x),x.async)return Promise.resolve(x.hooks?x.hooks.preprocess(w):w).then(H=>p(H,x)).then(H=>x.hooks?x.hooks.processAllTokens(H):H).then(H=>x.walkTokens?Promise.all(this.walkTokens(H,x.walkTokens)).then(()=>H):H).then(H=>m(H,x)).then(H=>x.hooks?x.hooks.postprocess(H):H).catch(z);try{x.hooks&&(w=x.hooks.preprocess(w));let H=p(w,x);x.hooks&&(H=x.hooks.processAllTokens(H)),x.walkTokens&&this.walkTokens(H,x.walkTokens);let te=m(H,x);return x.hooks&&(te=x.hooks.postprocess(te)),te}catch(H){return z(H)}}}onError(p,m){return b=>{if(b.message+=`
Please report this to https://github.com/markedjs/marked.`,p){const w="<p>An error occurred:</p><pre>"+d(b.message+"",!0)+"</pre>";return m?Promise.resolve(w):w}if(m)return Promise.reject(b);throw b}}}const At=new fi;function me(se,p){return At.parse(se,p)}me.options=me.setOptions=function(se){return At.setOptions(se),me.defaults=At.defaults,i(me.defaults),me},me.getDefaults=t,me.defaults=e.defaults,me.use=function(...se){return At.use(...se),me.defaults=At.defaults,i(me.defaults),me},me.walkTokens=function(se,p){return At.walkTokens(se,p)},me.parseInline=At.parseInline,me.Parser=Be,me.parser=Be.parse,me.Renderer=Ht,me.TextRenderer=rs,me.Lexer=rt,me.lexer=rt.lex,me.Tokenizer=T,me.Hooks=_t,me.parse=me;const Ys=me.options,vr=me.setOptions,Sr=me.use,He=me.walkTokens,Cs=me.parseInline,Cr=me,Bn=Be.parse,Ui=rt.lex;e.Hooks=_t,e.Lexer=rt,e.Marked=fi,e.Parser=Be,e.Renderer=Ht,e.TextRenderer=rs,e.Tokenizer=T,e.getDefaults=t,e.lexer=Ui,e.marked=me,e.options=Ys,e.parse=Cr,e.parseInline=Cs,e.parser=Bn,e.setOptions=vr,e.use=Sr,e.walkTokens=He})})();Ge.Hooks||exports.Hooks;Ge.Lexer||exports.Lexer;Ge.Marked||exports.Marked;Ge.Parser||exports.Parser;var Pu=Ge.Renderer||exports.Renderer;Ge.TextRenderer||exports.TextRenderer;Ge.Tokenizer||exports.Tokenizer;var Gg=Ge.defaults||exports.defaults;Ge.getDefaults||exports.getDefaults;var gr=Ge.lexer||exports.lexer;Ge.marked||exports.marked;Ge.options||exports.options;var Ru=Ge.parse||exports.parse;Ge.parseInline||exports.parseInline;var Yg=Ge.parser||exports.parser;Ge.setOptions||exports.setOptions;Ge.use||exports.use;Ge.walkTokens||exports.walkTokens;function jg(s){return JSON.stringify(s,Zg)}function Xg(s){let e=JSON.parse(s);return e=Vl(e),e}function Zg(s,e){return e instanceof RegExp?{$mid:2,source:e.source,flags:e.flags}:e}function Vl(s,e=0){if(!s||e>200)return s;if(typeof s=="object"){switch(s.$mid){case 1:return Ce.revive(s);case 2:return new RegExp(s.source,s.flags);case 17:return new Date(s.source)}if(s instanceof La||s instanceof Uint8Array)return s;if(Array.isArray(s))for(let t=0;t<s.length;++t)s[t]=Vl(s[t],e+1);else for(const t in s)Object.hasOwnProperty.call(s,t)&&(s[t]=Vl(s[t],e+1))}return s}const jr=Object.freeze({image:({href:s,title:e,text:t})=>{let i=[],n=[];return s&&({href:s,dimensions:i}=Ug(s),n.push(`src="${Xn(s)}"`)),t&&n.push(`alt="${Xn(t)}"`),e&&n.push(`title="${Xn(e)}"`),i.length&&(n=n.concat(i)),"<img "+n.join(" ")+">"},paragraph({tokens:s}){return`<p>${this.parser.parseInline(s)}</p>`},link({href:s,title:e,tokens:t}){let i=this.parser.parseInline(t);return typeof s!="string"?"":(s===i&&(i=Yr(i)),e=typeof e=="string"?Xn(Yr(e)):"",s=Yr(s),s=s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${s}" title="${e||s}" draggable="false">${i}</a>`)}});function Mu(s,e={},t={}){const i=new J;let n=!1;const o=Ra(e),r=function(_){let D;try{D=Xg(decodeURIComponent(_))}catch{}return D?(D=Ef(D,L=>{if(s.uris&&s.uris[L])return Ce.revive(s.uris[L])}),encodeURIComponent(JSON.stringify(D))):_},l=function(_,D){const L=s.uris&&s.uris[_];let N=Ce.revive(L);return D?_.startsWith(De.data+":")?_:(N||(N=Ce.parse(_)),Sa.uriToBrowserUri(N).toString(!0)):!N||Ce.parse(_).toString()===N.toString()?_:(N.query&&(N=N.with({query:r(N.query)})),N.toString())},a=new Pu;a.image=jr.image,a.link=jr.link,a.paragraph=jr.paragraph;const h=[],d=[];if(e.codeBlockRendererSync?a.code=({text:_,lang:D})=>{const L=cc.nextId(),N=e.codeBlockRendererSync(dc(D),_);return d.push([L,N]),`<div class="code" data-code="${L}">${lo(_)}</div>`}:e.codeBlockRenderer&&(a.code=({text:_,lang:D})=>{const L=cc.nextId(),N=e.codeBlockRenderer(dc(D),_);return h.push(N.then(K=>[L,K])),`<div class="code" data-code="${L}">${lo(_)}</div>`}),e.actionHandler){const _=function(N){let K=N.target;if(!(K.tagName!=="A"&&(K=K.parentElement,!K||K.tagName!=="A")))try{let T=K.dataset.href;T&&(s.baseUri&&(T=Xr(Ce.from(s.baseUri),T)),e.actionHandler.callback(T,N))}catch(T){ft(T)}finally{N.preventDefault()}},D=e.actionHandler.disposables.add(new ce(o,"click")),L=e.actionHandler.disposables.add(new ce(o,"auxclick"));e.actionHandler.disposables.add(P.any(D.event,L.event)(N=>{const K=new As(le(o),N);!K.leftButton&&!K.middleButton||_(K)})),e.actionHandler.disposables.add(R(o,"keydown",N=>{const K=new Re(N);!K.equals(10)&&!K.equals(3)||_(K)}))}s.supportHtml||(a.html=({text:_})=>{var L;return(L=e.sanitizerOptions)!=null&&L.replaceWithPlaintext?lo(_):(s.isTrusted?_.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?_:""}),t.renderer=a;let u=s.value??"";u.length>1e5&&(u=`${u.substr(0,1e5)}…`),s.supportThemeIcons&&(u=Rg(u));let f;if(e.fillInIncompleteTokens){const _={...Gg,...t},D=gr(u,_),L=c0(D);f=Yg(L,_)}else f=Ru(u,{...t,async:!1});s.supportThemeIcons&&(f=ln(f).map(D=>typeof D=="string"?D:D.outerHTML).join(""));const y=new DOMParser().parseFromString(Ul({isTrusted:s.isTrusted,...e.sanitizerOptions},f),"text/html");if(y.body.querySelectorAll("img, audio, video, source").forEach(_=>{const D=_.getAttribute("src");if(D){let L=D;try{s.baseUri&&(L=Xr(Ce.from(s.baseUri),L))}catch{}if(_.setAttribute("src",l(L,!0)),e.remoteImageIsAllowed){const N=Ce.parse(L);N.scheme!==De.file&&N.scheme!==De.data&&!e.remoteImageIsAllowed(N)&&_.replaceWith(X("",void 0,_.outerHTML))}}}),y.body.querySelectorAll("a").forEach(_=>{const D=_.getAttribute("href");if(_.setAttribute("href",""),!D||/^data:|javascript:/i.test(D)||/^command:/i.test(D)&&!s.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(D))_.replaceWith(..._.childNodes);else{let L=l(D,!1);s.baseUri&&(L=Xr(Ce.from(s.baseUri),D)),_.dataset.href=L}}),o.innerHTML=Ul({isTrusted:s.isTrusted,...e.sanitizerOptions},y.body.innerHTML),h.length>0)Promise.all(h).then(_=>{var N;if(n)return;const D=new Map(_),L=o.querySelectorAll("div[data-code]");for(const K of L){const T=D.get(K.dataset.code??"");T&&_n(K,T)}(N=e.asyncRenderCallback)==null||N.call(e)});else if(d.length>0){const _=new Map(d),D=o.querySelectorAll("div[data-code]");for(const L of D){const N=_.get(L.dataset.code??"");N&&_n(L,N)}}if(e.asyncRenderCallback)for(const _ of o.getElementsByTagName("img")){const D=i.add(R(_,"load",()=>{D.dispose(),e.asyncRenderCallback()}))}return{element:o,dispose:()=>{n=!0,i.dispose()}}}function dc(s){if(!s)return"";const e=s.split(/[\s+|:|,|\{|\?]/,1);return e.length?e[0]:s}function Xr(s,e){return/^\w[\w\d+.-]*:/.test(e)?e:s.path.endsWith("/")?rc(s,e).toString():rc(Bg(s),e).toString()}const Qg=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function Ul(s,e){const{config:t,allowedSchemes:i}=e0(s),n=new J;n.add(uc("uponSanitizeAttribute",(o,r)=>{var l;if(r.attrName==="style"||r.attrName==="class"){if(o.tagName==="SPAN"){if(r.attrName==="style"){r.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(border-radius:[0-9]+px;)?$/.test(r.attrValue);return}else if(r.attrName==="class"){r.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(r.attrValue);return}}r.keepAttr=!1;return}else if(o.tagName==="INPUT"&&((l=o.attributes.getNamedItem("type"))==null?void 0:l.value)==="checkbox"){if(r.attrName==="type"&&r.attrValue==="checkbox"||r.attrName==="disabled"||r.attrName==="checked"){r.keepAttr=!0;return}r.keepAttr=!1}})),n.add(uc("uponSanitizeElement",(o,r)=>{var l;if(r.tagName==="input"&&(((l=o.attributes.getNamedItem("type"))==null?void 0:l.value)==="checkbox"?o.setAttribute("disabled",""):s.replaceWithPlaintext||o.remove()),s.replaceWithPlaintext&&!r.allowedTags[r.tagName]&&r.tagName!=="body"&&o.parentElement){let a,h;if(r.tagName==="#comment")a=`<!--${o.textContent}-->`;else{const g=Qg.includes(r.tagName),y=o.attributes.length?" "+Array.from(o.attributes).map(_=>`${_.name}="${_.value}"`).join(" "):"";a=`<${r.tagName}${y}>`,g||(h=`</${r.tagName}>`)}const d=document.createDocumentFragment(),u=o.parentElement.ownerDocument.createTextNode(a);d.appendChild(u);const f=h?o.parentElement.ownerDocument.createTextNode(h):void 0;for(;o.firstChild;)d.appendChild(o.firstChild);f&&d.appendChild(f),o.nodeType===Node.COMMENT_NODE?o.parentElement.insertBefore(d,o):o.parentElement.replaceChild(d,o)}})),n.add(Zp(i));try{return $d(e,{...t,RETURN_TRUSTED_TYPE:!0})}finally{n.dispose()}}const Jg=["align","autoplay","alt","checked","class","colspan","controls","data-code","data-href","disabled","draggable","height","href","loop","muted","playsinline","poster","rowspan","src","style","target","title","type","width","start"];function e0(s){const e=[De.http,De.https,De.mailto,De.data,De.file,De.vscodeFileResource,De.vscodeRemote,De.vscodeRemoteResource];return s.isTrusted&&e.push(De.command),{config:{ALLOWED_TAGS:s.allowedTags??[...Qp],ALLOWED_ATTR:Jg,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:e}}function t0(s){return typeof s=="string"?s:s0(s)}function s0(s,e){let t=s.value??"";t.length>1e5&&(t=`${t.substr(0,1e5)}…`);const i=Ru(t,{async:!1,renderer:o0.value}).replace(/&(#\d+|[a-zA-Z]+);/g,n=>i0.get(n)??n);return Ul({isTrusted:!1},i).toString()}const i0=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]);function n0(){const s=new Pu;return s.code=({text:e})=>e,s.blockquote=({text:e})=>e+`
`,s.html=e=>"",s.heading=function({tokens:e}){return this.parser.parseInline(e)+`
`},s.hr=()=>"",s.list=function({items:e}){return e.map(t=>this.listitem(t)).join(`
`)+`
`},s.listitem=({text:e})=>e+`
`,s.paragraph=function({tokens:e}){return this.parser.parseInline(e)+`
`},s.table=function({header:e,rows:t}){return e.map(i=>this.tablecell(i)).join(" ")+`
`+t.map(i=>i.map(n=>this.tablecell(n)).join(" ")).join(`
`)+`
`},s.tablerow=({text:e})=>e,s.tablecell=function({tokens:e}){return this.parser.parseInline(e)},s.strong=({text:e})=>e,s.em=({text:e})=>e,s.codespan=({text:e})=>e,s.br=e=>`
`,s.del=({text:e})=>e,s.image=e=>"",s.text=({text:e})=>e,s.link=({text:e})=>e,s}const o0=new Pi(s=>n0());function Ho(s){let e="";return s.forEach(t=>{e+=t.raw}),e}function Ou(s){var e,t;if(s.tokens)for(let i=s.tokens.length-1;i>=0;i--){const n=s.tokens[i];if(n.type==="text"){const o=n.raw.split(`
`),r=o[o.length-1];if(r.includes("`"))return u0(s);if(r.includes("**"))return _0(s);if(r.match(/\*\w/))return f0(s);if(r.match(/(^|\s)__\w/))return w0(s);if(r.match(/(^|\s)_\w/))return p0(s);if(r0(r)||l0(r)&&s.tokens.slice(0,i).some(l=>l.type==="text"&&l.raw.match(/\[[^\]]*$/))){const l=s.tokens.slice(i+1);return((e=l[0])==null?void 0:e.type)==="link"&&((t=l[1])==null?void 0:t.type)==="text"&&l[1].raw.match(/^ *"[^"]*$/)||r.match(/^[^"]* +"[^"]*$/)?g0(s):m0(s)}else if(r.match(/(^|\s)\[\w*/))return b0(s)}}}function r0(s){return!!s.match(/(^|\s)\[.*\]\(\w*/)}function l0(s){return!!s.match(/^[^\[]*\]\([^\)]*$/)}function a0(s){var a;const e=s.items[s.items.length-1],t=e.tokens?e.tokens[e.tokens.length-1]:void 0;let i;if((t==null?void 0:t.type)==="text"&&!("inRawBlock"in e)&&(i=Ou(t)),!i||i.type!=="paragraph")return;const n=Ho(s.items.slice(0,-1)),o=(a=e.raw.match(/^(\s*(-|\d+\.|\*) +)/))==null?void 0:a[0];if(!o)return;const r=o+Ho(e.tokens.slice(0,-1))+i.raw,l=gr(n+r)[0];if(l.type==="list")return l}const h0=3;function c0(s){for(let e=0;e<h0;e++){const t=d0(s);if(t)s=t;else break}return s}function d0(s){let e,t;for(e=0;e<s.length;e++){const i=s[e];if(i.type==="paragraph"&&i.raw.match(/(\n|^)\|/)){t=y0(s.slice(e));break}if(e===s.length-1&&i.type==="list"){const n=a0(i);if(n){t=[n];break}}if(e===s.length-1&&i.type==="paragraph"){const n=Ou(i);if(n){t=[n];break}}}if(t){const i=[...s.slice(0,e),...t];return i.links=s.links,i}return null}function u0(s){return Ks(s,"`")}function f0(s){return Ks(s,"*")}function p0(s){return Ks(s,"_")}function m0(s){return Ks(s,")")}function g0(s){return Ks(s,'")')}function b0(s){return Ks(s,"](https://microsoft.com)")}function _0(s){return Ks(s,"**")}function w0(s){return Ks(s,"__")}function Ks(s,e){const t=Ho(Array.isArray(s)?s:[s]);return gr(t+e)[0]}function y0(s){const e=Ho(s),t=e.split(`
`);let i,n=!1;for(let o=0;o<t.length;o++){const r=t[o].trim();if(typeof i>"u"&&r.match(/^\s*\|/)){const l=r.match(/(\|[^\|]+)(?=\||$)/g);l&&(i=l.length)}else if(typeof i=="number")if(r.match(/^\s*\|/)){if(o!==t.length-1)return;n=!0}else return}if(typeof i=="number"&&i>0){const o=n?t.slice(0,-1).join(`
`):e,r=!!o.match(/\|\s*$/),l=o+(r?"":"|")+`
|${" --- |".repeat(i)}`;return gr(l)}}function uc(s,e){return Wd(s,e),we(()=>Vd(s))}const fc=2e4;let ti,po,ql,mo,Gl;function z7(s){ti=document.createElement("div"),ti.className="monaco-aria-container";const e=()=>{const i=document.createElement("div");return i.className="monaco-alert",i.setAttribute("role","alert"),i.setAttribute("aria-atomic","true"),ti.appendChild(i),i};po=e(),ql=e();const t=()=>{const i=document.createElement("div");return i.className="monaco-status",i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),ti.appendChild(i),i};mo=t(),Gl=t(),s.appendChild(ti)}function Cn(s){ti&&(po.textContent!==s?(zt(ql),Ko(po,s)):(zt(po),Ko(ql,s)))}function pc(s){ti&&(mo.textContent!==s?(zt(Gl),Ko(mo,s)):(zt(mo),Ko(Gl,s)))}function Ko(s,e){zt(s),e.length>fc&&(e=e.substr(0,fc)),s.textContent=e,s.style.visibility="hidden",s.style.visibility="visible"}var Ue;(function(s){function e(o,r){if(o.start>=r.end||r.start>=o.end)return{start:0,end:0};const l=Math.max(o.start,r.start),a=Math.min(o.end,r.end);return a-l<=0?{start:0,end:0}:{start:l,end:a}}s.intersect=e;function t(o){return o.end-o.start<=0}s.isEmpty=t;function i(o,r){return!t(e(o,r))}s.intersects=i;function n(o,r){const l=[],a={start:o.start,end:Math.min(r.start,o.end)},h={start:Math.max(r.end,o.start),end:o.end};return t(a)||l.push(a),t(h)||l.push(h),l}s.relativeComplement=n})(Ue||(Ue={}));function v0(s){const e=s;return!!e&&typeof e.x=="number"&&typeof e.y=="number"}var Is;(function(s){s[s.AVOID=0]="AVOID",s[s.ALIGN=1]="ALIGN"})(Is||(Is={}));function Ci(s,e,t){const i=t.mode===Is.ALIGN?t.offset:t.offset+t.size,n=t.mode===Is.ALIGN?t.offset+t.size:t.offset;return t.position===0?e<=s-i?i:e<=n?n-e:Math.max(s-e,0):e<=n?n-e:e<=s-i?i:0}const Ti=class Ti extends Z{constructor(e,t){super(),this.container=null,this.useFixedPosition=!1,this.useShadowDOM=!1,this.delegate=null,this.toDisposeOnClean=Z.None,this.toDisposeOnSetContainer=Z.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=X(".context-view"),Il(this.view),this.setContainer(e,t),this._register(we(()=>this.setContainer(null,1)))}setContainer(e,t){var n;this.useFixedPosition=t!==1;const i=this.useShadowDOM;if(this.useShadowDOM=t===3,!(e===this.container&&i===this.useShadowDOM)&&(this.container&&(this.toDisposeOnSetContainer.dispose(),this.view.remove(),this.shadowRoot&&(this.shadowRoot=null,(n=this.shadowRootHostElement)==null||n.remove(),this.shadowRootHostElement=null),this.container=null),e)){if(this.container=e,this.useShadowDOM){this.shadowRootHostElement=X(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const r=document.createElement("style");r.textContent=S0,this.shadowRoot.appendChild(r),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(X("slot"))}else this.container.appendChild(this.view);const o=new J;Ti.BUBBLE_UP_EVENTS.forEach(r=>{o.add(fs(this.container,r,l=>{this.onDOMEvent(l,!1)}))}),Ti.BUBBLE_DOWN_EVENTS.forEach(r=>{o.add(fs(this.container,r,l=>{this.onDOMEvent(l,!0)},!0))}),this.toDisposeOnSetContainer=o}}show(e){var t,i;this.isVisible()&&this.hide(),zt(this.view),this.view.className="context-view monaco-component",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex=`${2575+(e.layer??0)}`,this.view.style.position=this.useFixedPosition?"fixed":"absolute",Na(this.view),this.toDisposeOnClean=e.render(this.view)||Z.None,this.delegate=e,this.doLayout(),(i=(t=this.delegate).focus)==null||i.call(t)}getViewElement(){return this.view}layout(){var e,t;if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(ca&&Pd.pointerEvents)){this.hide();return}(t=(e=this.delegate)==null?void 0:e.layout)==null||t.call(e),this.doLayout()}}doLayout(){if(!this.isVisible())return;const e=this.delegate.getAnchor();let t;if(Ft(e)){const f=yi(e),g=Mp(e);t={top:f.top*g,left:f.left*g,width:f.width*g,height:f.height*g}}else v0(e)?t={top:e.y,left:e.x,width:e.width||1,height:e.height||2}:t={top:e.posy,left:e.posx,width:2,height:2};const i=Ea(this.view),n=Ll(this.view),o=this.delegate.anchorPosition||0,r=this.delegate.anchorAlignment||0,l=this.delegate.anchorAxisAlignment||0;let a,h;const d=zp();if(l===0){const f={offset:t.top-d.pageYOffset,size:t.height,position:o===0?0:1},g={offset:t.left,size:t.width,position:r===0?0:1,mode:Is.ALIGN};a=Ci(d.innerHeight,n,f)+d.pageYOffset,Ue.intersects({start:a,end:a+n},{start:f.offset,end:f.offset+f.size})&&(g.mode=Is.AVOID),h=Ci(d.innerWidth,i,g)}else{const f={offset:t.left,size:t.width,position:r===0?0:1},g={offset:t.top,size:t.height,position:o===0?0:1,mode:Is.ALIGN};h=Ci(d.innerWidth,i,f),Ue.intersects({start:h,end:h+i},{start:f.offset,end:f.offset+f.size})&&(g.mode=Is.AVOID),a=Ci(d.innerHeight,n,g)+d.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(o===0?"bottom":"top"),this.view.classList.add(r===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const u=yi(this.container);this.view.style.top=`${a-(this.useFixedPosition?yi(this.view).top:u.top)}px`,this.view.style.left=`${h-(this.useFixedPosition?yi(this.view).left:u.left)}px`,this.view.style.width="initial"}hide(e){const t=this.delegate;this.delegate=null,t!=null&&t.onHide&&t.onHide(e),this.toDisposeOnClean.dispose(),Il(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,le(e).document.activeElement):t&&!St(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}};Ti.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],Ti.BUBBLE_DOWN_EVENTS=["click"];let mc=Ti;const S0=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;class C0{constructor(){this._onDidChange=new M,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}const B7=new C0;class br{constructor(e,t,i=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=i}toLabel(e,t,i){if(t.length===0)return null;const n=[];for(let o=0,r=t.length;o<r;o++){const l=t[o],a=i(l);if(a===null)return null;n[o]=D0(l,a,this.modifierLabels[e])}return n.join(" ")}}const x0=new br({ctrlKey:"⌃",shiftKey:"⇧",altKey:"⌥",metaKey:"⌘",separator:""},{ctrlKey:ie({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:ie({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:ie({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:ie({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:ie({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:ie({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:ie({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:ie({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),H7=new br({ctrlKey:ie({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:ie({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:ie({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:ie({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:ie({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:ie({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:ie({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:ie({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:ie({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:ie({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:ie({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:ie({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),K7=new br({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),$7=new br({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function D0(s,e,t){if(e===null)return"";const i=[];return s.ctrlKey&&i.push(t.ctrlKey),s.shiftKey&&i.push(t.shiftKey),s.altKey&&i.push(t.altKey),s.metaKey&&i.push(t.metaKey),e!==""&&i.push(e),i.join(t.separator)}class E0{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){const t=e.charCodeAt(0),i=this._value.charCodeAt(this._pos);return t-i}value(){return this._value[this._pos]}}class k0{constructor(e=!0){this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?ga(e,this._value,0,e.length,this._from,this._to):An(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class N0{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t}reset(e){this._from=0,this._to=0,this._value=e,this._valueLen=e.length;for(let t=e.length-1;t>=0;t--,this._valueLen--){const i=this._value.charCodeAt(t);if(!(i===47||this._splitOnBackslash&&i===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let e=!0;for(;this._to<this._valueLen;this._to++){const t=this._value.charCodeAt(this._to);if(t===47||this._splitOnBackslash&&t===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?ga(e,this._value,0,e.length,this._from,this._to):An(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class T0{constructor(e,t){this._ignorePathCasing=e,this._ignoreQueryAndFragment=t,this._states=[],this._stateIdx=0}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new N0(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(e)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return _h(e,this._value.scheme);if(this._states[this._stateIdx]===2)return _h(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return yl(e,this._value.query);if(this._states[this._stateIdx]===5)return yl(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class Zn{constructor(){this.height=1}rotateLeft(){const e=this.right;return this.right=e.left,e.left=this,this.updateHeight(),e.updateHeight(),e}rotateRight(){const e=this.left;return this.left=e.right,e.right=this,this.updateHeight(),e.updateHeight(),e}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var e;return((e=this.left)==null?void 0:e.height)??0}get heightRight(){var e;return((e=this.right)==null?void 0:e.height)??0}}class go{static forUris(e=()=>!1,t=()=>!1){return new go(new T0(e,t))}static forStrings(){return new go(new E0)}static forConfigKeys(){return new go(new k0)}constructor(e){this._iter=e}clear(){this._root=void 0}set(e,t){const i=this._iter.reset(e);let n;this._root||(this._root=new Zn,this._root.segment=i.value());const o=[];for(n=this._root;;){const l=i.cmp(n.segment);if(l>0)n.left||(n.left=new Zn,n.left.segment=i.value()),o.push([-1,n]),n=n.left;else if(l<0)n.right||(n.right=new Zn,n.right.segment=i.value()),o.push([1,n]),n=n.right;else if(i.hasNext())i.next(),n.mid||(n.mid=new Zn,n.mid.segment=i.value()),o.push([0,n]),n=n.mid;else break}const r=n.value;n.value=t,n.key=e;for(let l=o.length-1;l>=0;l--){const a=o[l][1];a.updateHeight();const h=a.balanceFactor();if(h<-1||h>1){const d=o[l][0],u=o[l+1][0];if(d===1&&u===1)o[l][1]=a.rotateLeft();else if(d===-1&&u===-1)o[l][1]=a.rotateRight();else if(d===1&&u===-1)a.right=o[l+1][1]=o[l+1][1].rotateRight(),o[l][1]=a.rotateLeft();else if(d===-1&&u===1)a.left=o[l+1][1]=o[l+1][1].rotateLeft(),o[l][1]=a.rotateRight();else throw new Error;if(l>0)switch(o[l-1][0]){case-1:o[l-1][1].left=o[l][1];break;case 1:o[l-1][1].right=o[l][1];break;case 0:o[l-1][1].mid=o[l][1];break}else this._root=o[0][1]}}return r}get(e){var t;return(t=this._getNode(e))==null?void 0:t.value}_getNode(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const n=t.cmp(i.segment);if(n>0)i=i.left;else if(n<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else break}return i}has(e){const t=this._getNode(e);return!((t==null?void 0:t.value)===void 0&&(t==null?void 0:t.mid)===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){const i=this._iter.reset(e),n=[];let o=this._root;for(;o;){const r=i.cmp(o.segment);if(r>0)n.push([-1,o]),o=o.left;else if(r<0)n.push([1,o]),o=o.right;else if(i.hasNext())i.next(),n.push([0,o]),o=o.mid;else break}if(o){if(t?(o.left=void 0,o.mid=void 0,o.right=void 0,o.height=1):(o.key=void 0,o.value=void 0),!o.mid&&!o.value)if(o.left&&o.right){const r=this._min(o.right);if(r.key){const{key:l,value:a,segment:h}=r;this._delete(r.key,!1),o.key=l,o.value=a,o.segment=h}}else{const r=o.left??o.right;if(n.length>0){const[l,a]=n[n.length-1];switch(l){case-1:a.left=r;break;case 0:a.mid=r;break;case 1:a.right=r;break}}else this._root=r}for(let r=n.length-1;r>=0;r--){const l=n[r][1];l.updateHeight();const a=l.balanceFactor();if(a>1?(l.right.balanceFactor()>=0||(l.right=l.right.rotateRight()),n[r][1]=l.rotateLeft()):a<-1&&(l.left.balanceFactor()<=0||(l.left=l.left.rotateLeft()),n[r][1]=l.rotateRight()),r>0)switch(n[r-1][0]){case-1:n[r-1][1].left=n[r][1];break;case 1:n[r-1][1].right=n[r][1];break;case 0:n[r-1][1].mid=n[r][1];break}else this._root=n[0][1]}}}_min(e){for(;e.left;)e=e.left;return e}findSubstr(e){const t=this._iter.reset(e);let i=this._root,n;for(;i;){const o=t.cmp(i.segment);if(o>0)i=i.left;else if(o<0)i=i.right;else if(t.hasNext())t.next(),n=i.value||n,i=i.mid;else break}return i&&i.value||n}findSuperstr(e){return this._findSuperstrOrElement(e,!1)}_findSuperstrOrElement(e,t){const i=this._iter.reset(e);let n=this._root;for(;n;){const o=i.cmp(n.segment);if(o>0)n=n.left;else if(o<0)n=n.right;else if(i.hasNext())i.next(),n=n.mid;else return n.mid?this._entries(n.mid):t?n.value:void 0}}forEach(e){for(const[t,i]of this)e(i,t)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(e){const t=[];return this._dfsEntries(e,t),t[Symbol.iterator]()}_dfsEntries(e,t){e&&(e.left&&this._dfsEntries(e.left,t),e.value&&t.push([e.key,e.value]),e.mid&&this._dfsEntries(e.mid,t),e.right&&this._dfsEntries(e.right,t))}}const pt=(s,e)=>s===e;function W7(s=pt){return(e,t)=>Fs(e,t,s)}function V7(){return(s,e)=>s.equals(e)}function U7(s,e,t){if(t!==void 0){const i=s;return i==null||e===void 0||e===null?e===i:t(i,e)}else{const i=s;return(n,o)=>n==null||o===void 0||o===null?o===n:i(n,o)}}function gc(s,e){if(s===e)return!0;if(Array.isArray(s)&&Array.isArray(e)){if(s.length!==e.length)return!1;for(let t=0;t<s.length;t++)if(!gc(s[t],e[t]))return!1;return!0}if(s&&typeof s=="object"&&e&&typeof e=="object"&&Object.getPrototypeOf(s)===Object.prototype&&Object.getPrototypeOf(e)===Object.prototype){const t=s,i=e,n=Object.keys(t),o=Object.keys(i),r=new Set(o);if(n.length!==o.length)return!1;for(const l of n)if(!r.has(l)||!gc(t[l],i[l]))return!1;return!0}return!1}class qe{constructor(e,t,i){this.owner=e,this.debugNameSource=t,this.referenceFn=i}getDebugName(e){return A0(e,this)}}const bc=new Map,Yl=new WeakMap;function A0(s,e){const t=Yl.get(s);if(t)return t;const i=L0(s,e);if(i){let n=bc.get(i)??0;n++,bc.set(i,n);const o=n===1?i:`${i}#${n}`;return Yl.set(s,o),o}}function L0(s,e){const t=Yl.get(s);if(t)return t;const i=e.owner?P0(e.owner)+".":"";let n;const o=e.debugNameSource;if(o!==void 0)if(typeof o=="function"){if(n=o(),n!==void 0)return i+n}else return i+o;const r=e.referenceFn;if(r!==void 0&&(n=Ha(r),n!==void 0))return i+n;if(e.owner!==void 0){const l=I0(e.owner,s);if(l!==void 0)return i+l}}function I0(s,e){for(const t in s)if(s[t]===e)return t}const _c=new Map,wc=new WeakMap;function P0(s){const e=wc.get(s);if(e)return e;const t=R0(s);let i=_c.get(t)??0;i++,_c.set(t,i);const n=i===1?t:`${t}#${i}`;return wc.set(s,n),n}function R0(s){const e=s.constructor;return e?e.name:"Object"}function Ha(s){const e=s.toString(),i=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(e),n=i?i[1]:void 0;return n==null?void 0:n.trim()}let M0;function Fu(){return M0}let zu;function O0(s){zu=s}let Bu;function F0(s){Bu=s}let jl;function z0(s){jl=s}class Hu{get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,t){const i=t===void 0?void 0:e,n=t===void 0?e:t;return jl({owner:i,debugName:()=>{const o=Ha(n);if(o!==void 0)return o;const l=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(n.toString());if(l)return`${this.debugName}.${l[2]}`;if(!i)return`${this.debugName} (mapped)`},debugReferenceFn:n},o=>n(this.read(o),o))}flatten(){return jl({owner:void 0,debugName:()=>`${this.debugName} (flattened)`},e=>this.read(e).read(e))}recomputeInitiallyAndOnChange(e,t){return e.add(zu(this,t)),this}keepObserved(e){return e.add(Bu(this)),this}}class Bi extends Hu{constructor(){super(...arguments),this.observers=new Set}addObserver(e){const t=this.observers.size;this.observers.add(e),t===0&&this.onFirstObserverAdded()}removeObserver(e){this.observers.delete(e)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}function xn(s,e){const t=new In(s,e);try{s(t)}finally{t.finish()}}let Qn;function q7(s){if(Qn)s(Qn);else{const e=new In(s,void 0);Qn=e;try{s(e)}finally{e.finish(),Qn=void 0}}}async function G7(s,e){const t=new In(s,e);try{await s(t)}finally{t.finish()}}function B0(s,e,t){s?e(s):xn(e,t)}class In{constructor(e,t){this._fn=e,this._getDebugName=t,this.updatingObservers=[]}getDebugName(){return this._getDebugName?this._getDebugName():Ha(this._fn)}updateObserver(e,t){this.updatingObservers.push({observer:e,observable:t}),e.beginUpdate(t)}finish(){const e=this.updatingObservers;for(let t=0;t<e.length;t++){const{observer:i,observable:n}=e[t];i.endUpdate(n)}this.updatingObservers=null}}function H0(s,e){let t;return typeof s=="string"?t=new qe(void 0,s,void 0):t=new qe(s,void 0,void 0),new Ka(t,e,pt)}class Ka extends Bi{get debugName(){return this._debugNameData.getDebugName(this)??"ObservableValue"}constructor(e,t,i){super(),this._debugNameData=e,this._equalityComparator=i,this._value=t}get(){return this._value}set(e,t,i){var o;if(i===void 0&&this._equalityComparator(this._value,e))return;let n;t||(t=n=new In(()=>{},()=>`Setting ${this.debugName}`));try{const r=this._value;this._setValue(e),(o=Fu())==null||o.handleObservableChanged(this,{oldValue:r,newValue:e,change:i,didChange:!0,hadValue:!0});for(const l of this.observers)t.updateObserver(l,this),l.handleChange(this,i)}finally{n&&n.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(e){this._value=e}}function Y7(s,e){let t;return typeof s=="string"?t=new qe(void 0,s,void 0):t=new qe(s,void 0,void 0),new K0(t,e,pt)}class K0 extends Ka{_setValue(e){this._value!==e&&(this._value&&this._value.dispose(),this._value=e)}dispose(){var e;(e=this._value)==null||e.dispose()}}function j7(s,e){return e!==void 0?new ai(new qe(s,void 0,e),e,void 0,void 0,void 0,pt):new ai(new qe(void 0,void 0,s),s,void 0,void 0,void 0,pt)}function X7(s,e,t){return new $0(new qe(s,void 0,e),e,void 0,void 0,void 0,pt,t)}function $a(s,e){return new ai(new qe(s.owner,s.debugName,s.debugReferenceFn),e,void 0,void 0,s.onLastObserverRemoved,s.equalsFn??pt)}z0($a);function Z7(s,e){return new ai(new qe(s.owner,s.debugName,void 0),e,s.createEmptyChangeSummary,s.handleChange,void 0,s.equalityComparer??pt)}function Q7(s,e){let t,i;e===void 0?(t=s,i=void 0):(i=s,t=e);const n=new J;return new ai(new qe(i,void 0,t),o=>(n.clear(),t(o,n)),void 0,void 0,()=>n.dispose(),pt)}function J7(s,e){let t,i;e===void 0?(t=s,i=void 0):(i=s,t=e);let n;return new ai(new qe(i,void 0,t),o=>{n?n.clear():n=new J;const r=t(o);return r&&n.add(r),r},void 0,void 0,()=>{n&&(n.dispose(),n=void 0)},pt)}class ai extends Bi{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(e,t,i,n,o=void 0,r){var l;super(),this._debugNameData=e,this._computeFn=t,this.createChangeSummary=i,this._handleChange=n,this._handleLastObserverRemoved=o,this._equalityComparator=r,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(l=this.createChangeSummary)==null?void 0:l.call(this)}onLastObserverRemoved(){var e;this.state=0,this.value=void 0;for(const t of this.dependencies)t.removeObserver(this);this.dependencies.clear(),(e=this._handleLastObserverRemoved)==null||e.call(this)}get(){var e;if(this.observers.size===0){const t=this._computeFn(this,(e=this.createChangeSummary)==null?void 0:e.call(this));return this.onLastObserverRemoved(),t}else{do{if(this.state===1){for(const t of this.dependencies)if(t.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var r;if(this.state===3)return;const e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e;const t=this.state!==0,i=this.value;this.state=3;const n=this.changeSummary;this.changeSummary=(r=this.createChangeSummary)==null?void 0:r.call(this);try{this.value=this._computeFn(this,n)}finally{for(const l of this.dependenciesToBeRemoved)l.removeObserver(this);this.dependenciesToBeRemoved.clear()}if(t&&!this._equalityComparator(i,this.value))for(const l of this.observers)l.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(e){this.updateCount++;const t=this.updateCount===1;if(this.state===3&&(this.state=1,!t))for(const i of this.observers)i.handlePossibleChange(this);if(t)for(const i of this.observers)i.beginUpdate(this)}endUpdate(e){if(this.updateCount--,this.updateCount===0){const t=[...this.observers];for(const i of t)i.endUpdate(this)}ru(()=>this.updateCount>=0)}handlePossibleChange(e){if(this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){this.state=1;for(const t of this.observers)t.handlePossibleChange(this)}}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){const i=this._handleChange?this._handleChange({changedObservable:e,change:t,didChange:o=>o===e},this.changeSummary):!0,n=this.state===3;if(i&&(this.state===1||n)&&(this.state=2,n))for(const o of this.observers)o.handlePossibleChange(this)}}readObservable(e){e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}addObserver(e){const t=!this.observers.has(e)&&this.updateCount>0;super.addObserver(e),t&&e.beginUpdate(this)}removeObserver(e){const t=this.observers.has(e)&&this.updateCount>0;super.removeObserver(e),t&&e.endUpdate(this)}}class $0 extends ai{constructor(e,t,i,n,o=void 0,r,l){super(e,t,i,n,o,r),this.set=l}}function Fi(s){return new _r(new qe(void 0,void 0,s),s,void 0,void 0)}function W0(s,e){return new _r(new qe(s.owner,s.debugName,s.debugReferenceFn??e),e,void 0,void 0)}function V0(s,e){return new _r(new qe(s.owner,s.debugName,s.debugReferenceFn??e),e,s.createEmptyChangeSummary,s.handleChange)}function e_(s,e){const t=new J,i=V0({owner:s.owner,debugName:s.debugName,debugReferenceFn:s.debugReferenceFn??e,createEmptyChangeSummary:s.createEmptyChangeSummary,handleChange:s.handleChange},(n,o)=>{t.clear(),e(n,o,t)});return we(()=>{i.dispose(),t.dispose()})}function t_(s){const e=new J,t=W0({owner:void 0,debugName:void 0,debugReferenceFn:s},i=>{e.clear(),s(i,e)});return we(()=>{t.dispose(),e.dispose()})}class _r{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(e,t,i,n){var o;this._debugNameData=e,this._runFn=t,this.createChangeSummary=i,this._handleChange=n,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(o=this.createChangeSummary)==null?void 0:o.call(this),this._runIfNeeded()}dispose(){this.disposed=!0;for(const e of this.dependencies)e.removeObserver(this);this.dependencies.clear()}_runIfNeeded(){var i,n;if(this.state===3)return;const e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e,this.state=3;const t=this.disposed;try{if(!t){(i=Fu())==null||i.handleAutorunTriggered(this);const o=this.changeSummary;this.changeSummary=(n=this.createChangeSummary)==null?void 0:n.call(this),this._runFn(this,o)}}finally{for(const o of this.dependenciesToBeRemoved)o.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const e of this.dependencies)if(e.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,ru(()=>this.updateCount>=0)}handlePossibleChange(e){this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}handleChange(e,t){this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(!this._handleChange||this._handleChange({changedObservable:e,change:t,didChange:n=>n===e},this.changeSummary))&&(this.state=2)}readObservable(e){if(this.disposed)return e.get();e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}}(function(s){s.Observer=_r})(Fi||(Fi={}));function Ku(s){return new U0(s)}class U0 extends Hu{constructor(e){super(),this.value=e}get debugName(){return this.toString()}get(){return this.value}addObserver(e){}removeObserver(e){}toString(){return`Const: ${this.value}`}}function yc(...s){let e,t,i;return s.length===3?[e,t,i]=s:[t,i]=s,new Ps(new qe(e,void 0,i),t,i,()=>Ps.globalTransaction,pt)}function s_(s,e,t){return new Ps(new qe(s.owner,s.debugName,s.debugReferenceFn??t),e,t,()=>Ps.globalTransaction,s.equalsFn??pt)}class Ps extends Bi{constructor(e,t,i,n,o){super(),this._debugNameData=e,this.event=t,this._getValue=i,this._getTransaction=n,this._equalityComparator=o,this.hasValue=!1,this.handleEvent=r=>{const l=this._getValue(r),a=this.value;(!this.hasValue||!this._equalityComparator(a,l))&&(this.value=l,this.hasValue&&B0(this._getTransaction(),d=>{for(const u of this.observers)d.updateObserver(u,this),u.handleChange(this,void 0)},()=>{const d=this.getDebugName();return"Event fired"+(d?`: ${d}`:"")}),this.hasValue=!0)}}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){const e=this.getDebugName();return"From Event"+(e?`: ${e}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}(function(s){s.Observer=Ps;function e(t,i){let n=!1;Ps.globalTransaction===void 0&&(Ps.globalTransaction=t,n=!0);try{i()}finally{n&&(Ps.globalTransaction=void 0)}}s.batchEventsGlobally=e})(yc||(yc={}));function q0(s,e){return new G0(s,e)}class G0 extends Bi{constructor(e,t){super(),this.debugName=e,this.event=t,this.handleEvent=()=>{xn(i=>{for(const n of this.observers)i.updateObserver(n,this),n.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function i_(s){return typeof s=="string"?new vc(s):new vc(void 0,s)}class vc extends Bi{get debugName(){return new qe(this._owner,this._debugName,void 0).getDebugName(this)??"Observable Signal"}toString(){return this.debugName}constructor(e,t){super(),this._debugName=e,this._owner=t}trigger(e,t){if(!e){xn(i=>{this.trigger(i,t)},()=>`Trigger signal ${this.debugName}`);return}for(const i of this.observers)e.updateObserver(i,this),i.handleChange(this,t)}get(){}}function Y0(s){const e=new $u(!1,void 0);return s.addObserver(e),we(()=>{s.removeObserver(e)})}F0(Y0);function j0(s,e){const t=new $u(!0,e);return s.addObserver(t),e?e(s.get()):s.reportChanges(),we(()=>{s.removeObserver(t)})}O0(j0);class $u{constructor(e,t){this._forceRecompute=e,this._handleValue=t,this._counter=0}beginUpdate(e){this._counter++}endUpdate(e){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,t){}}function X0(s,e){let t;return $a({owner:s,debugReferenceFn:e},n=>(t=e(n,t),t))}function n_(s,e,t,i){let n=new Sc(t,i);return $a({debugReferenceFn:t,owner:s,onLastObserverRemoved:()=>{n.dispose(),n=new Sc(t)}},r=>(n.setItems(e.read(r)),n.getItems()))}class Sc{constructor(e,t){this._map=e,this._keySelector=t,this._cache=new Map,this._items=[]}dispose(){this._cache.forEach(e=>e.store.dispose()),this._cache.clear()}setItems(e){const t=[],i=new Set(this._cache.keys());for(const n of e){const o=this._keySelector?this._keySelector(n):n;let r=this._cache.get(o);if(r)i.delete(o);else{const l=new J;r={out:this._map(n,l),store:l},this._cache.set(o,r)}t.push(r.out)}for(const n of i)this._cache.get(n).store.dispose(),this._cache.delete(n);this._items=t}getItems(){return this._items}}function o_(s,e){return X0(s,(t,i)=>i??e(t))}class Wu{static fromFn(e){return new Wu(e())}constructor(e){this._value=H0(this,void 0),this.promiseResult=this._value,this.promise=e.then(t=>(xn(i=>{this._value.set(new Cc(t,void 0),i)}),t),t=>{throw xn(i=>{this._value.set(new Cc(void 0,t),i)}),t})}}class Cc{constructor(e,t){this.data=e,this.error=t}}function r_(s,e,t,i){return e||(e=n=>n!=null),new Promise((n,o)=>{let r=!0,l=!1;const a=s.map(d=>({isFinished:e(d),error:t?t(d):!1,state:d})),h=Fi(d=>{const{isFinished:u,error:f,state:g}=a.read(d);(u||f)&&(r?l=!0:h.dispose(),f?o(f===!0?g:f):n(g))});if(i){const d=i.onCancellationRequested(()=>{h.dispose(),d.dispose(),o(new zs)});if(i.isCancellationRequested){h.dispose(),d.dispose(),o(new zs);return}}r=!1,l&&h.dispose()})}class Z0 extends Bi{get debugName(){return this._debugNameData.getDebugName(this)??"LazyObservableValue"}constructor(e,t,i){super(),this._debugNameData=e,this._equalityComparator=i,this._isUpToDate=!0,this._deltas=[],this._updateCounter=0,this._value=t}get(){return this._update(),this._value}_update(){if(!this._isUpToDate)if(this._isUpToDate=!0,this._deltas.length>0){for(const e of this.observers)for(const t of this._deltas)e.handleChange(this,t);this._deltas.length=0}else for(const e of this.observers)e.handleChange(this,void 0)}_beginUpdate(){if(this._updateCounter++,this._updateCounter===1)for(const e of this.observers)e.beginUpdate(this)}_endUpdate(){if(this._updateCounter--,this._updateCounter===0){this._update();const e=[...this.observers];for(const t of e)t.endUpdate(this)}}addObserver(e){const t=!this.observers.has(e)&&this._updateCounter>0;super.addObserver(e),t&&e.beginUpdate(this)}removeObserver(e){const t=this.observers.has(e)&&this._updateCounter>0;super.removeObserver(e),t&&e.endUpdate(this)}set(e,t,i){if(i===void 0&&this._equalityComparator(this._value,e))return;let n;t||(t=n=new In(()=>{},()=>`Setting ${this.debugName}`));try{if(this._isUpToDate=!1,this._setValue(e),i!==void 0&&this._deltas.push(i),t.updateObserver({beginUpdate:()=>this._beginUpdate(),endUpdate:()=>this._endUpdate(),handleChange:(o,r)=>{},handlePossibleChange:o=>{}},this),this._updateCounter>1)for(const o of this.observers)o.handlePossibleChange(this)}finally{n&&n.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(e){this._value=e}}function l_(s,e){return s.lazy?new Z0(new qe(s.owner,s.debugName,void 0),e,s.equalsFn??pt):new Ka(new qe(s.owner,s.debugName,void 0),e,s.equalsFn??pt)}const Vu={RESOURCES:"ResourceURLs",TEXT:_m.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"},Q0=()=>({get delay(){return-1},dispose:()=>{},showHover:()=>{}});let wr=Q0;const J0=new Pi(()=>wr("mouse",!1)),e2=new Pi(()=>wr("element",!1));function a_(s){wr=s}function mt(s){return s==="element"?e2.value:J0.value}function Wa(){return wr("element",!0)}let Uu={showHover:()=>{},hideHover:()=>{},showAndFocusLastHover:()=>{},setupManagedHover:()=>null,showManagedHover:()=>{}};function h_(s){Uu=s}function ss(){return Uu}class t2{constructor(e){this.spliceables=e}splice(e,t,i){this.spliceables.forEach(n=>n.splice(e,t,i))}}class Zs extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}}function xc(s,e){const t=[];for(const i of e){if(s.start>=i.range.end)continue;if(s.end<i.range.start)break;const n=Ue.intersect(s,i.range);Ue.isEmpty(n)||t.push({range:n,size:i.size})}return t}function Xl({start:s,end:e},t){return{start:s+t,end:e+t}}function s2(s){const e=[];let t=null;for(const i of s){const n=i.range.start,o=i.range.end,r=i.size;if(t&&r===t.size){t.range.end=o;continue}t={range:{start:n,end:o},size:r},e.push(t)}return e}function i2(...s){return s2(s.reduce((e,t)=>e.concat(t),[]))}class n2{get paddingTop(){return this._paddingTop}set paddingTop(e){this._size=this._size+e-this._paddingTop,this._paddingTop=e}constructor(e){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=e??0,this._size=this._paddingTop}splice(e,t,i=[]){const n=i.length-t,o=xc({start:0,end:e},this.groups),r=xc({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(a=>({range:Xl(a.range,n),size:a.size})),l=i.map((a,h)=>({range:{start:e+h,end:e+h+1},size:a.size}));this.groups=i2(o,l,r),this._size=this._paddingTop+this.groups.reduce((a,h)=>a+h.size*(h.range.end-h.range.start),0)}get count(){const e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;if(e<this._paddingTop)return 0;let t=0,i=this._paddingTop;for(const n of this.groups){const o=n.range.end-n.range.start,r=i+o*n.size;if(e<r)return t+Math.floor((e-i)/n.size);t+=o,i=r}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,i=0;for(const n of this.groups){const o=n.range.end-n.range.start,r=i+o;if(e<r)return this._paddingTop+t+(e-i)*n.size;t+=o*n.size,i=r}return-1}}class o2{constructor(e){this.renderers=e,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(e){let t=this.getTemplateCache(e).pop(),i=!1;if(t)i=this.transactionNodesPendingRemoval.has(t.domNode),i&&this.transactionNodesPendingRemoval.delete(t.domNode);else{const n=X(".monaco-list-row"),r=this.getRenderer(e).renderTemplate(n);t={domNode:n,templateId:e,templateData:r}}return{row:t,isReusingConnectedDomNode:i}}release(e){e&&this.releaseRow(e)}transact(e){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{e()}finally{for(const t of this.transactionNodesPendingRemoval)this.doRemoveNode(t);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(e){const{domNode:t,templateId:i}=e;t&&(this.inTransaction?this.transactionNodesPendingRemoval.add(t):this.doRemoveNode(t)),this.getTemplateCache(i).push(e)}doRemoveNode(e){e.classList.remove("scrolling"),e.remove()}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach((e,t)=>{for(const i of e)this.getRenderer(t).disposeTemplate(i.templateData),i.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(e){const t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}}var _s=function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};const Qs={CurrentDragAndDropData:void 0},Wt={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(s){return[s]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class Pn{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class r2{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class l2{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){const i=e.files.item(t);i&&(i.size||i.type)&&this.files.push(i)}}}getData(){return{types:this.types,files:this.files}}}function a2(s,e){return Array.isArray(s)&&Array.isArray(e)?Fs(s,e):s===e}class h2{constructor(e){e!=null&&e.getSetSize?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(t,i,n)=>n,e!=null&&e.getPosInSet?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(t,i)=>i+1,e!=null&&e.getRole?this.getRole=e.getRole.bind(e):this.getRole=t=>"listitem",e!=null&&e.isChecked?this.isChecked=e.isChecked.bind(e):this.isChecked=t=>{}}}const ir=class ir{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const t of this.items)this.measureItemWidth(t);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:Fr(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(e,t,i,n=Wt){var r,l;if(this.virtualDelegate=t,this.domId=`list_id_${++ir.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new Ln(50),this.splicing=!1,this.dragOverAnimationStopDisposable=Z.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=Z.None,this.onDragLeaveTimeout=Z.None,this.disposables=new J,this._onDidChangeContentHeight=new M,this._onDidChangeContentWidth=new M,this.onDidChangeContentHeight=P.latch(this._onDidChangeContentHeight.event,void 0,this.disposables),this._horizontalScrolling=!1,n.horizontalScrolling&&n.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=this.createRangeMap(n.paddingTop??0);for(const a of i)this.renderers.set(a.templateId,a);this.cache=this.disposables.add(new o2(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof n.mouseSupport=="boolean"?n.mouseSupport:!0),this._horizontalScrolling=n.horizontalScrolling??Wt.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof n.paddingBottom>"u"?0:n.paddingBottom,this.accessibilityProvider=new h2(n.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(n.transformOptimization??Wt.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(Dt.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new pr({forceIntegerValues:!0,smoothScrollDuration:n.smoothScrolling??!1?125:0,scheduleAtNextAnimationFrame:a=>es(le(this.domNode),a)})),this.scrollableElement=this.disposables.add(new bu(this.rowsContainer,{alwaysConsumeMouseWheel:n.alwaysConsumeMouseWheel??Wt.alwaysConsumeMouseWheel,horizontal:1,vertical:n.verticalScrollMode??Wt.verticalScrollMode,useShadows:n.useShadows??Wt.useShadows,mouseWheelScrollSensitivity:n.mouseWheelScrollSensitivity,fastScrollSensitivity:n.fastScrollSensitivity,scrollByPage:n.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(R(this.rowsContainer,Ie.Change,a=>this.onTouchChange(a))),this.disposables.add(R(this.scrollableElement.getDomNode(),"scroll",a=>a.target.scrollTop=0)),this.disposables.add(R(this.domNode,"dragover",a=>this.onDragOver(this.toDragEvent(a)))),this.disposables.add(R(this.domNode,"drop",a=>this.onDrop(this.toDragEvent(a)))),this.disposables.add(R(this.domNode,"dragleave",a=>this.onDragLeave(this.toDragEvent(a)))),this.disposables.add(R(this.domNode,"dragend",a=>this.onDragEnd(a))),this.setRowLineHeight=n.setRowLineHeight??Wt.setRowLineHeight,this.setRowHeight=n.setRowHeight??Wt.setRowHeight,this.supportDynamicHeights=n.supportDynamicHeights??Wt.supportDynamicHeights,this.dnd=n.dnd??this.disposables.add(Wt.dnd),this.layout((r=n.initialSize)==null?void 0:r.height,(l=n.initialSize)==null?void 0:l.width)}updateOptions(e){e.paddingBottom!==void 0&&(this.paddingBottom=e.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),e.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),e.horizontalScrolling!==void 0&&(this.horizontalScrolling=e.horizontalScrolling);let t;if(e.scrollByPage!==void 0&&(t={...t??{},scrollByPage:e.scrollByPage}),e.mouseWheelScrollSensitivity!==void 0&&(t={...t??{},mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),e.fastScrollSensitivity!==void 0&&(t={...t??{},fastScrollSensitivity:e.fastScrollSensitivity}),t&&this.scrollableElement.updateOptions(t),e.paddingTop!==void 0&&e.paddingTop!==this.rangeMap.paddingTop){const i=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),n=e.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=e.paddingTop,this.render(i,Math.max(0,this.lastRenderTop+n),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}createRangeMap(e){return new n2(e)}splice(e,t,i=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,i=[]){const n=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),o={start:e,end:e+t},r=Ue.intersect(n,o),l=new Map;for(let E=r.end-1;E>=r.start;E--){const I=this.items[E];if(I.dragStartDisposable.dispose(),I.checkedDisposable.dispose(),I.row){let A=l.get(I.templateId);A||(A=[],l.set(I.templateId,A));const k=this.renderers.get(I.templateId);k&&k.disposeElement&&k.disposeElement(I.element,E,I.row.templateData,I.size),A.unshift(I.row)}I.row=null,I.stale=!0}const a={start:e+t,end:this.items.length},h=Ue.intersect(a,n),d=Ue.relativeComplement(a,n),u=i.map(E=>({id:String(this.itemId++),element:E,templateId:this.virtualDelegate.getTemplateId(E),size:this.virtualDelegate.getHeight(E),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(E),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:Z.None,checkedDisposable:Z.None,stale:!1}));let f;e===0&&t>=this.items.length?(this.rangeMap=this.createRangeMap(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,u),f=this.items,this.items=u):(this.rangeMap.splice(e,t,u),f=this.items.splice(e,t,...u));const g=i.length-t,y=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),_=Xl(h,g),D=Ue.intersect(y,_);for(let E=D.start;E<D.end;E++)this.updateItemInDOM(this.items[E],E);const L=Ue.relativeComplement(_,y);for(const E of L)for(let I=E.start;I<E.end;I++)this.removeItemFromDOM(I);const N=d.map(E=>Xl(E,g)),T=[{start:e,end:e+i.length},...N].map(E=>Ue.intersect(y,E)).reverse();for(const E of T)for(let I=E.end-1;I>=E.start;I--){const A=this.items[I],k=l.get(A.templateId),q=k==null?void 0:k.pop();this.insertItemInDOM(I,q)}for(const E of l.values())for(const I of E)this.cache.release(I);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),f.map(E=>E.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=es(le(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(const t of this.items)typeof t.width<"u"&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:e===0?0:e+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}element(e){return this.items[e].element}indexOf(e){return this.items.findIndex(t=>t.element===e)}domElement(e){const t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){const i={height:typeof e=="number"?e:Op(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),typeof t<"u"&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof t=="number"?t:Fr(this.domNode)})}render(e,t,i,n,o,r=!1){const l=this.getRenderRange(t,i),a=Ue.relativeComplement(l,e).reverse(),h=Ue.relativeComplement(e,l);if(r){const d=Ue.intersect(e,l);for(let u=d.start;u<d.end;u++)this.updateItemInDOM(this.items[u],u)}this.cache.transact(()=>{for(const d of h)for(let u=d.start;u<d.end;u++)this.removeItemFromDOM(u);for(const d of a)for(let u=d.end-1;u>=d.start;u--)this.insertItemInDOM(u)}),n!==void 0&&(this.rowsContainer.style.left=`-${n}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&o!==void 0&&(this.rowsContainer.style.width=`${Math.max(o,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=i}insertItemInDOM(e,t){var a,h;const i=this.items[e];if(!i.row)if(t)i.row=t,i.stale=!0;else{const d=this.cache.alloc(i.templateId);i.row=d.row,i.stale||(i.stale=d.isReusingConnectedDomNode)}const n=this.accessibilityProvider.getRole(i.element)||"listitem";i.row.domNode.setAttribute("role",n);const o=this.accessibilityProvider.isChecked(i.element);if(typeof o=="boolean")i.row.domNode.setAttribute("aria-checked",String(!!o));else if(o){const d=u=>i.row.domNode.setAttribute("aria-checked",String(!!u));d(o.value),i.checkedDisposable=o.onDidChange(()=>d(o.value))}if(i.stale||!i.row.domNode.parentElement){const d=((h=(a=this.items.at(e+1))==null?void 0:a.row)==null?void 0:h.domNode)??null;(i.row.domNode.parentElement!==this.rowsContainer||i.row.domNode.nextElementSibling!==d)&&this.rowsContainer.insertBefore(i.row.domNode,d),i.stale=!1}this.updateItemInDOM(i,e);const r=this.renderers.get(i.templateId);if(!r)throw new Error(`No renderer found for template id ${i.templateId}`);r==null||r.renderElement(i.element,e,i.row.templateData,i.size);const l=this.dnd.getDragURI(i.element);i.dragStartDisposable.dispose(),i.row.domNode.draggable=!!l,l&&(i.dragStartDisposable=R(i.row.domNode,"dragstart",d=>this.onDragStart(i.element,l,d))),this.horizontalScrolling&&(this.measureItemWidth(i),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width="fit-content",e.width=Fr(e.row.domNode);const t=le(e.row.domNode).getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",t%2===0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){const t=this.items[e];if(t.dragStartDisposable.dispose(),t.checkedDisposable.dispose(),t.row){const i=this.renderers.get(t.templateId);i&&i.disposeElement&&i.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return P.map(this.disposables.add(new ce(this.domNode,"click")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseDblClick(){return P.map(this.disposables.add(new ce(this.domNode,"dblclick")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseMiddleClick(){return P.filter(P.map(this.disposables.add(new ce(this.domNode,"auxclick")).event,e=>this.toMouseEvent(e),this.disposables),e=>e.browserEvent.button===1,this.disposables)}get onMouseDown(){return P.map(this.disposables.add(new ce(this.domNode,"mousedown")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOver(){return P.map(this.disposables.add(new ce(this.domNode,"mouseover")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOut(){return P.map(this.disposables.add(new ce(this.domNode,"mouseout")).event,e=>this.toMouseEvent(e),this.disposables)}get onContextMenu(){return P.any(P.map(this.disposables.add(new ce(this.domNode,"contextmenu")).event,e=>this.toMouseEvent(e),this.disposables),P.map(this.disposables.add(new ce(this.domNode,Ie.Contextmenu)).event,e=>this.toGestureEvent(e),this.disposables))}get onTouchStart(){return P.map(this.disposables.add(new ce(this.domNode,"touchstart")).event,e=>this.toTouchEvent(e),this.disposables)}get onTap(){return P.map(this.disposables.add(new ce(this.rowsContainer,Ie.Tap)).event,e=>this.toGestureEvent(e),this.disposables)}toMouseEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],n=i&&i.element;return{browserEvent:e,index:t,element:n}}toTouchEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],n=i&&i.element;return{browserEvent:e,index:t,element:n}}toGestureEvent(e){const t=this.getItemIndexFromEventTarget(e.initialTarget||null),i=typeof t>"u"?void 0:this.items[t],n=i&&i.element;return{browserEvent:e,index:t,element:n}}toDragEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],n=i&&i.element,o=this.getTargetSector(e,t);return{browserEvent:e,index:t,element:n,sector:o}}onScroll(e){try{const t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,i){var o,r;if(!i.dataTransfer)return;const n=this.dnd.getDragElements(e);if(i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(Vu.TEXT,t),i.dataTransfer.setDragImage){let l;this.dnd.getDragLabel&&(l=this.dnd.getDragLabel(n,i)),typeof l>"u"&&(l=String(n.length));const a=X(".monaco-drag-image");a.textContent=l,(u=>{for(;u&&!u.classList.contains("monaco-workbench");)u=u.parentElement;return u||this.domNode.ownerDocument})(this.domNode).appendChild(a),i.dataTransfer.setDragImage(a,-10,-10),setTimeout(()=>a.remove(),0)}this.domNode.classList.add("dragging"),this.currentDragData=new Pn(n),Qs.CurrentDragAndDropData=new r2(n),(r=(o=this.dnd).onDragStart)==null||r.call(o,this.currentDragData,i)}onDragOver(e){var o,r;if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),Qs.CurrentDragAndDropData&&Qs.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(Qs.CurrentDragAndDropData)this.currentDragData=Qs.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new l2}const t=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.sector,e.browserEvent);if(this.canDrop=typeof t=="boolean"?t:t.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;e.browserEvent.dataTransfer.dropEffect=typeof t!="boolean"&&((o=t.effect)==null?void 0:o.type)===0?"copy":"move";let i;typeof t!="boolean"&&t.feedback?i=t.feedback:typeof e.index>"u"?i=[-1]:i=[e.index],i=vo(i).filter(l=>l>=-1&&l<this.length).sort((l,a)=>l-a),i=i[0]===-1?[-1]:i;let n=typeof t!="boolean"&&t.effect&&t.effect.position?t.effect.position:"drop-target";if(a2(this.currentDragFeedback,i)&&this.currentDragFeedbackPosition===n)return!0;if(this.currentDragFeedback=i,this.currentDragFeedbackPosition=n,this.currentDragFeedbackDisposable.dispose(),i[0]===-1)this.domNode.classList.add(n),this.rowsContainer.classList.add(n),this.currentDragFeedbackDisposable=we(()=>{this.domNode.classList.remove(n),this.rowsContainer.classList.remove(n)});else{if(i.length>1&&n!=="drop-target")throw new Error("Can't use multiple feedbacks with position different than 'over'");n==="drop-target-after"&&i[0]<this.length-1&&(i[0]+=1,n="drop-target-before");for(const l of i){const a=this.items[l];a.dropTarget=!0,(r=a.row)==null||r.domNode.classList.add(n)}this.currentDragFeedbackDisposable=we(()=>{var l;for(const a of i){const h=this.items[a];h.dropTarget=!1,(l=h.row)==null||l.domNode.classList.remove(n)}})}return!0}onDragLeave(e){var t,i;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=Cl(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&((i=(t=this.dnd).onDragLeave)==null||i.call(t,this.currentDragData,e.element,e.index,e.browserEvent))}onDrop(e){if(!this.canDrop)return;const t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,Qs.CurrentDragAndDropData=void 0,!(!t||!e.browserEvent.dataTransfer)&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.sector,e.browserEvent))}onDragEnd(e){var t,i;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,Qs.CurrentDragAndDropData=void 0,(i=(t=this.dnd).onDragEnd)==null||i.call(t,e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackPosition=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=Z.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){const t=Rp(this.domNode).top;this.dragOverAnimationDisposable=jp(le(this.domNode),this.animateDragAndDropScrollTop.bind(this,t))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=Cl(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3,this.disposables),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(this.dragOverMouseY===void 0)return;const t=this.dragOverMouseY-e,i=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>i&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-i))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getTargetSector(e,t){if(t===void 0)return;const i=e.offsetY/this.items[t].size,n=Math.floor(i/.25);return vt(n,0,3)}getItemIndexFromEventTarget(e){const t=this.scrollableElement.getDomNode();let i=e;for(;(Ft(i)||qp(i))&&i!==this.rowsContainer&&t.contains(i);){const n=i.getAttribute("data-index");if(n){const o=Number(n);if(!isNaN(o))return o}i=i.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,i){const n=this.getRenderRange(e,t);let o,r;e===this.elementTop(n.start)?(o=n.start,r=0):n.end-n.start>1&&(o=n.start+1,r=this.elementTop(o)-e);let l=0;for(;;){const a=this.getRenderRange(e,t);let h=!1;for(let d=a.start;d<a.end;d++){const u=this.probeDynamicHeight(d);u!==0&&this.rangeMap.splice(d,1,[this.items[d]]),l+=u,h=h||u!==0}if(!h){l!==0&&this.eventuallyUpdateScrollDimensions();const d=Ue.relativeComplement(n,a);for(const f of d)for(let g=f.start;g<f.end;g++)this.items[g].row&&this.removeItemFromDOM(g);const u=Ue.relativeComplement(a,n).reverse();for(const f of u)for(let g=f.end-1;g>=f.start;g--)this.insertItemInDOM(g);for(let f=a.start;f<a.end;f++)this.items[f].row&&this.updateItemInDOM(this.items[f],f);if(typeof o=="number"){const f=this.scrollable.getFutureScrollPosition().scrollTop-e,g=this.elementTop(o)-r+f;this.setScrollTop(g,i)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(e){var r,l,a;const t=this.items[e];if(this.virtualDelegate.getDynamicHeight){const h=this.virtualDelegate.getDynamicHeight(t.element);if(h!==null){const d=t.size;return t.size=h,t.lastDynamicHeightWidth=this.renderWidth,h-d}}if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(t.element))return 0;const i=t.size;if(t.row)return t.row.domNode.style.height="",t.size=t.row.domNode.offsetHeight,t.size===0&&!St(t.row.domNode,le(t.row.domNode).document.body)&&console.warn("Measuring item node that is not in DOM! Add ListView to the DOM before measuring row height!",new Error().stack),t.lastDynamicHeightWidth=this.renderWidth,t.size-i;const{row:n}=this.cache.alloc(t.templateId);n.domNode.style.height="",this.rowsContainer.appendChild(n.domNode);const o=this.renderers.get(t.templateId);if(!o)throw new Bs("Missing renderer for templateId: "+t.templateId);return o.renderElement(t.element,e,n.templateData,void 0),t.size=n.domNode.offsetHeight,(r=o.disposeElement)==null||r.call(o,t.element,e,n.templateData,void 0),(a=(l=this.virtualDelegate).setDynamicHeight)==null||a.call(l,t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,n.domNode.remove(),this.cache.release(n),t.size-i}getElementDomId(e){return`${this.domId}_${e}`}dispose(){var e,t,i;for(const n of this.items)if(n.dragStartDisposable.dispose(),n.checkedDisposable.dispose(),n.row){const o=this.renderers.get(n.row.templateId);o&&((e=o.disposeElement)==null||e.call(o,n.element,-1,n.row.templateData,void 0),o.disposeTemplate(n.row.templateData))}this.items=[],(t=this.domNode)==null||t.remove(),(i=this.dragOverAnimationDisposable)==null||i.dispose(),this.disposables.dispose()}};ir.InstanceCount=0;let Tt=ir;_s([Ae],Tt.prototype,"onMouseClick",null);_s([Ae],Tt.prototype,"onMouseDblClick",null);_s([Ae],Tt.prototype,"onMouseMiddleClick",null);_s([Ae],Tt.prototype,"onMouseDown",null);_s([Ae],Tt.prototype,"onMouseOver",null);_s([Ae],Tt.prototype,"onMouseOut",null);_s([Ae],Tt.prototype,"onContextMenu",null);_s([Ae],Tt.prototype,"onTouchStart",null);_s([Ae],Tt.prototype,"onTap",null);var $s=function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class c2{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(e){return e}renderElement(e,t,i){const n=this.renderedElements.findIndex(o=>o.templateData===i);if(n>=0){const o=this.renderedElements[n];this.trait.unrender(i),o.index=t}else{const o={index:t,templateData:i};this.renderedElements.push(o)}this.trait.renderIndex(t,i)}splice(e,t,i){const n=[];for(const o of this.renderedElements)o.index<e?n.push(o):o.index>=e+t&&n.push({index:o.index+i-t,templateData:o.templateData});this.renderedElements=n}renderIndexes(e){for(const{index:t,templateData:i}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,i)}disposeTemplate(e){const t=this.renderedElements.findIndex(i=>i.templateData===e);t<0||this.renderedElements.splice(t,1)}}let $o=class{get name(){return this._trait}get renderer(){return new c2(this)}constructor(e){this._trait=e,this.indexes=[],this.sortedIndexes=[],this._onChange=new M,this.onChange=this._onChange.event}splice(e,t,i){const n=i.length-t,o=e+t,r=[];let l=0;for(;l<this.sortedIndexes.length&&this.sortedIndexes[l]<e;)r.push(this.sortedIndexes[l++]);for(let a=0;a<i.length;a++)i[a]&&r.push(a+e);for(;l<this.sortedIndexes.length&&this.sortedIndexes[l]>=o;)r.push(this.sortedIndexes[l++]+n);this.renderer.splice(e,t,i.length),this._set(r,r)}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(Ec),t)}_set(e,t,i){const n=this.indexes,o=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;const r=Zl(o,e);return this.renderer.renderIndexes(r),this._onChange.fire({indexes:e,browserEvent:i}),n}get(){return this.indexes}contains(e){return bf(this.sortedIndexes,e,Ec)>=0}dispose(){Ct(this._onChange)}};$s([Ae],$o.prototype,"renderer",null);class d2 extends $o{constructor(e){super("selected"),this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}}class Zr{constructor(e,t,i){this.trait=e,this.view=t,this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,new Array(i.length).fill(!1));const n=this.trait.get().map(l=>this.identityProvider.getId(this.view.element(l)).toString());if(n.length===0)return this.trait.splice(e,t,new Array(i.length).fill(!1));const o=new Set(n),r=i.map(l=>o.has(this.identityProvider.getId(l).toString()));this.trait.splice(e,t,r)}}function Os(s){return s.tagName==="INPUT"||s.tagName==="TEXTAREA"}function Rn(s,e){return s.classList.contains(e)?!0:s.classList.contains("monaco-list")||!s.parentElement?!1:Rn(s.parentElement,e)}function nn(s){return Rn(s,"monaco-editor")}function u2(s){return Rn(s,"monaco-custom-toggle")}function f2(s){return Rn(s,"action-item")}function an(s){return Rn(s,"monaco-tree-sticky-row")}function Dn(s){return s.classList.contains("monaco-tree-sticky-container")}function qu(s){return s.tagName==="A"&&s.classList.contains("monaco-button")||s.tagName==="DIV"&&s.classList.contains("monaco-button-dropdown")?!0:s.classList.contains("monaco-list")||!s.parentElement?!1:qu(s.parentElement)}class Gu{get onKeyDown(){return P.chain(this.disposables.add(new ce(this.view.domNode,"keydown")).event,e=>e.filter(t=>!Os(t.target)).map(t=>new Re(t)))}constructor(e,t,i){this.list=e,this.view=t,this.disposables=new J,this.multipleSelectionDisposables=new J,this.multipleSelectionSupport=i.multipleSelectionSupport,this.disposables.add(this.onKeyDown(n=>{switch(n.keyCode){case 3:return this.onEnter(n);case 16:return this.onUpArrow(n);case 18:return this.onDownArrow(n);case 11:return this.onPageUpArrow(n);case 12:return this.onPageDownArrow(n);case 9:return this.onEscape(n);case 31:this.multipleSelectionSupport&&(Oe?n.metaKey:n.ctrlKey)&&this.onCtrlA(n)}}))}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=e.multipleSelectionSupport)}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);const t=this.list.getFocus()[0];this.list.setAnchor(t),this.list.reveal(t),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(Qe(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}$s([Ae],Gu.prototype,"onKeyDown",null);var hn;(function(s){s[s.Automatic=0]="Automatic",s[s.Trigger=1]="Trigger"})(hn||(hn={}));var xi;(function(s){s[s.Idle=0]="Idle",s[s.Typing=1]="Typing"})(xi||(xi={}));const p2=new class{mightProducePrintableCharacter(s){return s.ctrlKey||s.metaKey||s.altKey?!1:s.keyCode>=31&&s.keyCode<=56||s.keyCode>=21&&s.keyCode<=30||s.keyCode>=98&&s.keyCode<=107||s.keyCode>=85&&s.keyCode<=95}};class m2{constructor(e,t,i,n,o){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=i,this.keyboardNavigationEventFilter=n,this.delegate=o,this.enabled=!1,this.state=xi.Idle,this.mode=hn.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new J,this.disposables=new J,this.updateOptions(e.options)}updateOptions(e){e.typeNavigationEnabled??!0?this.enable():this.disable(),this.mode=e.typeNavigationMode??hn.Automatic}enable(){if(this.enabled)return;let e=!1;const t=P.chain(this.enabledDisposables.add(new ce(this.view.domNode,"keydown")).event,o=>o.filter(r=>!Os(r.target)).filter(()=>this.mode===hn.Automatic||this.triggered).map(r=>new Re(r)).filter(r=>e||this.keyboardNavigationEventFilter(r)).filter(r=>this.delegate.mightProducePrintableCharacter(r)).forEach(r=>oe.stop(r,!0)).map(r=>r.browserEvent.key)),i=P.debounce(t,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);P.reduce(P.any(t,i),(o,r)=>r===null?null:(o||"")+r,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),i(this.onClear,this,this.enabledDisposables),t(()=>e=!0,void 0,this.enabledDisposables),i(()=>e=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var t;const e=this.list.getFocus();if(e.length>0&&e[0]===this.previouslyFocused){const i=(t=this.list.options.accessibilityProvider)==null?void 0:t.getAriaLabel(this.list.element(e[0]));typeof i=="string"?Cn(i):i&&Cn(i.get())}this.previouslyFocused=-1}onInput(e){if(!e){this.state=xi.Idle,this.triggered=!1;return}const t=this.list.getFocus(),i=t.length>0?t[0]:0,n=this.state===xi.Idle?1:0;this.state=xi.Typing;for(let o=0;o<this.list.length;o++){const r=(i+o+n)%this.list.length,l=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(r)),a=l&&l.toString();if(this.list.options.typeNavigationEnabled){if(typeof a<"u"){if(zo(e,a)){this.previouslyFocused=i,this.list.setFocus([r]),this.list.reveal(r);return}const h=xg(e,a);if(h&&h[0].end-h[0].start>1&&h.length===1){this.previouslyFocused=i,this.list.setFocus([r]),this.list.reveal(r);return}}}else if(typeof a>"u"||zo(e,a)){this.previouslyFocused=i,this.list.setFocus([r]),this.list.reveal(r);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class g2{constructor(e,t){this.list=e,this.view=t,this.disposables=new J;const i=P.chain(this.disposables.add(new ce(t.domNode,"keydown")).event,o=>o.filter(r=>!Os(r.target)).map(r=>new Re(r)));P.chain(i,o=>o.filter(r=>r.keyCode===2&&!r.ctrlKey&&!r.metaKey&&!r.shiftKey&&!r.altKey))(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;const t=this.list.getFocus();if(t.length===0)return;const i=this.view.domElement(t[0]);if(!i)return;const n=i.querySelector("[tabIndex]");if(!n||!Ft(n)||n.tabIndex===-1)return;const o=le(n).getComputedStyle(n);o.visibility==="hidden"||o.display==="none"||(e.preventDefault(),e.stopPropagation(),n.focus())}dispose(){this.disposables.dispose()}}function b2(s){return Oe?s.browserEvent.metaKey:s.browserEvent.ctrlKey}function _2(s){return s.browserEvent.shiftKey}function w2(s){return tu(s)&&s.button===2}const Dc={isSelectionSingleChangeEvent:b2,isSelectionRangeChangeEvent:_2};class Yu{constructor(e){this.list=e,this.disposables=new J,this._onPointer=new M,this.onPointer=this._onPointer.event,e.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Dc),this.mouseSupport=typeof e.options.mouseSupport>"u"||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(Dt.addTarget(e.getHTMLElement()))),P.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Dc))}isSelectionSingleChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):!1}isSelectionRangeChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):!1}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){nn(e.browserEvent.target)||ps()!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(Os(e.browserEvent.target)||nn(e.browserEvent.target))return;const t=typeof e.index>"u"?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport||Os(e.browserEvent.target)||nn(e.browserEvent.target)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;const t=e.index;if(typeof t>"u"){this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(e))return this.changeSelection(e);this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),w2(e.browserEvent)||this.list.setSelection([t],e.browserEvent),this._onPointer.fire(e)}onDoubleClick(e){if(Os(e.browserEvent.target)||nn(e.browserEvent.target)||this.isSelectionChangeEvent(e)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;const t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){const t=e.index;let i=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){typeof i>"u"&&(i=this.list.getFocus()[0]??t,this.list.setAnchor(i));const n=Math.min(i,t),o=Math.max(i,t),r=Qe(n,o+1),l=this.list.getSelection(),a=C2(Zl(l,[i]),i);if(a.length===0)return;const h=Zl(r,x2(l,a));this.list.setSelection(h,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){const n=this.list.getSelection(),o=n.filter(r=>r!==t);this.list.setFocus([t]),this.list.setAnchor(t),n.length===o.length?this.list.setSelection([...o,t],e.browserEvent):this.list.setSelection(o,e.browserEvent)}}dispose(){this.disposables.dispose()}}class y2{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){const t=this.selectorSuffix&&`.${this.selectorSuffix}`,i=[];e.listBackground&&i.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`),e.listFocusBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionBackground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }
			`),e.listFocusAndSelectionForeground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }
			`),e.listInactiveFocusForeground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&i.push(`.monaco-list${t} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(i.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&i.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&i.push(`.monaco-list${t}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&i.push(`.monaco-list${t}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`);const n=ms(e.listFocusAndSelectionOutline,ms(e.listSelectionOutline,e.listFocusOutline??""));n&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused.selected { outline: 1px solid ${n}; outline-offset: -1px;}`),e.listFocusOutline&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
			`);const o=ms(e.listSelectionOutline,e.listInactiveFocusOutline??"");o&&i.push(`.monaco-list${t} .monaco-list-row.focused.selected { outline: 1px dotted ${o}; outline-offset: -1px; }`),e.listSelectionOutline&&i.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listInactiveFocusOutline&&i.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&i.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropOverBackground&&i.push(`
				.monaco-list${t}.drop-target,
				.monaco-list${t} .monaco-list-rows.drop-target,
				.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropOverBackground} !important; color: inherit !important; }
			`),e.listDropBetweenBackground&&(i.push(`
			.monaco-list${t} .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,
			.monaco-list${t} .monaco-list-row.drop-target-before::before {
				content: ""; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${e.listDropBetweenBackground};
			}`),i.push(`
			.monaco-list${t} .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,
			.monaco-list${t} .monaco-list-row.drop-target-after::after {
				content: ""; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${e.listDropBetweenBackground};
			}`)),e.tableColumnsBorder&&i.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${e.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),e.tableOddRowsBackgroundColor&&i.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${e.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=i.join(`
`)}}const v2={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropOverBackground:"#383B3D",listDropBetweenBackground:"#EEEEEE",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:Zt.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:Zt.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:Zt.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0},S2={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};function C2(s,e){const t=s.indexOf(e);if(t===-1)return[];const i=[];let n=t-1;for(;n>=0&&s[n]===e-(t-n);)i.push(s[n--]);for(i.reverse(),n=t;n<s.length&&s[n]===e+(n-t);)i.push(s[n++]);return i}function Zl(s,e){const t=[];let i=0,n=0;for(;i<s.length||n<e.length;)if(i>=s.length)t.push(e[n++]);else if(n>=e.length)t.push(s[i++]);else if(s[i]===e[n]){t.push(s[i]),i++,n++;continue}else s[i]<e[n]?t.push(s[i++]):t.push(e[n++]);return t}function x2(s,e){const t=[];let i=0,n=0;for(;i<s.length||n<e.length;)if(i>=s.length)t.push(e[n++]);else if(n>=e.length)t.push(s[i++]);else if(s[i]===e[n]){i++,n++;continue}else s[i]<e[n]?t.push(s[i++]):n++;return t}const Ec=(s,e)=>s-e;class D2{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map(t=>t.renderTemplate(e))}renderElement(e,t,i,n){let o=0;for(const r of this.renderers)r.renderElement(e,t,i[o++],n)}disposeElement(e,t,i,n){var r;let o=0;for(const l of this.renderers)(r=l.disposeElement)==null||r.call(l,e,t,i[o],n),o+=1}disposeTemplate(e){let t=0;for(const i of this.renderers)i.disposeTemplate(e[t++])}}class E2{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return{container:e,disposables:new J}}renderElement(e,t,i){const n=this.accessibilityProvider.getAriaLabel(e),o=n&&typeof n!="string"?n:Ku(n);i.disposables.add(Fi(l=>{this.setAriaLabel(l.readObservable(o),i.container)}));const r=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);typeof r=="number"?i.container.setAttribute("aria-level",`${r}`):i.container.removeAttribute("aria-level")}setAriaLabel(e,t){e?t.setAttribute("aria-label",e):t.removeAttribute("aria-label")}disposeElement(e,t,i,n){i.disposables.clear()}disposeTemplate(e){e.disposables.dispose()}}class k2{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){const t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){var i,n;(n=(i=this.dnd).onDragStart)==null||n.call(i,e,t)}onDragOver(e,t,i,n,o){return this.dnd.onDragOver(e,t,i,n,o)}onDragLeave(e,t,i,n){var o,r;(r=(o=this.dnd).onDragLeave)==null||r.call(o,e,t,i,n)}onDragEnd(e){var t,i;(i=(t=this.dnd).onDragEnd)==null||i.call(t,e)}drop(e,t,i,n,o){this.dnd.drop(e,t,i,n,o)}dispose(){this.dnd.dispose()}}class is{get onDidChangeFocus(){return P.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e),this.disposables)}get onDidChangeSelection(){return P.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1;const t=P.chain(this.disposables.add(new ce(this.view.domNode,"keydown")).event,o=>o.map(r=>new Re(r)).filter(r=>e=r.keyCode===58||r.shiftKey&&r.keyCode===68).map(r=>oe.stop(r,!0)).filter(()=>!1)),i=P.chain(this.disposables.add(new ce(this.view.domNode,"keyup")).event,o=>o.forEach(()=>e=!1).map(r=>new Re(r)).filter(r=>r.keyCode===58||r.shiftKey&&r.keyCode===68).map(r=>oe.stop(r,!0)).map(({browserEvent:r})=>{const l=this.getFocus(),a=l.length?l[0]:void 0,h=typeof a<"u"?this.view.element(a):void 0,d=typeof a<"u"?this.view.domElement(a):this.view.domNode;return{index:a,element:h,anchor:d,browserEvent:r}})),n=P.chain(this.view.onContextMenu,o=>o.filter(r=>!e).map(({element:r,index:l,browserEvent:a})=>({element:r,index:l,anchor:new As(le(this.view.domNode),a),browserEvent:a})));return P.any(t,i,n)}get onKeyDown(){return this.disposables.add(new ce(this.view.domNode,"keydown")).event}get onDidFocus(){return P.signal(this.disposables.add(new ce(this.view.domNode,"focus",!0)).event)}get onDidBlur(){return P.signal(this.disposables.add(new ce(this.view.domNode,"blur",!0)).event)}constructor(e,t,i,n,o=S2){var h,d,u;this.user=e,this._options=o,this.focus=new $o("focused"),this.anchor=new $o("anchor"),this.eventBufferer=new pa,this._ariaLabel="",this.disposables=new J,this._onDidDispose=new M,this.onDidDispose=this._onDidDispose.event;const r=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(h=this._options.accessibilityProvider)==null?void 0:h.getWidgetRole():"list";this.selection=new d2(r!=="listbox");const l=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=o.accessibilityProvider,this.accessibilityProvider&&(l.push(new E2(this.accessibilityProvider)),(u=(d=this.accessibilityProvider).onDidChangeActiveDescendant)==null||u.call(d,this.onDidChangeActiveDescendant,this,this.disposables)),n=n.map(f=>new D2(f.templateId,[...l,f]));const a={...o,dnd:o.dnd&&new k2(this,o.dnd)};if(this.view=this.createListView(t,i,n,a),this.view.domNode.setAttribute("role",r),o.styleController)this.styleController=o.styleController(this.view.domId);else{const f=gs(this.view.domNode);this.styleController=new y2(f,this.view.domId)}if(this.spliceable=new t2([new Zr(this.focus,this.view,o.identityProvider),new Zr(this.selection,this.view,o.identityProvider),new Zr(this.anchor,this.view,o.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new g2(this,this.view)),(typeof o.keyboardSupport!="boolean"||o.keyboardSupport)&&(this.keyboardController=new Gu(this,this.view,o),this.disposables.add(this.keyboardController)),o.keyboardNavigationLabelProvider){const f=o.keyboardNavigationDelegate||p2;this.typeNavigationController=new m2(this,this.view,o.keyboardNavigationLabelProvider,o.keyboardNavigationEventFilter??(()=>!0),f),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(o),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(e,t,i,n){return new Tt(e,t,i,n)}createMouseController(e){return new Yu(this)}updateOptions(e={}){var t,i;this._options={...this._options,...e},(t=this.typeNavigationController)==null||t.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),(i=this.keyboardController)==null||i.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,i=[]){if(e<0||e>this.view.length)throw new Zs(this.user,`Invalid start index: ${e}`);if(t<0)throw new Zs(this.user,`Invalid delete count: ${t}`);t===0&&i.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(e,t,i))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}indexOf(e){return this.view.indexOf(e)}indexAt(e){return this.view.indexAt(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(const i of e)if(i<0||i>=this.length)throw new Zs(this.user,`Invalid index ${i}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(e=>this.view.element(e))}setAnchor(e){if(typeof e>"u"){this.anchor.set([]);return}if(e<0||e>=this.length)throw new Zs(this.user,`Invalid index ${e}`);this.anchor.set([e])}getAnchor(){return wf(this.anchor.get(),void 0)}getAnchorElement(){const e=this.getAnchor();return typeof e>"u"?void 0:this.element(e)}setFocus(e,t){for(const i of e)if(i<0||i>=this.length)throw new Zs(this.user,`Invalid index ${i}`);this.focus.set(e,t)}focusNext(e=1,t=!1,i,n){if(this.length===0)return;const o=this.focus.get(),r=this.findNextIndex(o.length>0?o[0]+e:0,t,n);r>-1&&this.setFocus([r],i)}focusPrevious(e=1,t=!1,i,n){if(this.length===0)return;const o=this.focus.get(),r=this.findPreviousIndex(o.length>0?o[0]-e:0,t,n);r>-1&&this.setFocus([r],i)}async focusNextPage(e,t){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=i===0?0:i-1;const n=this.getFocus()[0];if(n!==i&&(n===void 0||i>n)){const o=this.findPreviousIndex(i,!1,t);o>-1&&n!==o?this.setFocus([o],e):this.setFocus([i],e)}else{const o=this.view.getScrollTop();let r=o+this.view.renderHeight;i>n&&(r-=this.view.elementHeight(i)),this.view.setScrollTop(r),this.view.getScrollTop()!==o&&(this.setFocus([]),await Ro(0),await this.focusNextPage(e,t))}}async focusPreviousPage(e,t,i=()=>0){let n;const o=i(),r=this.view.getScrollTop()+o;r===0?n=this.view.indexAt(r):n=this.view.indexAfter(r-1);const l=this.getFocus()[0];if(l!==n&&(l===void 0||l>=n)){const a=this.findNextIndex(n,!1,t);a>-1&&l!==a?this.setFocus([a],e):this.setFocus([n],e)}else{const a=r;this.view.setScrollTop(r-this.view.renderHeight-o),this.view.getScrollTop()+i()!==a&&(this.setFocus([]),await Ro(0),await this.focusPreviousPage(e,t,i))}}focusLast(e,t){if(this.length===0)return;const i=this.findPreviousIndex(this.length-1,!1,t);i>-1&&this.setFocus([i],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){if(this.length===0)return;const n=this.findNextIndex(e,!1,i);n>-1&&this.setFocus([n],t)}findNextIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e>=this.length&&!t)return-1;if(e=e%this.length,!i||i(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(e=>this.view.element(e))}reveal(e,t,i=0){if(e<0||e>=this.length)throw new Zs(this.user,`Invalid index ${e}`);const n=this.view.getScrollTop(),o=this.view.elementTop(e),r=this.view.elementHeight(e);if(ra(t)){const l=r-this.view.renderHeight+i;this.view.setScrollTop(l*vt(t,0,1)+o-i)}else{const l=o+r,a=n+this.view.renderHeight;o<n+i&&l>=a||(o<n+i||l>=a&&r>=this.view.renderHeight?this.view.setScrollTop(o-i):l>=a&&this.view.setScrollTop(l-this.view.renderHeight))}}getRelativeTop(e,t=0){if(e<0||e>=this.length)throw new Zs(this.user,`Invalid index ${e}`);const i=this.view.getScrollTop(),n=this.view.elementTop(e),o=this.view.elementHeight(e);if(n<i+t||n+o>i+this.view.renderHeight)return null;const r=o-this.view.renderHeight+t;return Math.abs((i+t-n)/r)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(e){return this.view.getElementDomId(e)}getElementTop(e){return this.view.elementTop(e)}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map(i=>this.view.element(i)),browserEvent:t}}_onFocusChange(){const e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var t;const e=this.focus.get();if(e.length>0){let i;(t=this.accessibilityProvider)!=null&&t.getActiveDescendantId&&(i=this.accessibilityProvider.getActiveDescendantId(this.view.element(e[0]))),this.view.domNode.setAttribute("aria-activedescendant",i||this.view.getElementDomId(e[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const e=this.selection.get();this.view.domNode.classList.toggle("selection-none",e.length===0),this.view.domNode.classList.toggle("selection-single",e.length===1),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}$s([Ae],is.prototype,"onDidChangeFocus",null);$s([Ae],is.prototype,"onDidChangeSelection",null);$s([Ae],is.prototype,"onContextMenu",null);$s([Ae],is.prototype,"onKeyDown",null);$s([Ae],is.prototype,"onDidFocus",null);$s([Ae],is.prototype,"onDidBlur",null);const oi=X,ju="selectOption.entry.template";class N2{get templateId(){return ju}renderTemplate(e){const t=Object.create(null);return t.root=e,t.text=Y(e,oi(".option-text")),t.detail=Y(e,oi(".option-detail")),t.decoratorRight=Y(e,oi(".option-decorator-right")),t}renderElement(e,t,i){const n=i,o=e.text,r=e.detail,l=e.decoratorRight,a=e.isDisabled;n.text.textContent=o,n.detail.textContent=r||"",n.decoratorRight.innerText=l||"",a?n.root.classList.add("option-disabled"):n.root.classList.remove("option-disabled")}disposeTemplate(e){}}const Ut=class Ut extends Z{constructor(e,t,i,n,o){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=n,this.selectBoxOptions=o||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=Ut.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new M,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(i),this.selected=t||0,e&&this.setOptions(e,t),this.initStyleSheet()}setTitle(e){!this._hover&&e?this._hover=this._register(ss().setupManagedHover(mt("mouse"),this.selectElement,e)):this._hover&&this._hover.update(e)}getHeight(){return 22}getTemplateId(){return ju}constructSelectDropDown(e){this.contextViewProvider=e,this.selectDropDownContainer=X(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=Y(this.selectDropDownContainer,oi(".select-box-details-pane"));const t=Y(this.selectDropDownContainer,oi(".select-box-dropdown-container-width-control")),i=Y(t,oi(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",Y(i,this.widthControlElement),this._dropDownPosition=0,this.styleElement=gs(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(R(this.selectDropDownContainer,$.DRAG_START,n=>{oe.stop(n,!0)}))}registerListeners(){this._register(fs(this.selectElement,"change",t=>{this.selected=t.target.selectedIndex,this._onDidSelect.fire({index:t.target.selectedIndex,selected:t.target.value}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)})),this._register(R(this.selectElement,$.CLICK,t=>{oe.stop(t),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(R(this.selectElement,$.MOUSE_DOWN,t=>{oe.stop(t)}));let e;this._register(R(this.selectElement,"touchstart",t=>{e=this._isVisible})),this._register(R(this.selectElement,"touchend",t=>{oe.stop(t),e?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(R(this.selectElement,$.KEY_DOWN,t=>{const i=new Re(t);let n=!1;Oe?(i.keyCode===18||i.keyCode===16||i.keyCode===10||i.keyCode===3)&&(n=!0):(i.keyCode===18&&i.altKey||i.keyCode===16&&i.altKey||i.keyCode===10||i.keyCode===3)&&(n=!0),n&&(this.showSelectDropDown(),oe.stop(t,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(e,t){Fs(this.options,e)||(this.options=e,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((i,n)=>{this.selectElement.add(this.createOption(i.text,n,i.isDisabled)),typeof i.description=="string"&&(this._hasDetails=!0)})),t!==void 0&&(this.select(t),this._currentSelection=this.selected)}setOptionsList(){var e;(e=this.selectList)==null||e.splice(0,this.selectList.length,this.options)}select(e){e>=0&&e<this.options.length?this.selected=e:e>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(e){this.selectElement.tabIndex=e?0:-1}render(e){this.container=e,e.classList.add("select-container"),e.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const e=[];this.styles.listFocusBackground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(e.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=e.join(`
`)}styleSelectElement(){const e=this.styles.selectBackground??"",t=this.styles.selectForeground??"",i=this.styles.selectBorder??"";this.selectElement.style.backgroundColor=e,this.selectElement.style.color=t,this.selectElement.style.borderColor=i}styleList(){const e=this.styles.selectBackground??"",t=ms(this.styles.selectListBackground,e);this.selectDropDownListContainer.style.backgroundColor=t,this.selectionDetailsPane.style.backgroundColor=t;const i=this.styles.focusBorder??"";this.selectDropDownContainer.style.outlineColor=i,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(e,t,i){const n=document.createElement("option");return n.value=e,n.text=e,n.disabled=!!i,n}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:e=>this.renderSelectDropDown(e,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:e=>this.renderSelectDropDown(e),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(e){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),e&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(e,t){return e.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(t),{dispose:()=>{this.selectDropDownContainer.remove()}}}measureMaxDetailsHeight(){let e=0;return this.options.forEach((t,i)=>{this.updateDetail(i),this.selectionDetailsPane.offsetHeight>e&&(e=this.selectionDetailsPane.offsetHeight)}),e}layoutSelectDropDown(e){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const t=le(this.selectElement),i=yi(this.selectElement),n=le(this.selectElement).getComputedStyle(this.selectElement),o=parseFloat(n.getPropertyValue("--dropdown-padding-top"))+parseFloat(n.getPropertyValue("--dropdown-padding-bottom")),r=t.innerHeight-i.top-i.height-(this.selectBoxOptions.minBottomMargin||0),l=i.top-Ut.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,a=this.selectElement.offsetWidth,h=this.setWidthControlElement(this.widthControlElement),d=Math.max(h,Math.round(a)).toString()+"px";this.selectDropDownContainer.style.width=d,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let u=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const f=this._hasDetails?this._cachedMaxDetailsHeight:0,g=u+o+f,y=Math.floor((r-o-f)/this.getHeight()),_=Math.floor((l-o-f)/this.getHeight());if(e)return i.top+i.height>t.innerHeight-22||i.top<Ut.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||y<1&&_<1?!1:(y<Ut.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&_>y&&this.options.length>y?(this._dropDownPosition=1,this.selectDropDownListContainer.remove(),this.selectionDetailsPane.remove(),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownListContainer.remove(),this.selectionDetailsPane.remove(),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(i.top+i.height>t.innerHeight-22||i.top<Ut.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&y<1||this._dropDownPosition===1&&_<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&y+_<1)return this.hideSelectDropDown(!0),!1;g>r&&(u=y*this.getHeight())}else g>l&&(u=_*this.getHeight());return this.selectList.layout(u),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=u+o+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=u+o+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=d,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(e){let t=0;if(e){let i=0,n=0;this.options.forEach((o,r)=>{const l=o.detail?o.detail.length:0,a=o.decoratorRight?o.decoratorRight.length:0,h=o.text.length+l+a;h>n&&(i=r,n=h)}),e.textContent=this.options[i].text+(this.options[i].decoratorRight?this.options[i].decoratorRight+" ":""),t=Ea(e)}return t}createSelectList(e){if(this.selectList)return;this.selectDropDownListContainer=Y(e,oi(".select-box-dropdown-list-container")),this.listRenderer=new N2,this.selectList=this._register(new is("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:n=>{let o=n.text;return n.detail&&(o+=`. ${n.detail}`),n.decoratorRight&&(o+=`. ${n.decoratorRight}`),n.description&&(o+=`. ${n.description}`),o},getWidgetAriaLabel:()=>ie({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box"),getRole:()=>Oe?"":"option",getWidgetRole:()=>"listbox"}})),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const t=this._register(new ce(this.selectDropDownListContainer,"keydown")),i=P.chain(t.event,n=>n.filter(()=>this.selectList.length>0).map(o=>new Re(o)));this._register(P.chain(i,n=>n.filter(o=>o.keyCode===3))(this.onEnter,this)),this._register(P.chain(i,n=>n.filter(o=>o.keyCode===2))(this.onEnter,this)),this._register(P.chain(i,n=>n.filter(o=>o.keyCode===9))(this.onEscape,this)),this._register(P.chain(i,n=>n.filter(o=>o.keyCode===16))(this.onUpArrow,this)),this._register(P.chain(i,n=>n.filter(o=>o.keyCode===18))(this.onDownArrow,this)),this._register(P.chain(i,n=>n.filter(o=>o.keyCode===12))(this.onPageDown,this)),this._register(P.chain(i,n=>n.filter(o=>o.keyCode===11))(this.onPageUp,this)),this._register(P.chain(i,n=>n.filter(o=>o.keyCode===14))(this.onHome,this)),this._register(P.chain(i,n=>n.filter(o=>o.keyCode===13))(this.onEnd,this)),this._register(P.chain(i,n=>n.filter(o=>o.keyCode>=21&&o.keyCode<=56||o.keyCode>=85&&o.keyCode<=113))(this.onCharacter,this)),this._register(R(this.selectList.getHTMLElement(),$.POINTER_UP,n=>this.onPointerUp(n))),this._register(this.selectList.onMouseOver(n=>typeof n.index<"u"&&this.selectList.setFocus([n.index]))),this._register(this.selectList.onDidChangeFocus(n=>this.onListFocus(n))),this._register(R(this.selectDropDownContainer,$.FOCUS_OUT,n=>{!this._isVisible||St(n.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(e){if(!this.selectList.length)return;oe.stop(e);const t=e.target;if(!t||t.classList.contains("slider"))return;const i=t.closest(".monaco-list-row");if(!i)return;const n=Number(i.getAttribute("data-index")),o=i.classList.contains("option-disabled");n>=0&&n<this.options.length&&!o&&(this.selected=n,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(e,t){const i=o=>{for(let r=0;r<o.childNodes.length;r++){const l=o.childNodes.item(r);(l.tagName&&l.tagName.toLowerCase())==="img"?l.remove():i(l)}},n=Mu({value:e,supportThemeIcons:!0},{actionHandler:t});return n.element.classList.add("select-box-description-markdown"),i(n.element),n.element}onListFocus(e){!this._isVisible||!this._hasDetails||this.updateDetail(e.indexes[0])}updateDetail(e){this.selectionDetailsPane.innerText="";const t=this.options[e],i=(t==null?void 0:t.description)??"",n=(t==null?void 0:t.descriptionIsMarkdown)??!1;if(i){if(n){const o=t.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(i,o))}else this.selectionDetailsPane.innerText=i;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(e){oe.stop(e),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(e){oe.stop(e),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(e){if(this.selected<this.options.length-1){oe.stop(e,!0);const t=this.options[this.selected+1].isDisabled;if(t&&this.options.length>this.selected+2)this.selected+=2;else{if(t)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(e){this.selected>0&&(oe.stop(e,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(e){oe.stop(e),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(e){oe.stop(e),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(e){oe.stop(e),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(e){oe.stop(e),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(e){const t=No.toString(e.keyCode);let i=-1;for(let n=0;n<this.options.length-1;n++)if(i=(n+this.selected+1)%this.options.length,this.options[i].text.charAt(0).toUpperCase()===t&&!this.options[i].isDisabled){this.select(i),this.selectList.setFocus([i]),this.selectList.reveal(this.selectList.getFocus()[0]),oe.stop(e);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}};Ut.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,Ut.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,Ut.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3;let Ql=Ut;class T2 extends Z{constructor(e,t,i,n){super(),this.selected=0,this.selectBoxOptions=n||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new M),this.styles=i,this.registerListeners(),this.setOptions(e,t)}registerListeners(){this._register(Dt.addTarget(this.selectElement)),[Ie.Tap].forEach(e=>{this._register(R(this.selectElement,e,t=>{this.selectElement.focus()}))}),this._register(fs(this.selectElement,"click",e=>{oe.stop(e,!0)})),this._register(fs(this.selectElement,"change",e=>{this.selectElement.title=e.target.value,this._onDidSelect.fire({index:e.target.selectedIndex,selected:e.target.value})})),this._register(fs(this.selectElement,"keydown",e=>{let t=!1;Oe?(e.keyCode===18||e.keyCode===16||e.keyCode===10)&&(t=!0):(e.keyCode===18&&e.altKey||e.keyCode===10||e.keyCode===3)&&(t=!0),t&&e.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(e,t){(!this.options||!Fs(this.options,e))&&(this.options=e,this.selectElement.options.length=0,this.options.forEach((i,n)=>{this.selectElement.add(this.createOption(i.text,n,i.isDisabled))})),t!==void 0&&this.select(t)}select(e){this.options.length===0?this.selected=0:e>=0&&e<this.options.length?this.selected=e:e>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(e){this.selectElement.tabIndex=e?0:-1}render(e){e.classList.add("select-container"),e.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){this.selectElement&&(this.selectElement.style.backgroundColor=this.styles.selectBackground??"",this.selectElement.style.color=this.styles.selectForeground??"",this.selectElement.style.borderColor=this.styles.selectBorder??"")}createOption(e,t,i){const n=document.createElement("option");return n.value=e,n.text=e,n.disabled=!!i,n}}class A2 extends Hs{constructor(e,t,i,n,o){super(),Oe&&!(o!=null&&o.useCustomDrawn)?this.selectBoxDelegate=new T2(e,t,n,o):this.selectBoxDelegate=new Ql(e,t,i,n,o),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(e,t){this.selectBoxDelegate.setOptions(e,t)}select(e){this.selectBoxDelegate.select(e)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(e){this.selectBoxDelegate.setFocusable(e)}render(e){this.selectBoxDelegate.render(e)}}class Gt extends Z{get action(){return this._action}constructor(e,t,i={}){super(),this.options=i,this._context=e||this,this._action=t,t instanceof Ta&&this._register(t.onDidChange(n=>{this.element&&this.handleActionChangeEvent(n)}))}handleActionChangeEvent(e){e.enabled!==void 0&&this.updateEnabled(),e.checked!==void 0&&this.updateChecked(),e.class!==void 0&&this.updateClass(),e.label!==void 0&&(this.updateLabel(),this.updateTooltip()),e.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new Aa)),this._actionRunner}set actionRunner(e){this._actionRunner=e}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){const t=this.element=e;this._register(Dt.addTarget(e));const i=this.options&&this.options.draggable;i&&(e.draggable=!0,gn&&this._register(R(e,$.DRAG_START,n=>{var o;return(o=n.dataTransfer)==null?void 0:o.setData(Vu.TEXT,this._action.label)}))),this._register(R(t,Ie.Tap,n=>this.onClick(n,!0))),this._register(R(t,$.MOUSE_DOWN,n=>{i||oe.stop(n,!0),this._action.enabled&&n.button===0&&t.classList.add("active")})),Oe&&this._register(R(t,$.CONTEXT_MENU,n=>{n.button===0&&n.ctrlKey===!0&&this.onClick(n)})),this._register(R(t,$.CLICK,n=>{oe.stop(n,!0),this.options&&this.options.isMenu||this.onClick(n)})),this._register(R(t,$.DBLCLICK,n=>{oe.stop(n,!0)})),[$.MOUSE_UP,$.MOUSE_OUT].forEach(n=>{this._register(R(t,n,o=>{oe.stop(o),t.classList.remove("active")}))})}onClick(e,t=!1){var n;oe.stop(e,!0);const i=Yt(this._context)?(n=this.options)!=null&&n.useEventAsContext?e:{preserveFocus:t}:this._context;this.actionRunner.run(this._action,i)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(e){this.element&&(this.element.tabIndex=e?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){var t;if(!this.element)return;const e=this.getTooltip()??"";if(this.updateAriaLabel(),(t=this.options.hoverDelegate)!=null&&t.showNativeHover)this.element.title=e;else if(!this.customHover&&e!==""){const i=this.options.hoverDelegate??mt("element");this.customHover=this._store.add(ss().setupManagedHover(i,this.element,e))}else this.customHover&&this.customHover.update(e)}updateAriaLabel(){if(this.element){const e=this.getTooltip()??"";this.element.setAttribute("aria-label",e)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}class Xu extends Gt{constructor(e,t,i){super(e,t,i),this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass=""}render(e){super.render(e),Cf(this.element);const t=document.createElement("a");if(t.classList.add("action-label"),t.setAttribute("role",this.getDefaultAriaRole()),this.label=t,this.element.appendChild(t),this.options.label&&this.options.keybinding){const i=document.createElement("span");i.classList.add("keybinding"),i.textContent=this.options.keybinding,this.element.appendChild(i)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===Xt.ID?"presentation":this.options.isMenu?"menuitem":this.options.isTabList?"tab":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let e=null;return this.action.tooltip?e=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(e=this.action.label,this.options.keybinding&&(e=ie({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e??void 0}updateClass(){var e;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getClass(),this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(e=this.label)==null||e.classList.remove("codicon")}updateEnabled(){var e,t;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(e=this.element)==null||e.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(t=this.element)==null||t.classList.add("disabled"))}updateAriaLabel(){if(this.label){const e=this.getTooltip()??"";this.label.setAttribute("aria-label",e)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.options.isTabList?this.label.setAttribute("aria-selected",this.action.checked?"true":"false"):(this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox"))):(this.label.classList.remove("checked"),this.label.removeAttribute(this.options.isTabList?"aria-selected":"aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())))}}class d_ extends Gt{constructor(e,t,i,n,o,r,l){super(e,t),this.selectBox=new A2(i,n,o,r,l),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(e){this.selectBox.select(e)}registerListeners(){this._register(this.selectBox.onDidSelect(e=>this.runAction(e.selected,e.index)))}runAction(e,t){this.actionRunner.run(this._action,this.getActionContext(e,t))}getActionContext(e,t){return e}setFocusable(e){this.selectBox.setFocusable(e)}focus(){var e;(e=this.selectBox)==null||e.focus()}blur(){var e;(e=this.selectBox)==null||e.blur()}render(e){this.selectBox.render(e)}}class L2 extends Aa{constructor(e,t){super(),this._onDidChangeVisibility=this._register(new M),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=Y(e,X(".monaco-dropdown")),this._label=Y(this._element,X(".dropdown-label"));let i=t.labelRenderer;i||(i=o=>(o.textContent=t.label||"",null));for(const o of[$.CLICK,$.MOUSE_DOWN,Ie.Tap])this._register(R(this.element,o,r=>oe.stop(r,!0)));for(const o of[$.MOUSE_DOWN,Ie.Tap])this._register(R(this._label,o,r=>{tu(r)&&(r.detail>1||r.button!==0)||(this.visible?this.hide():this.show())}));this._register(R(this._label,$.KEY_UP,o=>{const r=new Re(o);(r.equals(3)||r.equals(10))&&(oe.stop(o,!0),this.visible?this.hide():this.show())}));const n=i(this._label);n&&this._register(n),this._register(Dt.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class I2 extends L2{constructor(e,t){super(e,t),this._options=t,this._actions=[],this.actions=t.actions||[]}set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(e,t)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e,t):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class kc extends Gt{constructor(e,t,i,n=Object.create(null)){super(null,e,n),this.actionItem=null,this._onDidChangeVisibility=this._register(new M),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=t,this.contextMenuProvider=i,this.options=n,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){this.actionItem=e;const t=o=>{this.element=Y(o,X("a.action-label"));let r=[];return typeof this.options.classNames=="string"?r=this.options.classNames.split(/\s+/g).filter(l=>!!l):this.options.classNames&&(r=this.options.classNames),r.find(l=>l==="icon")||r.push("codicon"),this.element.classList.add(...r),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this._action.label&&this._register(ss().setupManagedHover(this.options.hoverDelegate??mt("mouse"),this.element,this._action.label)),this.element.ariaLabel=this._action.label||"",null},i=Array.isArray(this.menuActionsOrProvider),n={contextMenuProvider:this.contextMenuProvider,labelRenderer:t,menuAsChild:this.options.menuAsChild,actions:i?this.menuActionsOrProvider:void 0,actionProvider:i?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new I2(e,n)),this._register(this.dropdownMenu.onDidChangeVisibility(o=>{var r;(r=this.element)==null||r.setAttribute("aria-expanded",`${o}`),this._onDidChangeVisibility.fire(o)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const o=this;this.dropdownMenu.menuOptions={...this.dropdownMenu.menuOptions,get anchorAlignment(){return o.options.anchorAlignmentProvider()}}}this.updateTooltip(),this.updateEnabled()}getTooltip(){let e=null;return this.action.tooltip?e=this.action.tooltip:this.action.label&&(e=this.action.label),e??void 0}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}show(){var e;(e=this.dropdownMenu)==null||e.show()}updateEnabled(){var t,i;const e=!this.action.enabled;(t=this.actionItem)==null||t.classList.toggle("disabled",e),(i=this.element)==null||i.classList.toggle("disabled",e)}}var Jl;(function(s){s[s.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",s[s.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(Jl||(Jl={}));var Di;(function(s){s[s.None=0]="None",s[s.Initialized=1]="Initialized",s[s.Closed=2]="Closed"})(Di||(Di={}));const nr=class nr extends Z{constructor(e,t=Object.create(null)){super(),this.database=e,this.options=t,this._onDidChangeStorage=this._register(new bd),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=Di.None,this.cache=new Map,this.flushDelayer=this._register(new j1(nr.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(e=>this.onDidChangeItemsExternal(e)))}onDidChangeItemsExternal(e){var t,i;this._onDidChangeStorage.pause();try{(t=e.changed)==null||t.forEach((n,o)=>this.acceptExternal(o,n)),(i=e.deleted)==null||i.forEach(n=>this.acceptExternal(n,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(e,t){if(this.state===Di.Closed)return;let i=!1;Yt(t)?i=this.cache.delete(e):this.cache.get(e)!==t&&(this.cache.set(e,t),i=!0),i&&this._onDidChangeStorage.fire({key:e,external:!0})}get(e,t){const i=this.cache.get(e);return Yt(i)?t:i}getBoolean(e,t){const i=this.get(e);return Yt(i)?t:i==="true"}getNumber(e,t){const i=this.get(e);return Yt(i)?t:parseInt(i,10)}async set(e,t,i=!1){if(this.state===Di.Closed)return;if(Yt(t))return this.delete(e,i);const n=bi(t)||Array.isArray(t)?jg(t):String(t);if(this.cache.get(e)!==n)return this.cache.set(e,n),this.pendingInserts.set(e,n),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire({key:e,external:i}),this.doFlush()}async delete(e,t=!1){if(!(this.state===Di.Closed||!this.cache.delete(e)))return this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire({key:e,external:t}),this.doFlush()}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}async flushPending(){if(!this.hasPending)return;const e={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(e).finally(()=>{var t;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(t=this.whenFlushedCallbacks.pop())==null||t()})}async doFlush(e){return this.options.hint===Jl.STORAGE_IN_MEMORY?this.flushPending():this.flushDelayer.trigger(()=>this.flushPending(),e)}};nr.DEFAULT_FLUSH_DELAY=100;let Nc=nr;class u_{constructor(){this.onDidChangeItemsExternal=P.None,this.items=new Map}async updateItems(e){var t,i;(t=e.insert)==null||t.forEach((n,o)=>this.items.set(o,n)),(i=e.delete)==null||i.forEach(n=>this.items.delete(n))}}class Va extends Z{constructor(e,t={}){var o,r;super(),this._actionRunnerDisposables=this._register(new J),this.viewItemDisposables=this._register(new Bf),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new M),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new M({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new M),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new M),this.onWillRun=this._onWillRun.event,this.options=t,this._context=t.context??null,this._orientation=this.options.orientation??0,this._triggerKeys={keyDown:((o=this.options.triggerKeys)==null?void 0:o.keyDown)??!1,keys:((r=this.options.triggerKeys)==null?void 0:r.keys)??[3,10]},this._hoverDelegate=t.hoverDelegate??this._register(Wa()),this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new Aa,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(l=>this._onDidRun.fire(l))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(l=>this._onWillRun.fire(l))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar";let i,n;switch(this._orientation){case 0:i=[15],n=[17];break;case 1:i=[16],n=[18],this.domNode.className+=" vertical";break}this._register(R(this.domNode,$.KEY_DOWN,l=>{const a=new Re(l);let h=!0;const d=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;i&&(a.equals(i[0])||a.equals(i[1]))?h=this.focusPrevious():n&&(a.equals(n[0])||a.equals(n[1]))?h=this.focusNext():a.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():a.equals(14)?h=this.focusFirst():a.equals(13)?h=this.focusLast():a.equals(2)&&d instanceof Gt&&d.trapsArrowNavigation?h=this.focusNext(void 0,!0):this.isTriggerKeyEvent(a)?this._triggerKeys.keyDown?this.doTrigger(a):this.triggerKeyDown=!0:h=!1,h&&(a.preventDefault(),a.stopPropagation())})),this._register(R(this.domNode,$.KEY_UP,l=>{const a=new Re(l);this.isTriggerKeyEvent(a)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(a)),a.preventDefault(),a.stopPropagation()):(a.equals(2)||a.equals(1026)||a.equals(16)||a.equals(18)||a.equals(15)||a.equals(17))&&this.updateFocusedItem()})),this.focusTracker=this._register(su(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(ps()===this.domNode||!St(ps(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}refreshRole(){this.length()>=1?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(e){if(this.focusable=e,this.focusable){const t=this.viewItems.find(i=>i instanceof Gt&&i.isEnabled());t instanceof Gt&&t.setFocusable(!0)}else this.viewItems.forEach(t=>{t instanceof Gt&&t.setFocusable(!1)})}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach(i=>{t=t||e.equals(i)}),t}updateFocusedItem(){var e,t;for(let i=0;i<this.actionsList.children.length;i++){const n=this.actionsList.children[i];if(St(ps(),n)){this.focusedItem=i,(t=(e=this.viewItems[this.focusedItem])==null?void 0:e.showHover)==null||t.call(e);break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach(t=>t.setActionContext(e))}get actionRunner(){return this._actionRunner}set actionRunner(e){this._actionRunner=e,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(t=>this._onDidRun.fire(t))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(t=>this._onWillRun.fire(t))),this.viewItems.forEach(t=>t.actionRunner=e)}getContainer(){return this.domNode}getAction(e){var t;if(typeof e=="number")return(t=this.viewItems[e])==null?void 0:t.action;if(Ft(e)){for(;e.parentElement!==this.actionsList;){if(!e.parentElement)return;e=e.parentElement}for(let i=0;i<this.actionsList.childNodes.length;i++)if(this.actionsList.childNodes[i]===e)return this.viewItems[i].action}}push(e,t={}){const i=Array.isArray(e)?e:[e];let n=ra(t.index)?t.index:null;i.forEach(o=>{const r=document.createElement("li");r.className="action-item",r.setAttribute("role","presentation");let l;const a={hoverDelegate:this._hoverDelegate,...t,isTabList:this.options.ariaRole==="tablist"};this.options.actionViewItemProvider&&(l=this.options.actionViewItemProvider(o,a)),l||(l=new Xu(this.context,o,a)),this.options.allowContextMenu||this.viewItemDisposables.set(l,R(r,$.CONTEXT_MENU,h=>{oe.stop(h,!0)})),l.actionRunner=this._actionRunner,l.setActionContext(this.context),l.render(r),this.focusable&&l instanceof Gt&&this.viewItems.length===0&&l.setFocusable(!0),n===null||n<0||n>=this.actionsList.children.length?(this.actionsList.appendChild(r),this.viewItems.push(l)):(this.actionsList.insertBefore(r,this.actionsList.children[n]),this.viewItems.splice(n,0,l),n++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=Ct(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),zt(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(e){let t=!1,i;if(e===void 0?t=!0:typeof e=="number"?i=e:typeof e=="boolean"&&(t=e),t&&typeof this.focusedItem>"u"){const n=this.viewItems.findIndex(o=>o.isEnabled());this.focusedItem=n===-1?void 0:n,this.updateFocus(void 0,void 0,!0)}else i!==void 0&&(this.focusedItem=i),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(e,t){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let n;do{if(!e&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=i,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,n=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!n.isEnabled()||n.action.id===Xt.ID));return this.updateFocus(void 0,void 0,t),!0}focusPrevious(e){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const t=this.focusedItem;let i;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!e&&this.options.preventLoopNavigation)return this.focusedItem=t,!1;this.focusedItem=this.viewItems.length-1}i=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===Xt.ID));return this.updateFocus(!0),!0}updateFocus(e,t,i=!1){var o,r;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((o=this.viewItems[this.previouslyFocusedItem])==null||o.blur());const n=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(n){let l=!0;al(n.focus)||(l=!1),this.options.focusOnlyEnabledItems&&al(n.isEnabled)&&!n.isEnabled()&&(l=!1),n.action.id===Xt.ID&&(l=!1),l?(i||this.previouslyFocusedItem!==this.focusedItem)&&(n.focus(e),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:t}),this.previouslyFocusedItem=void 0),l&&((r=n.showHover)==null||r.call(n))}}doTrigger(e){if(typeof this.focusedItem>"u")return;const t=this.viewItems[this.focusedItem];if(t instanceof Gt){const i=t._context===null||t._context===void 0?e:t._context;this.run(t._action,i)}}async run(e,t){await this._actionRunner.run(e,t)}dispose(){this._context=void 0,this.viewItems=Ct(this.viewItems),this.getContainer().remove(),super.dispose()}}const ea=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,Qr=/(&amp;)?(&amp;)([^\s&])/g;var Wo;(function(s){s[s.Right=0]="Right",s[s.Left=1]="Left"})(Wo||(Wo={}));var ta;(function(s){s[s.Above=0]="Above",s[s.Below=1]="Below"})(ta||(ta={}));class cn extends Va{constructor(e,t,i,n){e.classList.add("monaco-menu-container"),e.setAttribute("role","presentation");const o=document.createElement("div");o.classList.add("monaco-menu"),o.setAttribute("role","presentation"),super(o,{orientation:1,actionViewItemProvider:h=>this.doGetActionViewItem(h,i,r),context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...Oe||Do?[10]:[]],keyDown:!0}}),this.menuStyles=n,this.menuElement=o,this.actionsList.tabIndex=0,this.initializeOrUpdateStyleSheet(e,n),this._register(Dt.addTarget(o)),this._register(R(o,$.KEY_DOWN,h=>{new Re(h).equals(2)&&h.preventDefault()})),i.enableMnemonics&&this._register(R(o,$.KEY_DOWN,h=>{const d=h.key.toLocaleLowerCase();if(this.mnemonics.has(d)){oe.stop(h,!0);const u=this.mnemonics.get(d);if(u.length===1&&(u[0]instanceof Tc&&u[0].container&&this.focusItemByElement(u[0].container),u[0].onClick(h)),u.length>1){const f=u.shift();f&&f.container&&(this.focusItemByElement(f.container),u.push(f)),this.mnemonics.set(d,u)}}})),Do&&this._register(R(o,$.KEY_DOWN,h=>{const d=new Re(h);d.equals(14)||d.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),oe.stop(h,!0)):(d.equals(13)||d.equals(12))&&(this.focusedItem=0,this.focusPrevious(),oe.stop(h,!0))})),this._register(R(this.domNode,$.MOUSE_OUT,h=>{const d=h.relatedTarget;St(d,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),h.stopPropagation())})),this._register(R(this.actionsList,$.MOUSE_OVER,h=>{let d=h.target;if(!(!d||!St(d,this.actionsList)||d===this.actionsList)){for(;d.parentElement!==this.actionsList&&d.parentElement!==null;)d=d.parentElement;if(d.classList.contains("action-item")){const u=this.focusedItem;this.setFocusedItem(d),u!==this.focusedItem&&this.updateFocus()}}})),this._register(Dt.addTarget(this.actionsList)),this._register(R(this.actionsList,Ie.Tap,h=>{let d=h.initialTarget;if(!(!d||!St(d,this.actionsList)||d===this.actionsList)){for(;d.parentElement!==this.actionsList&&d.parentElement!==null;)d=d.parentElement;if(d.classList.contains("action-item")){const u=this.focusedItem;this.setFocusedItem(d),u!==this.focusedItem&&this.updateFocus()}}}));const r={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new _u(o,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const l=this.scrollableElement.getDomNode();l.style.position="",this.styleScrollElement(l,n),this._register(R(o,Ie.Change,h=>{oe.stop(h,!0);const d=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:d-h.translationY})})),this._register(R(l,$.MOUSE_UP,h=>{h.preventDefault()}));const a=le(e);o.style.maxHeight=`${Math.max(10,a.innerHeight-e.getBoundingClientRect().top-35)}px`,t=t.filter((h,d)=>{var u;return(u=i.submenuIds)!=null&&u.has(h.id)?(console.warn(`Found submenu cycle: ${h.id}`),!1):!(h instanceof Xt&&(d===t.length-1||d===0||t[d-1]instanceof Xt))}),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(h=>!(h instanceof Ac)).forEach((h,d,u)=>{h.updatePositionInSet(d+1,u.length)})}initializeOrUpdateStyleSheet(e,t){this.styleSheet||(Rh(e)?this.styleSheet=gs(e):(cn.globalStyleSheet||(cn.globalStyleSheet=gs()),this.styleSheet=cn.globalStyleSheet)),this.styleSheet.textContent=R2(t,Rh(e))}styleScrollElement(e,t){const i=t.foregroundColor??"",n=t.backgroundColor??"",o=t.borderColor?`1px solid ${t.borderColor}`:"",r="5px",l=t.shadowColor?`0 2px 8px ${t.shadowColor}`:"";e.style.outline=o,e.style.borderRadius=r,e.style.color=i,e.style.backgroundColor=n,e.style.boxShadow=l}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++){const i=this.actionsList.children[t];if(e===i){this.focusedItem=t;break}}}updateFocus(e){super.updateFocus(e,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,i){if(e instanceof Xt)return new Ac(t.context,e,{icon:!0},this.menuStyles);if(e instanceof ou){const n=new Tc(e,e.actions,i,{...t,submenuIds:new Set([...t.submenuIds||[],e.id])},this.menuStyles);if(t.enableMnemonics){const o=n.getMnemonic();if(o&&n.isEnabled()){let r=[];this.mnemonics.has(o)&&(r=this.mnemonics.get(o)),r.push(n),this.mnemonics.set(o,r)}}return n}else{const n={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){const r=t.getKeyBinding(e);if(r){const l=r.getLabel();l&&(n.keybinding=l)}}const o=new Zu(t.context,e,n,this.menuStyles);if(t.enableMnemonics){const r=o.getMnemonic();if(r&&o.isEnabled()){let l=[];this.mnemonics.has(r)&&(l=this.mnemonics.get(r)),l.push(o),this.mnemonics.set(r,l)}}return o}}}class Zu extends Gt{constructor(e,t,i,n){if(i.isMenu=!0,super(t,t,i),this.menuStyle=n,this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass="",this.options.label&&i.enableMnemonics){const o=this.action.label;if(o){const r=ea.exec(o);r&&(this.mnemonic=(r[1]?r[1]:r[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new bn(()=>{this.element&&(this._register(R(this.element,$.MOUSE_UP,o=>{if(oe.stop(o,!0),gn){if(new As(le(this.element),o).rightButton)return;this.onClick(o)}else setTimeout(()=>{this.onClick(o)},0)})),this._register(R(this.element,$.CONTEXT_MENU,o=>{oe.stop(o,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),this.element&&(this.container=e,this.item=Y(this.element,X("a.action-menu-item")),this._action.id===Xt.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=Y(this.item,X("span.menu-item-check"+We.asCSSSelector($e.menuSelection))),this.check.setAttribute("role","none"),this.label=Y(this.item,X("span.action-label")),this.options.label&&this.options.keybinding&&(Y(this.item,X("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var e;super.focus(),(e=this.item)==null||e.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset",`${e}`),this.item.setAttribute("aria-setsize",`${t}`))}updateLabel(){var e;if(this.label&&this.options.label){zt(this.label);let t=Iu(this.action.label);if(t){const i=P2(t);this.options.enableMnemonics||(t=i),this.label.setAttribute("aria-label",i.replace(/&&/g,"&"));const n=ea.exec(t);if(n){t=lo(t),Qr.lastIndex=0;let o=Qr.exec(t);for(;o&&o[1];)o=Qr.exec(t);const r=l=>l.replace(/&amp;&amp;/g,"&amp;");o?this.label.append(dr(r(t.substr(0,o.index))," "),X("u",{"aria-hidden":"true"},o[3]),kd(r(t.substr(o.index+o[0].length))," ")):this.label.innerText=r(t).trim(),(e=this.item)==null||e.setAttribute("aria-keyshortcuts",(n[1]?n[1]:n[3]).toLocaleLowerCase())}else this.label.innerText=t.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const e=this.action.checked;this.item.classList.toggle("checked",!!e),e!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",e?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const e=this.element&&this.element.classList.contains("focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,n=e&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",o=e&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=t??"",this.item.style.backgroundColor=i??"",this.item.style.outline=n,this.item.style.outlineOffset=o),this.check&&(this.check.style.color=t??"")}}class Tc extends Zu{constructor(e,t,i,n,o){super(e,e,n,o),this.submenuActions=t,this.parentData=i,this.submenuOptions=n,this.mysubmenu=null,this.submenuDisposables=this._register(new J),this.mouseOver=!1,this.expandDirection=n&&n.expandDirection!==void 0?n.expandDirection:{horizontal:Wo.Right,vertical:ta.Below},this.showScheduler=new bn(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new bn(()=>{this.element&&!St(ps(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(e){super.render(e),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=Y(this.item,X("span.submenu-indicator"+We.asCSSSelector($e.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(R(this.element,$.KEY_UP,t=>{const i=new Re(t);(i.equals(17)||i.equals(3))&&(oe.stop(t,!0),this.createSubmenu(!0))})),this._register(R(this.element,$.KEY_DOWN,t=>{const i=new Re(t);ps()===this.item&&(i.equals(17)||i.equals(3))&&oe.stop(t,!0)})),this._register(R(this.element,$.MOUSE_OVER,t=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register(R(this.element,$.MOUSE_LEAVE,t=>{this.mouseOver=!1})),this._register(R(this.element,$.FOCUS_OUT,t=>{this.element&&!St(ps(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(e){oe.stop(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,i,n){const o={top:0,left:0};return o.left=Ci(e.width,t.width,{position:n.horizontal===Wo.Right?0:1,offset:i.left,size:i.width}),o.left>=i.left&&o.left<i.left+i.width&&(i.left+10+t.width<=e.width&&(o.left=i.left+10),i.top+=10,i.height=0),o.top=Ci(e.height,t.height,{position:0,offset:i.top,size:0}),o.top+t.height===i.top&&o.top+i.height+t.height<=e.height&&(o.top+=i.height),o}createSubmenu(e=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=Y(this.element,X("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const t=le(this.parentData.parent.domNode).getComputedStyle(this.parentData.parent.domNode),i=parseFloat(t.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new cn(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new Pl],this.submenuOptions,this.menuStyle);const n=this.element.getBoundingClientRect(),o={top:n.top-i,left:n.left,height:n.height+2*i,width:n.width},r=this.submenuContainer.getBoundingClientRect(),l=le(this.element),{top:a,left:h}=this.calculateSubmenuMenuLayout(new dt(l.innerWidth,l.innerHeight),dt.lift(r),o,this.expandDirection);this.submenuContainer.style.left=`${h-r.left}px`,this.submenuContainer.style.top=`${a-r.top}px`,this.submenuDisposables.add(R(this.submenuContainer,$.KEY_UP,d=>{new Re(d).equals(15)&&(oe.stop(d,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(R(this.submenuContainer,$.KEY_DOWN,d=>{new Re(d).equals(15)&&oe.stop(d,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){var t;this.item&&((t=this.item)==null||t.setAttribute("aria-expanded",e))}applyStyle(){super.applyStyle();const t=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=t??"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class Ac extends Xu{constructor(e,t,i,n){super(e,t,i),this.menuStyles=n}render(e){super.render(e),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function P2(s){const e=ea,t=e.exec(s);if(!t)return s;const i=!t[1];return s.replace(e,i?"$2$3":"").trim()}function Lc(s){const e=_1()[s.id];return`.codicon-${s.id}:before { content: '\\${e.toString(16)}'; }`}function R2(s,e){let t=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${Lc($e.menuSelection)}
${Lc($e.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
	max-height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(e){t+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const i=s.scrollbarShadow;i&&(t+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${i} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${i} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${i} 6px 6px 6px -6px inset;
				}
			`);const n=s.scrollbarSliderBackground;n&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${n};
				}
			`);const o=s.scrollbarSliderHoverBackground;o&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${o};
				}
			`);const r=s.scrollbarSliderActiveBackground;r&&(t+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${r};
				}
			`)}return t}function f_(s,e){const t=[],i=[];for(const n of s)e.has(n)||t.push(n);for(const n of e)s.has(n)||i.push(n);return{removed:t,added:i}}function p_(s,e){const t=new Set;for(const i of e)s.has(i)&&t.add(i);return t}class yr extends Hs{constructor(e){super(),this._onChange=this._register(new M),this.onChange=this._onChange.event,this._onKeyDown=this._register(new M),this.onKeyDown=this._onKeyDown.event,this._opts=e,this._checked=this._opts.isChecked;const t=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,t.push(...We.asClassNameArray(this._icon))),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this._hover=this._register(ss().setupManagedHover(e.hoverDelegate??mt("mouse"),this.domNode,this._opts.title)),this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,i=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),i.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,i=>{if(i.keyCode===10||i.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),i.preventDefault(),i.stopPropagation();return}this._onKeyDown.fire(i)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}var M2=function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class Qu{constructor(e){this.nodes=e}toString(){return this.nodes.map(e=>typeof e=="string"?e:e.label).join("")}}M2([Ae],Qu.prototype,"toString",null);const O2=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function m_(s){const e=[];let t=0,i;for(;i=O2.exec(s);){i.index-t>0&&e.push(s.substring(t,i.index));const[,n,o,,r]=i;r?e.push({label:n,href:o,title:r}):e.push({label:n,href:o}),t=i.index+i[0].length}return t<s.length&&e.push(s.substring(t)),new Qu(e)}Zt.white.toString(),Zt.white.toString();class g_ extends Z{get onDidClick(){return this._onDidClick.event}constructor(e,t){super(),this._label="",this._onDidClick=this._register(new M),this._onDidEscape=this._register(new M),this.options=t,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!t.secondary);const i=t.secondary?t.buttonSecondaryBackground:t.buttonBackground,n=t.secondary?t.buttonSecondaryForeground:t.buttonForeground;this._element.style.color=n||"",this._element.style.backgroundColor=i||"",t.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),typeof t.title=="string"&&this.setTitle(t.title),typeof t.ariaLabel=="string"&&this._element.setAttribute("aria-label",t.ariaLabel),e.appendChild(this._element),this._register(Dt.addTarget(this._element)),[$.CLICK,Ie.Tap].forEach(o=>{this._register(R(this._element,o,r=>{if(!this.enabled){oe.stop(r);return}this._onDidClick.fire(r)}))}),this._register(R(this._element,$.KEY_DOWN,o=>{const r=new Re(o);let l=!1;this.enabled&&(r.equals(3)||r.equals(10))?(this._onDidClick.fire(o),l=!0):r.equals(9)&&(this._onDidEscape.fire(o),this._element.blur(),l=!0),l&&oe.stop(r,!0)})),this._register(R(this._element,$.MOUSE_OVER,o=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register(R(this._element,$.MOUSE_OUT,o=>{this.updateBackground(!1)})),this.focusTracker=this._register(su(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(e){const t=[];for(let i of ln(e))if(typeof i=="string"){if(i=i.trim(),i==="")continue;const n=document.createElement("span");n.textContent=i,t.push(n)}else t.push(i);return t}updateBackground(e){let t;this.options.secondary?t=e?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:t=e?this.options.buttonHoverBackground:this.options.buttonBackground,t&&(this._element.style.backgroundColor=t)}get element(){return this._element}set label(e){var n;if(this._label===e||fo(this._label)&&fo(e)&&$g(this._label,e))return;this._element.classList.add("monaco-text-button");const t=this.options.supportShortLabel?this._labelElement:this._element;if(fo(e)){const o=Mu(e,{inline:!0});o.dispose();const r=(n=o.element.querySelector("p"))==null?void 0:n.innerHTML;if(r){const l=$d(r,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});t.innerHTML=l}else _n(t)}else this.options.supportIcons?_n(t,...this.getContentElements(e)):t.textContent=e;let i="";typeof this.options.title=="string"?i=this.options.title:this.options.title&&(i=t0(e)),this.setTitle(i),typeof this.options.ariaLabel=="string"?this._element.setAttribute("aria-label",this.options.ariaLabel):this.options.ariaLabel&&this._element.setAttribute("aria-label",i),this._label=e}get label(){return this._label}set icon(e){this._element.classList.add(...We.asClassNameArray(e))}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}setTitle(e){!this._hover&&e!==""?this._hover=this._register(ss().setupManagedHover(this.options.hoverDelegate??mt("mouse"),this._element,e)):this._hover&&this._hover.update(e)}}class b_{constructor(e,t,i){this.options=t,this.styles=i,this.count=0,this.element=Y(e,X(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){this.element.textContent=bh(this.countFormat,this.count),this.element.title=bh(this.titleFormat,this.count),this.element.style.backgroundColor=this.styles.badgeBackground??"",this.element.style.color=this.styles.badgeForeground??"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}const Ic="done",Pc="active",Jr="infinite",el="infinite-long-running",Rc="discrete",or=class or extends Z{constructor(e,t){super(),this.progressSignal=this._register(new md),this.workedVal=0,this.showDelayedScheduler=this._register(new bn(()=>Na(this.element),0)),this.longRunningScheduler=this._register(new bn(()=>this.infiniteLongRunning(),or.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(e,t)}create(e,t){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=(t==null?void 0:t.progressBarBackground)||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(Pc,Jr,el,Rc),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel(),this.progressSignal.clear()}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add(Ic),this.element.classList.contains(Jr)?(this.bit.style.opacity="0",e?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",e?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(Rc,Ic,el),this.element.classList.add(Pc,Jr),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(el)}getContainer(){return this.element}};or.LONG_RUNNING_INFINITE_THRESHOLD=1e4;let Mc=or;const F2=ie("caseDescription","Match Case"),z2=ie("wordsDescription","Match Whole Word"),B2=ie("regexDescription","Use Regular Expression");class H2 extends yr{constructor(e){super({icon:$e.caseSensitive,title:F2+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??mt("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class K2 extends yr{constructor(e){super({icon:$e.wholeWord,title:z2+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??mt("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class $2 extends yr{constructor(e){super({icon:$e.regex,title:B2+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??mt("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class W2{constructor(e,t=0,i=e.length,n=t-1){this.items=e,this.start=t,this.end=i,this.index=n}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class V2{constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}getHistory(){return this._elements}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(e){return this._history.has(e)}_onChange(){this._reduceToLimit();const e=this._elements;this._navigator=new W2(e,0,e.length,e.length)}_reduceToLimit(){const e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){const e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(const t of e)this._history.add(t)}get _elements(){const e=[];return this._history.forEach(t=>e.push(t)),e}}const en=X;class U2 extends Hs{constructor(e,t,i){super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new M),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new M),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=t,this.options=i,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=this.options.tooltip??(this.placeholder||""),this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=Y(e,en(".monaco-inputbox.idle"));const n=this.options.flexibleHeight?"textarea":"input",o=Y(this.element,en(".ibwrapper"));if(this.input=Y(o,en(n+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=Y(o,en("div.mirror")),this.mirror.innerText=" ",this.scrollableElement=new sg(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),Y(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(a=>this.input.scrollTop=a.scrollTop));const r=this._register(new ce(e.ownerDocument,"selectionchange")),l=P.filter(r.event,()=>{const a=e.ownerDocument.getSelection();return(a==null?void 0:a.anchorNode)===o});this._register(l(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new Va(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.hover?this.hover.update(e):this.hover=this._register(ss().setupManagedHover(mt("mouse"),this.input,e))}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:Ll(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return Zd(this.input)}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}getSelection(){const e=this.input.selectionStart;if(e===null)return null;const t=this.input.selectionEnd??e;return{start:e,end:t}}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(e){this.input.style.width=`calc(100% - ${e}px)`,this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const e=this.cachedContentHeight,t=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:i})}showMessage(e,t){if(this.state==="open"&&jt(this.message,e))return;this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));const i=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${ms(i.border,"transparent")}`,this.message.content&&(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),e==null?void 0:e.type}stylesForType(e){const t=this.options.inputBoxStyles;switch(e){case 1:return{border:t.inputValidationInfoBorder,background:t.inputValidationInfoBackground,foreground:t.inputValidationInfoForeground};case 2:return{border:t.inputValidationWarningBorder,background:t.inputValidationWarningBackground,foreground:t.inputValidationWarningForeground};default:return{border:t.inputValidationErrorBorder,background:t.inputValidationErrorBackground,foreground:t.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e;const t=()=>e.style.width=Ea(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:n=>{if(!this.message)return null;e=Y(n,en(".monaco-inputbox-container")),t();const o={inline:!0,className:"monaco-inputbox-message"},r=this.message.formatContent?lg(this.message.content,o):rg(this.message.content,o);r.classList.add(this.classForType(this.message.type));const l=this.stylesForType(this.message.type);return r.style.backgroundColor=l.background??"",r.style.color=l.foreground??"",r.style.border=l.border?`1px solid ${l.border}`:"",Y(e,r),null},onHide:()=>{this.state="closed"},layout:t});let i;this.message.type===3?i=ie("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?i=ie("alertWarningMessage","Warning: {0}",this.message.content):i=ie("alertInfoMessage","Info: {0}",this.message.content),Cn(i),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const e=this.value,i=e.charCodeAt(e.length-1)===10?" ":"";(e+i).replace(/\u000c/g,"")?this.mirror.textContent=e+i:this.mirror.innerText=" ",this.layout()}applyStyles(){const e=this.options.inputBoxStyles,t=e.inputBackground??"",i=e.inputForeground??"",n=e.inputBorder??"";this.element.style.backgroundColor=t,this.element.style.color=i,this.input.style.backgroundColor="inherit",this.input.style.color=i,this.element.style.border=`1px solid ${ms(n,"transparent")}`}layout(){if(!this.mirror)return;const e=this.cachedContentHeight;this.cachedContentHeight=Ll(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){const t=this.inputElement,i=t.selectionStart,n=t.selectionEnd,o=t.value;i!==null&&n!==null&&(this.value=o.substr(0,i)+e+o.substr(n),t.setSelectionRange(i+1,i+1),this.layout())}dispose(){var e;this._hideMessage(),this.message=null,(e=this.actionbar)==null||e.dispose(),super.dispose()}}class Ju extends U2{constructor(e,t,i){const n=ie({key:"history.inputbox.hint.suffix.noparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field ends in a closing parenthesis ")", for example "Filter (e.g. text, !exclude)". The character inserted into the final string is ⇅ to represent the up and down arrow keys.']}," or {0} for history","⇅"),o=ie({key:"history.inputbox.hint.suffix.inparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field does NOT end in a closing parenthesis (eg. "Find"). The character inserted into the final string is ⇅ to represent the up and down arrow keys.']}," ({0} for history)","⇅");super(e,t,i),this._onDidFocus=this._register(new M),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new M),this.onDidBlur=this._onDidBlur.event,this.history=new V2(i.history,100);const r=()=>{if(i.showHistoryHint&&i.showHistoryHint()&&!this.placeholder.endsWith(n)&&!this.placeholder.endsWith(o)&&this.history.getHistory().length){const l=this.placeholder.endsWith(")")?n:o,a=this.placeholder+l;i.showPlaceholderOnFocus&&!Zd(this.input)?this.placeholder=a:this.setPlaceHolder(a)}};this.observer=new MutationObserver((l,a)=>{l.forEach(h=>{h.target.textContent||r()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>r()),this.onblur(this.input,()=>{const l=a=>{if(this.placeholder.endsWith(a)){const h=this.placeholder.slice(0,this.placeholder.length-a.length);return i.showPlaceholderOnFocus?this.placeholder=h:this.setPlaceHolder(h),!0}else return!1};l(o)||l(n)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(e){this.value&&(e||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),this.value=e??"",pc(this.value?this.value:ie("clearedInput","Cleared Input"))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,pc(this.value))}setPlaceHolder(e){super.setPlaceHolder(e),this.setTooltip(e)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}const q2=ie("defaultLabel","input");class __ extends Hs{constructor(e,t,i){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new md),this.additionalToggles=[],this._onDidOptionChange=this._register(new M),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new M),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new M),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new M),this._onKeyUp=this._register(new M),this._onCaseSensitiveKeyDown=this._register(new M),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new M),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=i.placeholder||"",this.validation=i.validation,this.label=i.label||q2,this.showCommonFindToggles=!!i.showCommonFindToggles;const n=i.appendCaseSensitiveLabel||"",o=i.appendWholeWordsLabel||"",r=i.appendRegexLabel||"",l=i.history||[],a=!!i.flexibleHeight,h=!!i.flexibleWidth,d=i.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Ju(this.domNode,t,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:l,showHistoryHint:i.showHistoryHint,flexibleHeight:a,flexibleWidth:h,flexibleMaxHeight:d,inputBoxStyles:i.inputBoxStyles}));const u=this._register(Wa());if(this.showCommonFindToggles){this.regex=this._register(new $2({appendTitle:r,isChecked:!1,hoverDelegate:u,...i.toggleStyles})),this._register(this.regex.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(g=>{this._onRegexKeyDown.fire(g)})),this.wholeWords=this._register(new K2({appendTitle:o,isChecked:!1,hoverDelegate:u,...i.toggleStyles})),this._register(this.wholeWords.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new H2({appendTitle:n,isChecked:!1,hoverDelegate:u,...i.toggleStyles})),this._register(this.caseSensitive.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(g=>{this._onCaseSensitiveKeyDown.fire(g)}));const f=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,g=>{if(g.equals(15)||g.equals(17)||g.equals(9)){const y=f.indexOf(this.domNode.ownerDocument.activeElement);if(y>=0){let _=-1;g.equals(17)?_=(y+1)%f.length:g.equals(15)&&(y===0?_=f.length-1:_=y-1),g.equals(9)?(f[y].blur(),this.inputBox.focus()):_>=0&&f[_].focus(),oe.stop(g,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(i==null?void 0:i.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),e==null||e.appendChild(this.domNode),this._register(R(this.inputBox.inputElement,"compositionstart",f=>{this.imeSessionInProgress=!0})),this._register(R(this.inputBox.inputElement,"compositionend",f=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,f=>this._onKeyDown.fire(f)),this.onkeyup(this.inputBox.inputElement,f=>this._onKeyUp.fire(f)),this.oninput(this.inputBox.inputElement,f=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,f=>this._onMouseDown.fire(f))}get onDidChange(){return this.inputBox.onDidChange}layout(e){this.inputBox.layout(),this.updateInputBoxPadding(e.collapsedFindWidget)}enable(){var e,t,i;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(e=this.regex)==null||e.enable(),(t=this.wholeWords)==null||t.enable(),(i=this.caseSensitive)==null||i.enable();for(const n of this.additionalToggles)n.enable()}disable(){var e,t,i;this.domNode.classList.add("disabled"),this.inputBox.disable(),(e=this.regex)==null||e.disable(),(t=this.wholeWords)==null||t.disable(),(i=this.caseSensitive)==null||i.disable();for(const n of this.additionalToggles)n.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}setAdditionalToggles(e){for(const t of this.additionalToggles)t.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new J;for(const t of e??[])this.additionalTogglesDisposables.value.add(t),this.controls.appendChild(t.domNode),this.additionalTogglesDisposables.value.add(t.onChange(i=>{this._onDidOptionChange.fire(i),!i&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(t);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(e=!1){var t,i,n;e?this.inputBox.paddingRight=0:this.inputBox.paddingRight=(((t=this.caseSensitive)==null?void 0:t.width())??0)+(((i=this.wholeWords)==null?void 0:i.width())??0)+(((n=this.regex)==null?void 0:n.width())??0)+this.additionalToggles.reduce((o,r)=>o+r.width(),0)}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var e;return((e=this.caseSensitive)==null?void 0:e.checked)??!1}setCaseSensitive(e){this.caseSensitive&&(this.caseSensitive.checked=e)}getWholeWords(){var e;return((e=this.wholeWords)==null?void 0:e.checked)??!1}setWholeWords(e){this.wholeWords&&(this.wholeWords.checked=e)}getRegex(){var e;return((e=this.regex)==null?void 0:e.checked)??!1}setRegex(e){this.regex&&(this.regex.checked=e,this.validate())}focusOnCaseSensitive(){var e;(e=this.caseSensitive)==null||e.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(e){this.inputBox.showMessage(e)}clearMessage(){this.inputBox.hideMessage()}}class G2{get templateId(){return this.renderer.templateId}constructor(e,t){this.renderer=e,this.modelProvider=t}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:Z.None}}renderElement(e,t,i,n){var a;if((a=i.disposable)==null||a.dispose(),!i.data)return;const o=this.modelProvider();if(o.isResolved(e))return this.renderer.renderElement(o.get(e),e,i.data,n);const r=new cr,l=o.resolve(e,r.token);i.disposable={dispose:()=>r.cancel()},this.renderer.renderPlaceholder(e,i.data),l.then(h=>this.renderer.renderElement(h,e,i.data,n))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}}class Y2{constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){const t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}}function j2(s,e){return{...e,accessibilityProvider:e.accessibilityProvider&&new Y2(s,e.accessibilityProvider)}}class w_{constructor(e,t,i,n,o={}){const r=()=>this.model,l=n.map(a=>new G2(a,r));this.list=new is(e,t,i,l,j2(r,o))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return P.map(this.list.onMouseDblClick,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onPointer(){return P.map(this.list.onPointer,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onDidChangeSelection(){return P.map(this.list.onDidChangeSelection,({elements:e,indexes:t,browserEvent:i})=>({elements:e.map(n=>this._model.get(n)),indexes:t,browserEvent:i}))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,Qe(e.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(e=>this.model.get(e))}style(e){this.list.style(e)}dispose(){this.list.dispose()}}var Hi=function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};const X2=!1;var Vo;(function(s){s.North="north",s.South="south",s.East="east",s.West="west"})(Vo||(Vo={}));let Z2=4;const Q2=new M;let J2=300;const eb=new M;class Ua{constructor(e){this.el=e,this.disposables=new J}get onPointerMove(){return this.disposables.add(new ce(le(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new ce(le(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}}Hi([Ae],Ua.prototype,"onPointerMove",null);Hi([Ae],Ua.prototype,"onPointerUp",null);class qa{get onPointerMove(){return this.disposables.add(new ce(this.el,Ie.Change)).event}get onPointerUp(){return this.disposables.add(new ce(this.el,Ie.End)).event}constructor(e){this.el=e,this.disposables=new J}dispose(){this.disposables.dispose()}}Hi([Ae],qa.prototype,"onPointerMove",null);Hi([Ae],qa.prototype,"onPointerUp",null);class Uo{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(e){this.factory=e}dispose(){}}Hi([Ae],Uo.prototype,"onPointerMove",null);Hi([Ae],Uo.prototype,"onPointerUp",null);const Oc="pointer-events-disabled";class Je extends Z{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",e===0),this.el.classList.toggle("minimum",e===1),this.el.classList.toggle("maximum",e===2),this._state=e,this.onDidEnablementChange.fire(e))}set orthogonalStartSash(e){if(this._orthogonalStartSash!==e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){const t=i=>{this.orthogonalStartDragHandleDisposables.clear(),i!==0&&(this._orthogonalStartDragHandle=Y(this.el,X(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(we(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new ce(this._orthogonalStartDragHandle,"mouseenter")).event(()=>Je.onMouseEnter(e),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new ce(this._orthogonalStartDragHandle,"mouseleave")).event(()=>Je.onMouseLeave(e),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalStartSash=e}}set orthogonalEndSash(e){if(this._orthogonalEndSash!==e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){const t=i=>{this.orthogonalEndDragHandleDisposables.clear(),i!==0&&(this._orthogonalEndDragHandle=Y(this.el,X(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(we(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new ce(this._orthogonalEndDragHandle,"mouseenter")).event(()=>Je.onMouseEnter(e),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new ce(this._orthogonalEndDragHandle,"mouseleave")).event(()=>Je.onMouseLeave(e),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalEndSash=e}}constructor(e,t,i){super(),this.hoverDelay=J2,this.hoverDelayer=this._register(new Ln(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new M),this._onDidStart=this._register(new M),this._onDidChange=this._register(new M),this._onDidReset=this._register(new M),this._onDidEnd=this._register(new M),this.orthogonalStartSashDisposables=this._register(new J),this.orthogonalStartDragHandleDisposables=this._register(new J),this.orthogonalEndSashDisposables=this._register(new J),this.orthogonalEndDragHandleDisposables=this._register(new J),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=Y(e,X(".monaco-sash")),i.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${i.orthogonalEdge}`),Oe&&this.el.classList.add("mac");const n=this._register(new ce(this.el,"mousedown")).event;this._register(n(u=>this.onPointerStart(u,new Ua(e)),this));const o=this._register(new ce(this.el,"dblclick")).event;this._register(o(this.onPointerDoublePress,this));const r=this._register(new ce(this.el,"mouseenter")).event;this._register(r(()=>Je.onMouseEnter(this)));const l=this._register(new ce(this.el,"mouseleave")).event;this._register(l(()=>Je.onMouseLeave(this))),this._register(Dt.addTarget(this.el));const a=this._register(new ce(this.el,Ie.Start)).event;this._register(a(u=>this.onPointerStart(u,new qa(this.el)),this));const h=this._register(new ce(this.el,Ie.Tap)).event;let d;this._register(h(u=>{if(d){clearTimeout(d),d=void 0,this.onPointerDoublePress(u);return}clearTimeout(d),d=setTimeout(()=>d=void 0,250)},this)),typeof i.size=="number"?(this.size=i.size,i.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=Z2,this._register(Q2.event(u=>{this.size=u,this.layout()}))),this._register(eb.event(u=>this.hoverDelay=u)),this.layoutProvider=t,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",X2),this.layout()}onPointerStart(e,t){oe.stop(e);let i=!1;if(!e.__orthogonalSashEvent){const y=this.getOrthogonalSash(e);y&&(i=!0,e.__orthogonalSashEvent=!0,y.onPointerStart(e,new Uo(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new Uo(t))),!this.state)return;const n=this.el.ownerDocument.getElementsByTagName("iframe");for(const y of n)y.classList.add(Oc);const o=e.pageX,r=e.pageY,l=e.altKey,a={startX:o,currentX:o,startY:r,currentY:r,altKey:l};this.el.classList.add("active"),this._onDidStart.fire(a);const h=gs(this.el),d=()=>{let y="";i?y="all-scroll":this.orientation===1?this.state===1?y="s-resize":this.state===2?y="n-resize":y=Oe?"row-resize":"ns-resize":this.state===1?y="e-resize":this.state===2?y="w-resize":y=Oe?"col-resize":"ew-resize",h.textContent=`* { cursor: ${y} !important; }`},u=new J;d(),i||this.onDidEnablementChange.event(d,null,u);const f=y=>{oe.stop(y,!1);const _={startX:o,currentX:y.pageX,startY:r,currentY:y.pageY,altKey:l};this._onDidChange.fire(_)},g=y=>{oe.stop(y,!1),h.remove(),this.el.classList.remove("active"),this._onDidEnd.fire(),u.dispose();for(const _ of n)_.classList.remove(Oc)};t.onPointerMove(f,null,u),t.onPointerUp(g,null,u),u.add(t)}onPointerDoublePress(e){const t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger(()=>e.el.classList.add("hover"),e.hoverDelay).then(void 0,()=>{}),!t&&e.linkedSash&&Je.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&Je.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){Je.onMouseLeave(this)}layout(){if(this.orientation===0){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(e){const t=e.initialTarget??e.target;if(!(!t||!Ft(t))&&t.classList.contains("orthogonal-drag-handle"))return t.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}const tb={separatorBorder:Zt.transparent};class ef{set size(e){this._size=e}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(e,t){var i,n;if(e!==this.visible){e?(this.size=vt(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof t=="number"?t:this.size,this.size=0),this.container.classList.toggle("visible",e);try{(n=(i=this.view).setVisible)==null||n.call(i,e)}catch(o){console.error("Splitview: Failed to set visible view"),console.error(o)}}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){return this.view.proportionalLayout??!0}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}constructor(e,t,i,n){this.container=e,this.view=t,this.disposable=n,this._cachedVisibleSize=void 0,typeof i=="number"?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}layout(e,t){this.layoutContainer(e);try{this.view.layout(this.size,e,t)}catch(i){console.error("Splitview: Failed to layout view"),console.error(i)}}dispose(){this.disposable.dispose()}}class sb extends ef{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class ib extends ef{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}var hs;(function(s){s[s.Idle=0]="Idle",s[s.Busy=1]="Busy"})(hs||(hs={}));var Fc;(function(s){s.Distribute={type:"distribute"};function e(n){return{type:"split",index:n}}s.Split=e;function t(n){return{type:"auto",index:n}}s.Auto=t;function i(n){return{type:"invisible",cachedVisibleSize:n}}s.Invisible=i})(Fc||(Fc={}));class nb extends Z{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(e){for(const t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}set orthogonalEndSash(e){for(const t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}constructor(e,t={}){super(),this.size=0,this._contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=hs.Idle,this._onDidSashChange=this._register(new M),this._onDidSashReset=this._register(new M),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=t.orientation??0,this.inverseAltBehavior=t.inverseAltBehavior??!1,this.proportionalLayout=t.proportionalLayout??!0,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=Y(this.el,X(".sash-container")),this.viewContainer=X(".split-view-container"),this.scrollable=this._register(new pr({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:n=>es(le(this.el),n)})),this.scrollableElement=this._register(new bu(this.viewContainer,{vertical:this.orientation===0?t.scrollbarVisibility??1:2,horizontal:this.orientation===1?t.scrollbarVisibility??1:2},this.scrollable));const i=this._register(new ce(this.viewContainer,"scroll")).event;this._register(i(n=>{const o=this.scrollableElement.getScrollPosition(),r=Math.abs(this.viewContainer.scrollLeft-o.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,l=Math.abs(this.viewContainer.scrollTop-o.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(r!==void 0||l!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:r,scrollTop:l})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(n=>{n.scrollTopChanged&&(this.viewContainer.scrollTop=n.scrollTop),n.scrollLeftChanged&&(this.viewContainer.scrollLeft=n.scrollLeft)})),Y(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||tb),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach((n,o)=>{const r=od(n.visible)||n.visible?n.size:{type:"invisible",cachedVisibleSize:n.size},l=n.view;this.doAddView(l,r,o,!0)}),this._contentSize=this.viewItems.reduce((n,o)=>n+o.size,0),this.saveProportions())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,i=this.viewItems.length,n){this.doAddView(e,t,i,n)}layout(e,t){const i=Math.max(this.size,this._contentSize);if(this.size=e,this.layoutContext=t,this.proportions){let n=0;for(let o=0;o<this.viewItems.length;o++){const r=this.viewItems[o],l=this.proportions[o];typeof l=="number"?n+=l:e-=r.size}for(let o=0;o<this.viewItems.length;o++){const r=this.viewItems[o],l=this.proportions[o];typeof l=="number"&&n>0&&(r.size=vt(Math.round(l*e/n),r.minimumSize,r.maximumSize))}}else{const n=Qe(this.viewItems.length),o=n.filter(l=>this.viewItems[l].priority===1),r=n.filter(l=>this.viewItems[l].priority===2);this.resize(this.viewItems.length-1,e-i,void 0,o,r)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map(e=>e.proportionalLayout&&e.visible?e.size/this._contentSize:void 0))}onSashStart({sash:e,start:t,alt:i}){for(const l of this.viewItems)l.enabled=!1;const n=this.sashItems.findIndex(l=>l.sash===e),o=no(R(this.el.ownerDocument.body,"keydown",l=>r(this.sashDragState.current,l.altKey)),R(this.el.ownerDocument.body,"keyup",()=>r(this.sashDragState.current,!1))),r=(l,a)=>{const h=this.viewItems.map(y=>y.size);let d=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(a=!a),a)if(n===this.sashItems.length-1){const _=this.viewItems[n];d=(_.minimumSize-_.size)/2,u=(_.maximumSize-_.size)/2}else{const _=this.viewItems[n+1];d=(_.size-_.maximumSize)/2,u=(_.size-_.minimumSize)/2}let f,g;if(!a){const y=Qe(n,-1),_=Qe(n+1,this.viewItems.length),D=y.reduce((k,q)=>k+(this.viewItems[q].minimumSize-h[q]),0),L=y.reduce((k,q)=>k+(this.viewItems[q].viewMaximumSize-h[q]),0),N=_.length===0?Number.POSITIVE_INFINITY:_.reduce((k,q)=>k+(h[q]-this.viewItems[q].minimumSize),0),K=_.length===0?Number.NEGATIVE_INFINITY:_.reduce((k,q)=>k+(h[q]-this.viewItems[q].viewMaximumSize),0),T=Math.max(D,K),E=Math.min(N,L),I=this.findFirstSnapIndex(y),A=this.findFirstSnapIndex(_);if(typeof I=="number"){const k=this.viewItems[I],q=Math.floor(k.viewMinimumSize/2);f={index:I,limitDelta:k.visible?T-q:T+q,size:k.size}}if(typeof A=="number"){const k=this.viewItems[A],q=Math.floor(k.viewMinimumSize/2);g={index:A,limitDelta:k.visible?E+q:E-q,size:k.size}}}this.sashDragState={start:l,current:l,index:n,sizes:h,minDelta:d,maxDelta:u,alt:a,snapBefore:f,snapAfter:g,disposable:o}};r(t,i)}onSashChange({current:e}){const{index:t,start:i,sizes:n,alt:o,minDelta:r,maxDelta:l,snapBefore:a,snapAfter:h}=this.sashDragState;this.sashDragState.current=e;const d=e-i,u=this.resize(t,d,n,void 0,void 0,r,l,a,h);if(o){const f=t===this.sashItems.length-1,g=this.viewItems.map(K=>K.size),y=f?t:t+1,_=this.viewItems[y],D=_.size-_.maximumSize,L=_.size-_.minimumSize,N=f?t-1:t+1;this.resize(N,-u,g,void 0,void 0,D,L)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(const t of this.viewItems)t.enabled=!0}onViewChange(e,t){const i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t=typeof t=="number"?t:e.size,t=vt(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(!(e<0||e>=this.viewItems.length)){if(this.state!==hs.Idle)throw new Error("Cant modify splitview");this.state=hs.Busy;try{const i=Qe(this.viewItems.length).filter(l=>l!==e),n=[...i.filter(l=>this.viewItems[l].priority===1),e],o=i.filter(l=>this.viewItems[l].priority===2),r=this.viewItems[e];t=Math.round(t),t=vt(t,r.minimumSize,Math.min(r.maximumSize,this.size)),r.size=t,this.relayout(n,o)}finally{this.state=hs.Idle}}}distributeViewSizes(){const e=[];let t=0;for(const l of this.viewItems)l.maximumSize-l.minimumSize>0&&(e.push(l),t+=l.size);const i=Math.floor(t/e.length);for(const l of e)l.size=vt(i,l.minimumSize,l.maximumSize);const n=Qe(this.viewItems.length),o=n.filter(l=>this.viewItems[l].priority===1),r=n.filter(l=>this.viewItems[l].priority===2);this.relayout(o,r)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,i=this.viewItems.length,n){if(this.state!==hs.Idle)throw new Error("Cant modify splitview");this.state=hs.Busy;try{const o=X(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(o):this.viewContainer.insertBefore(o,this.viewContainer.children.item(i));const r=e.onDidChange(f=>this.onViewChange(d,f)),l=we(()=>o.remove()),a=no(r,l);let h;typeof t=="number"?h=t:(t.type==="auto"&&(this.areViewsDistributed()?t={type:"distribute"}:t={type:"split",index:t.index}),t.type==="split"?h=this.getViewSize(t.index)/2:t.type==="invisible"?h={cachedVisibleSize:t.cachedVisibleSize}:h=e.minimumSize);const d=this.orientation===0?new sb(o,e,h,a):new ib(o,e,h,a);if(this.viewItems.splice(i,0,d),this.viewItems.length>1){const f={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},g=this.orientation===0?new Je(this.sashContainer,{getHorizontalSashTop:k=>this.getSashPosition(k),getHorizontalSashWidth:this.getSashOrthogonalSize},{...f,orientation:1}):new Je(this.sashContainer,{getVerticalSashLeft:k=>this.getSashPosition(k),getVerticalSashHeight:this.getSashOrthogonalSize},{...f,orientation:0}),y=this.orientation===0?k=>({sash:g,start:k.startY,current:k.currentY,alt:k.altKey}):k=>({sash:g,start:k.startX,current:k.currentX,alt:k.altKey}),D=P.map(g.onDidStart,y)(this.onSashStart,this),N=P.map(g.onDidChange,y)(this.onSashChange,this),T=P.map(g.onDidEnd,()=>this.sashItems.findIndex(k=>k.sash===g))(this.onSashEnd,this),E=g.onDidReset(()=>{const k=this.sashItems.findIndex(B=>B.sash===g),q=Qe(k,-1),be=Qe(k+1,this.viewItems.length),ee=this.findFirstSnapIndex(q),Q=this.findFirstSnapIndex(be);typeof ee=="number"&&!this.viewItems[ee].visible||typeof Q=="number"&&!this.viewItems[Q].visible||this._onDidSashReset.fire(k)}),I=no(D,N,T,E,g),A={sash:g,disposable:I};this.sashItems.splice(i-1,0,A)}o.appendChild(e.element);let u;typeof t!="number"&&t.type==="split"&&(u=[t.index]),n||this.relayout([i],u),!n&&typeof t!="number"&&t.type==="distribute"&&this.distributeViewSizes()}finally{this.state=hs.Idle}}relayout(e,t){const i=this.viewItems.reduce((n,o)=>n+o.size,0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,i=this.viewItems.map(d=>d.size),n,o,r=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,a,h){if(e<0||e>=this.viewItems.length)return 0;const d=Qe(e,-1),u=Qe(e+1,this.viewItems.length);if(o)for(const A of o)xr(d,A),xr(u,A);if(n)for(const A of n)Hn(d,A),Hn(u,A);const f=d.map(A=>this.viewItems[A]),g=d.map(A=>i[A]),y=u.map(A=>this.viewItems[A]),_=u.map(A=>i[A]),D=d.reduce((A,k)=>A+(this.viewItems[k].minimumSize-i[k]),0),L=d.reduce((A,k)=>A+(this.viewItems[k].maximumSize-i[k]),0),N=u.length===0?Number.POSITIVE_INFINITY:u.reduce((A,k)=>A+(i[k]-this.viewItems[k].minimumSize),0),K=u.length===0?Number.NEGATIVE_INFINITY:u.reduce((A,k)=>A+(i[k]-this.viewItems[k].maximumSize),0),T=Math.max(D,K,r),E=Math.min(N,L,l);let I=!1;if(a){const A=this.viewItems[a.index],k=t>=a.limitDelta;I=k!==A.visible,A.setVisible(k,a.size)}if(!I&&h){const A=this.viewItems[h.index],k=t<h.limitDelta;I=k!==A.visible,A.setVisible(k,h.size)}if(I)return this.resize(e,t,i,n,o,r,l);t=vt(t,T,E);for(let A=0,k=t;A<f.length;A++){const q=f[A],be=vt(g[A]+k,q.minimumSize,q.maximumSize),ee=be-g[A];k-=ee,q.size=be}for(let A=0,k=t;A<y.length;A++){const q=y[A],be=vt(_[A]-k,q.minimumSize,q.maximumSize),ee=be-_[A];k+=ee,q.size=be}return t}distributeEmptySpace(e){const t=this.viewItems.reduce((l,a)=>l+a.size,0);let i=this.size-t;const n=Qe(this.viewItems.length-1,-1),o=n.filter(l=>this.viewItems[l].priority===1),r=n.filter(l=>this.viewItems[l].priority===2);for(const l of r)xr(n,l);for(const l of o)Hn(n,l);typeof e=="number"&&Hn(n,e);for(let l=0;i!==0&&l<n.length;l++){const a=this.viewItems[n[l]],h=vt(a.size+i,a.minimumSize,a.maximumSize),d=h-a.size;i-=d,a.size=h}}layoutViews(){this._contentSize=this.viewItems.reduce((t,i)=>t+i.size,0);let e=0;for(const t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach(t=>t.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let e=!1;const t=this.viewItems.map(a=>e=a.size-a.minimumSize>0||e);e=!1;const i=this.viewItems.map(a=>e=a.maximumSize-a.size>0||e),n=[...this.viewItems].reverse();e=!1;const o=n.map(a=>e=a.size-a.minimumSize>0||e).reverse();e=!1;const r=n.map(a=>e=a.maximumSize-a.size>0||e).reverse();let l=0;for(let a=0;a<this.sashItems.length;a++){const{sash:h}=this.sashItems[a],d=this.viewItems[a];l+=d.size;const u=!(t[a]&&r[a+1]),f=!(i[a]&&o[a+1]);if(u&&f){const g=Qe(a,-1),y=Qe(a+1,this.viewItems.length),_=this.findFirstSnapIndex(g),D=this.findFirstSnapIndex(y),L=typeof _=="number"&&!this.viewItems[_].visible,N=typeof D=="number"&&!this.viewItems[D].visible;L&&o[a]&&(l>0||this.startSnappingEnabled)?h.state=1:N&&t[a]&&(l<this._contentSize||this.endSnappingEnabled)?h.state=2:h.state=0}else u&&!f?h.state=1:!u&&f?h.state=2:h.state=3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(const t of e){const i=this.viewItems[t];if(i.visible&&i.snap)return t}for(const t of e){const i=this.viewItems[t];if(i.visible&&i.maximumSize-i.minimumSize>0)return;if(!i.visible&&i.snap)return t}}areViewsDistributed(){let e,t;for(const i of this.viewItems)if(e=e===void 0?i.size:Math.min(e,i.size),t=t===void 0?i.size:Math.max(t,i.size),t-e>2)return!1;return!0}dispose(){var e;(e=this.sashDragState)==null||e.disposable.dispose(),Ct(this.viewItems),this.viewItems=[],this.sashItems.forEach(t=>t.disposable.dispose()),this.sashItems=[],super.dispose()}}const rr=class rr{constructor(e,t,i){this.columns=e,this.getColumnSize=i,this.templateId=rr.TemplateId,this.renderedTemplates=new Set;const n=new Map(t.map(o=>[o.templateId,o]));this.renderers=[];for(const o of e){const r=n.get(o.templateId);if(!r)throw new Error(`Table cell renderer for template id ${o.templateId} not found.`);this.renderers.push(r)}}renderTemplate(e){const t=Y(e,X(".monaco-table-tr")),i=[],n=[];for(let r=0;r<this.columns.length;r++){const l=this.renderers[r],a=Y(t,X(".monaco-table-td",{"data-col-index":r}));a.style.width=`${this.getColumnSize(r)}px`,i.push(a),n.push(l.renderTemplate(a))}const o={container:e,cellContainers:i,cellTemplateData:n};return this.renderedTemplates.add(o),o}renderElement(e,t,i,n){for(let o=0;o<this.columns.length;o++){const l=this.columns[o].project(e);this.renderers[o].renderElement(l,t,i.cellTemplateData[o],n)}}disposeElement(e,t,i,n){for(let o=0;o<this.columns.length;o++){const r=this.renderers[o];if(r.disposeElement){const a=this.columns[o].project(e);r.disposeElement(a,t,i.cellTemplateData[o],n)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++)this.renderers[t].disposeTemplate(e.cellTemplateData[t]);zt(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(const{cellContainers:i}of this.renderedTemplates)i[e].style.width=`${t}px`}};rr.TemplateId="row";let qo=rr;function ob(s){return{getHeight(e){return s.getHeight(e)},getTemplateId(){return qo.TemplateId}}}class rb extends Z{get minimumSize(){return this.column.minimumWidth??120}get maximumSize(){return this.column.maximumWidth??Number.POSITIVE_INFINITY}get onDidChange(){return this.column.onDidChangeWidthConstraints??P.None}constructor(e,t){super(),this.column=e,this.index=t,this._onDidLayout=new M,this.onDidLayout=this._onDidLayout.event,this.element=X(".monaco-table-th",{"data-col-index":t},e.label),e.tooltip&&this._register(ss().setupManagedHover(mt("mouse"),this.element,e.tooltip))}layout(e){this._onDidLayout.fire([this.index,e])}}const lr=class lr{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(e,t,i,n,o,r){this.virtualDelegate=i,this.columns=n,this.domId=`table_id_${++lr.InstanceCount}`,this.disposables=new J,this.cachedWidth=0,this.cachedHeight=0,this.domNode=Y(t,X(`.monaco-table.${this.domId}`));const l=n.map((d,u)=>this.disposables.add(new rb(d,u))),a={size:l.reduce((d,u)=>d+u.column.weight,0),views:l.map(d=>({size:d.column.weight,view:d}))};this.splitview=this.disposables.add(new nb(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:a})),this.splitview.el.style.height=`${i.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${i.headerRowHeight}px`;const h=new qo(n,o,d=>this.splitview.getViewSize(d));this.list=this.disposables.add(new is(e,this.domNode,ob(i),[h],r)),P.any(...l.map(d=>d.onDidLayout))(([d,u])=>h.layoutColumn(d,u),null,this.disposables),this.splitview.onDidSashReset(d=>{const u=n.reduce((g,y)=>g+y.weight,0),f=n[d].weight/u*this.cachedWidth;this.splitview.resizeView(d,f)},null,this.disposables),this.styleElement=gs(this.domNode),this.style(v2)}updateOptions(e){this.list.updateOptions(e)}splice(e,t,i=[]){this.list.splice(e,t,i)}getHTMLElement(){return this.domNode}style(e){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=t.join(`
`),this.list.style(e)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}};lr.InstanceCount=0;let zc=lr;var ct;(function(s){s[s.Expanded=0]="Expanded",s[s.Collapsed=1]="Collapsed",s[s.PreserveOrExpanded=2]="PreserveOrExpanded",s[s.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(ct||(ct={}));var ri;(function(s){s[s.Unknown=0]="Unknown",s[s.Twistie=1]="Twistie",s[s.Element=2]="Element",s[s.Filter=3]="Filter"})(ri||(ri={}));class ut extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}}class Ga{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}function Ya(s){return typeof s=="object"&&"visibility"in s&&"data"in s}function En(s){switch(s){case!0:return 1;case!1:return 0;default:return s}}function tl(s){return typeof s.collapsible=="boolean"}class lb{constructor(e,t,i,n={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new pa,this._onDidChangeCollapseState=new M,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new M,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new M,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new Ln(Rd),this.collapseByDefault=typeof n.collapseByDefault>"u"?!1:n.collapseByDefault,this.allowNonCollapsibleParents=n.allowNonCollapsibleParents??!1,this.filter=n.filter,this.autoExpandSingleChildren=typeof n.autoExpandSingleChildren>"u"?!1:n.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,i=pe.empty(),n={}){if(e.length===0)throw new ut(this.user,"Invalid tree location");n.diffIdentityProvider?this.spliceSmart(n.diffIdentityProvider,e,t,i,n):this.spliceSimple(e,t,i,n)}spliceSmart(e,t,i,n=pe.empty(),o,r=o.diffDepth??0){const{parentNode:l}=this.getParentNodeWithListIndex(t);if(!l.lastDiffIds)return this.spliceSimple(t,i,n,o);const a=[...n],h=t[t.length-1],d=new Ns({getElements:()=>l.lastDiffIds},{getElements:()=>[...l.children.slice(0,h),...a,...l.children.slice(h+i)].map(_=>e.getId(_.element).toString())}).ComputeDiff(!1);if(d.quitEarly)return l.lastDiffIds=void 0,this.spliceSimple(t,i,a,o);const u=t.slice(0,-1),f=(_,D,L)=>{if(r>0)for(let N=0;N<L;N++)_--,D--,this.spliceSmart(e,[...u,_,0],Number.MAX_SAFE_INTEGER,a[D].children,o,r-1)};let g=Math.min(l.children.length,h+i),y=a.length;for(const _ of d.changes.sort((D,L)=>L.originalStart-D.originalStart))f(g,y,g-(_.originalStart+_.originalLength)),g=_.originalStart,y=_.modifiedStart-h,this.spliceSimple([...u,g],_.originalLength,pe.slice(a,y,y+_.modifiedLength),o);f(g,y,g)}spliceSimple(e,t,i=pe.empty(),{onDidCreateNode:n,onDidDeleteNode:o,diffIdentityProvider:r}){const{parentNode:l,listIndex:a,revealed:h,visible:d}=this.getParentNodeWithListIndex(e),u=[],f=pe.map(i,E=>this.createTreeNode(E,l,l.visible?1:0,h,u,n)),g=e[e.length-1];let y=0;for(let E=g;E>=0&&E<l.children.length;E--){const I=l.children[E];if(I.visible){y=I.visibleChildIndex;break}}const _=[];let D=0,L=0;for(const E of f)_.push(E),L+=E.renderNodeCount,E.visible&&(E.visibleChildIndex=y+D++);const N=rh(l.children,g,t,_);r?l.lastDiffIds?rh(l.lastDiffIds,g,t,_.map(E=>r.getId(E.element).toString())):l.lastDiffIds=l.children.map(E=>r.getId(E.element).toString()):l.lastDiffIds=void 0;let K=0;for(const E of N)E.visible&&K++;if(K!==0)for(let E=g+_.length;E<l.children.length;E++){const I=l.children[E];I.visible&&(I.visibleChildIndex-=K)}if(l.visibleChildrenCount+=D-K,h&&d){const E=N.reduce((I,A)=>I+(A.visible?A.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(l,L-E),this.list.splice(a,E,u)}if(N.length>0&&o){const E=I=>{o(I),I.children.forEach(E)};N.forEach(E)}this._onDidSplice.fire({insertedNodes:_,deletedNodes:N});let T=l;for(;T;){if(T.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}T=T.parent}}rerender(e){if(e.length===0)throw new ut(this.user,"Invalid tree location");const{node:t,listIndex:i,revealed:n}=this.getTreeNodeWithListIndex(e);t.visible&&n&&this.list.splice(i,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){const{listIndex:t,visible:i,revealed:n}=this.getTreeNodeWithListIndex(e);return i&&n?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){const i=this.getTreeNode(e);typeof t>"u"&&(t=!i.collapsible);const n={collapsible:t};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,n))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){const n=this.getTreeNode(e);typeof t>"u"&&(t=!n.collapsed);const o={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,o))}_setCollapseState(e,t){const{node:i,listIndex:n,revealed:o}=this.getTreeNodeWithListIndex(e),r=this._setListNodeCollapseState(i,n,o,t);if(i!==this.root&&this.autoExpandSingleChildren&&r&&!tl(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let l=-1;for(let a=0;a<i.children.length;a++)if(i.children[a].visible)if(l>-1){l=-1;break}else l=a;l>-1&&this._setCollapseState([...e,l],t)}return r}_setListNodeCollapseState(e,t,i,n){const o=this._setNodeCollapseState(e,n,!1);if(!i||!e.visible||!o)return o;const r=e.renderNodeCount,l=this.updateNodeAfterCollapseChange(e),a=r-(t===-1?0:1);return this.list.splice(t+1,a,l.slice(1)),o}_setNodeCollapseState(e,t,i){let n;if(e===this.root?n=!1:(tl(t)?(n=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(n=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):n=!1,n&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!tl(t)&&t.recursive)for(const o of e.children)n=this._setNodeCollapseState(o,t,!0)||n;return n}expandTo(e){this.eventBufferer.bufferEvents(()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})})}refilter(){const e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t),this.refilterDelayer.cancel()}createTreeNode(e,t,i,n,o,r){const l={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof e.collapsible=="boolean"?e.collapsible:typeof e.collapsed<"u",collapsed:typeof e.collapsed>"u"?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},a=this._filterNode(l,i);l.visibility=a,n&&o.push(l);const h=e.children||pe.empty(),d=n&&a!==0&&!l.collapsed;let u=0,f=1;for(const g of h){const y=this.createTreeNode(g,l,a,d,o,r);l.children.push(y),f+=y.renderNodeCount,y.visible&&(y.visibleChildIndex=u++)}return this.allowNonCollapsibleParents||(l.collapsible=l.collapsible||l.children.length>0),l.visibleChildrenCount=u,l.visible=a===2?u>0:a===1,l.visible?l.collapsed||(l.renderNodeCount=f):(l.renderNodeCount=0,n&&o.pop()),r==null||r(l),l}updateNodeAfterCollapseChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(e.visible===!1)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(const i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i,n=!0){let o;if(e!==this.root){if(o=this._filterNode(e,t),o===0)return e.visible=!1,e.renderNodeCount=0,!1;n&&i.push(e)}const r=i.length;e.renderNodeCount=e===this.root?0:1;let l=!1;if(!e.collapsed||o!==0){let a=0;for(const h of e.children)l=this._updateNodeAfterFilterChange(h,o,i,n&&!e.collapsed)||l,h.visible&&(h.visibleChildIndex=a++);e.visibleChildrenCount=a}else e.visibleChildrenCount=0;return e!==this.root&&(e.visible=o===2?l:o===1,e.visibility=o),e.visible?e.collapsed||(e.renderNodeCount+=i.length-r):(e.renderNodeCount=0,n&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(t!==0)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){const i=this.filter?this.filter.filter(e.element,t):1;return typeof i=="boolean"?(e.filterData=void 0,i?1:0):Ya(i)?(e.filterData=i.data,En(i.visibility)):(e.filterData=void 0,En(i))}hasTreeNode(e,t=this.root){if(!e||e.length===0)return!0;const[i,...n]=e;return i<0||i>t.children.length?!1:this.hasTreeNode(n,t.children[i])}getTreeNode(e,t=this.root){if(!e||e.length===0)return t;const[i,...n]=e;if(i<0||i>t.children.length)throw new ut(this.user,"Invalid tree location");return this.getTreeNode(n,t.children[i])}getTreeNodeWithListIndex(e){if(e.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:t,listIndex:i,revealed:n,visible:o}=this.getParentNodeWithListIndex(e),r=e[e.length-1];if(r<0||r>t.children.length)throw new ut(this.user,"Invalid tree location");const l=t.children[r];return{node:l,listIndex:i,revealed:n,visible:o&&l.visible}}getParentNodeWithListIndex(e,t=this.root,i=0,n=!0,o=!0){const[r,...l]=e;if(r<0||r>t.children.length)throw new ut(this.user,"Invalid tree location");for(let a=0;a<r;a++)i+=t.children[a].renderNodeCount;return n=n&&!t.collapsed,o=o&&t.visible,l.length===0?{parentNode:t,listIndex:i,revealed:n,visible:o}:this.getParentNodeWithListIndex(l,t.children[r],i+1,n,o)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){const t=[];let i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){if(e.length!==0)return e.length===1?[]:gf(e)[0]}getFirstElementChild(e){const t=this.getTreeNode(e);if(t.children.length!==0)return t.children[0].element}}class ab extends Pn{constructor(e){super(e.elements.map(t=>t.element)),this.data=e}}function sl(s){return s instanceof Pn?new ab(s):s}class hb{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=Z.None,this.disposables=new J}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){var i,n;(n=(i=this.dnd).onDragStart)==null||n.call(i,sl(e),t)}onDragOver(e,t,i,n,o,r=!0){const l=this.dnd.onDragOver(sl(e),t&&t.element,i,n,o),a=this.autoExpandNode!==t;if(a&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),typeof t>"u")return l;if(a&&typeof l!="boolean"&&l.autoExpand&&(this.autoExpandDisposable=Cl(()=>{const g=this.modelProvider(),y=g.getNodeLocation(t);g.isCollapsed(y)&&g.setCollapsed(y,!1),this.autoExpandNode=void 0},500,this.disposables)),typeof l=="boolean"||!l.accept||typeof l.bubble>"u"||l.feedback){if(!r){const g=typeof l=="boolean"?l:l.accept,y=typeof l=="boolean"?void 0:l.effect;return{accept:g,effect:y,feedback:[i]}}return l}if(l.bubble===1){const g=this.modelProvider(),y=g.getNodeLocation(t),_=g.getParentNodeLocation(y),D=g.getNode(_),L=_&&g.getListIndex(_);return this.onDragOver(e,D,L,n,o,!1)}const h=this.modelProvider(),d=h.getNodeLocation(t),u=h.getListIndex(d),f=h.getListRenderCount(d);return{...l,feedback:Qe(u,u+f)}}drop(e,t,i,n,o){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(sl(e),t&&t.element,i,n,o)}onDragEnd(e){var t,i;(i=(t=this.dnd).onDragEnd)==null||i.call(t,e)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}function cb(s,e){return e&&{...e,identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new hb(s,e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent(t){return e.multipleSelectionController.isSelectionSingleChangeEvent({...t,element:t.element})},isSelectionRangeChangeEvent(t){return e.multipleSelectionController.isSelectionRangeChangeEvent({...t,element:t.element})}},accessibilityProvider:e.accessibilityProvider&&{...e.accessibilityProvider,getSetSize(t){const i=s(),n=i.getNodeLocation(t),o=i.getParentNodeLocation(n);return i.getNode(o).visibleChildrenCount},getPosInSet(t){return t.visibleChildIndex+1},isChecked:e.accessibilityProvider&&e.accessibilityProvider.isChecked?t=>e.accessibilityProvider.isChecked(t.element):void 0,getRole:e.accessibilityProvider&&e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",getAriaLabel(t){return e.accessibilityProvider.getAriaLabel(t.element)},getWidgetAriaLabel(){return e.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:e.accessibilityProvider&&e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider&&e.accessibilityProvider.getAriaLevel?t=>e.accessibilityProvider.getAriaLevel(t.element):t=>t.depth,getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{...e.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}}}}class ja{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){var i,n;(n=(i=this.delegate).setDynamicHeight)==null||n.call(i,e.element,t)}}var kn;(function(s){s.None="none",s.OnHover="onHover",s.Always="always"})(kn||(kn={}));class db{get elements(){return this._elements}constructor(e,t=[]){this._elements=t,this.disposables=new J,this.onDidChange=P.forEach(e,i=>this._elements=i,this.disposables)}dispose(){this.disposables.dispose()}}const fn=class fn{constructor(e,t,i,n,o,r={}){var l;this.renderer=e,this.modelProvider=t,this.activeNodes=n,this.renderedIndentGuides=o,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=fn.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=Z.None,this.disposables=new J,this.templateId=e.templateId,this.updateOptions(r),P.map(i,a=>a.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(l=e.onDidChangeTwistieState)==null||l.call(e,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(e={}){if(typeof e.indent<"u"){const t=vt(e.indent,0,40);if(t!==this.indent){this.indent=t;for(const[i,n]of this.renderedNodes)this.renderTreeElement(i,n)}}if(typeof e.renderIndentGuides<"u"){const t=e.renderIndentGuides!==kn.None;if(t!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=t;for(const[i,n]of this.renderedNodes)this._renderIndentGuides(i,n);if(this.indentGuidesDisposable.dispose(),t){const i=new J;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,i),this.indentGuidesDisposable=i,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof e.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){const t=Y(e,X(".monaco-tl-row")),i=Y(t,X(".monaco-tl-indent")),n=Y(t,X(".monaco-tl-twistie")),o=Y(t,X(".monaco-tl-contents")),r=this.renderer.renderTemplate(o);return{container:e,indent:i,twistie:n,indentGuidesDisposable:Z.None,templateData:r}}renderElement(e,t,i,n){this.renderedNodes.set(e,i),this.renderedElements.set(e.element,e),this.renderTreeElement(e,i),this.renderer.renderElement(e,t,i.templateData,n)}disposeElement(e,t,i,n){var o,r;i.indentGuidesDisposable.dispose(),(r=(o=this.renderer).disposeElement)==null||r.call(o,e,t,i.templateData,n),typeof n=="number"&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){const t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){const t=this.renderedNodes.get(e);t&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(e,t))}renderTreeElement(e,t){const i=fn.DefaultIndent+(e.depth-1)*this.indent;t.twistie.style.paddingLeft=`${i}px`,t.indent.style.width=`${i+this.indent-16}px`,e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded"),t.twistie.classList.remove(...We.asClassNameArray($e.treeItemExpanded));let n=!1;this.renderer.renderTwistie&&(n=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(n||t.twistie.classList.add(...We.asClassNameArray($e.treeItemExpanded)),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(e,t)}_renderIndentGuides(e,t){if(zt(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const i=new J,n=this.modelProvider();for(;;){const o=n.getNodeLocation(e),r=n.getParentNodeLocation(o);if(!r)break;const l=n.getNode(r),a=X(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(l)&&a.classList.add("active"),t.indent.childElementCount===0?t.indent.appendChild(a):t.indent.insertBefore(a,t.indent.firstElementChild),this.renderedIndentGuides.add(l,a),i.add(we(()=>this.renderedIndentGuides.delete(l,a))),e=l}t.indentGuidesDisposable=i}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;const t=new Set,i=this.modelProvider();e.forEach(n=>{const o=i.getNodeLocation(n);try{const r=i.getParentNodeLocation(o);n.collapsible&&n.children.length>0&&!n.collapsed?t.add(n):r&&t.add(i.getNode(r))}catch{}}),this.activeIndentNodes.forEach(n=>{t.has(n)||this.renderedIndentGuides.forEach(n,o=>o.classList.remove("active"))}),t.forEach(n=>{this.activeIndentNodes.has(n)||this.renderedIndentGuides.forEach(n,o=>o.classList.add("active"))}),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),Ct(this.disposables)}};fn.DefaultIndent=8;let sa=fn;class ub{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(e,t,i){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=i,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new J,e.onWillRefilter(this.reset,this,this.disposables)}filter(e,t){let i=1;if(this._filter){const r=this._filter.filter(e,t);if(typeof r=="boolean"?i=r?1:0:Ya(r)?i=En(r.visibility):i=r,i===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:Li.Default,visibility:i};const n=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),o=Array.isArray(n)?n:[n];for(const r of o){const l=r&&r.toString();if(typeof l>"u")return{data:Li.Default,visibility:i};let a;if(this.tree.findMatchType===Tn.Contiguous){const h=l.toLowerCase().indexOf(this._lowercasePattern);if(h>-1){a=[Number.MAX_SAFE_INTEGER,0];for(let d=this._lowercasePattern.length;d>0;d--)a.push(h+d-1)}}else a=Oi(this._pattern,this._lowercasePattern,0,l,l.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(a)return this._matchCount++,o.length===1?{data:a,visibility:i}:{data:{label:l,score:a},visibility:i}}return this.tree.findMode===Nn.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(e):2:{data:Li.Default,visibility:i}}reset(){this._totalCount=0,this._matchCount=0}dispose(){Ct(this.disposables)}}var Nn;(function(s){s[s.Highlight=0]="Highlight",s[s.Filter=1]="Filter"})(Nn||(Nn={}));var Tn;(function(s){s[s.Fuzzy=0]="Fuzzy",s[s.Contiguous=1]="Contiguous"})(Tn||(Tn={}));class fb{get pattern(){return this._pattern}get mode(){return this._mode}set mode(e){e!==this._mode&&(this._mode=e,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(e))}get matchType(){return this._matchType}set matchType(e){e!==this._matchType&&(this._matchType=e,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(e))}constructor(e,t,i,n,o,r={}){this.tree=e,this.view=i,this.filter=n,this.contextViewProvider=o,this.options=r,this._pattern="",this.width=0,this._onDidChangeMode=new M,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new M,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new M,this._onDidChangeOpenState=new M,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new J,this.disposables=new J,this._mode=e.options.defaultFindMode??Nn.Highlight,this._matchType=e.options.defaultFindMatchType??Tn.Fuzzy,t.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(e={}){e.defaultFindMode!==void 0&&(this.mode=e.defaultFindMode),e.defaultFindMatchType!==void 0&&(this.matchType=e.defaultFindMatchType)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var t,i,n;const e=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&e?(Cn(ie("replFindNoResults","No results")),this.tree.options.showNotFoundMessage??!0?(t=this.widget)==null||t.showMessage({type:2,content:ie("not found","No elements found.")}):(i=this.widget)==null||i.showMessage({type:2})):((n=this.widget)==null||n.clearMessage(),this.pattern&&Cn(ie("replFindResults","{0} results",this.filter.matchCount)))}shouldAllowFocus(e){return!this.widget||!this.pattern||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!Li.isDefault(e.filterData)}layout(e){var t;this.width=e,(t=this.widget)==null||t.layout(e)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function pb(s,e){return s.position===e.position&&tf(s,e)}function tf(s,e){return s.node.element===e.node.element&&s.startIndex===e.startIndex&&s.height===e.height&&s.endIndex===e.endIndex}class mb{constructor(e=[]){this.stickyNodes=e}get count(){return this.stickyNodes.length}equal(e){return Fs(this.stickyNodes,e.stickyNodes,pb)}lastNodePartiallyVisible(){if(this.count===0)return!1;const e=this.stickyNodes[this.count-1];if(this.count===1)return e.position!==0;const t=this.stickyNodes[this.count-2];return t.position+t.height!==e.position}animationStateChanged(e){if(!Fs(this.stickyNodes,e.stickyNodes,tf)||this.count===0)return!1;const t=this.stickyNodes[this.count-1],i=e.stickyNodes[e.count-1];return t.position!==i.position}}class gb{constrainStickyScrollNodes(e,t,i){for(let n=0;n<e.length;n++){const o=e[n];if(o.position+o.height>i||n>=t)return e.slice(0,n)}return e}}class Bc extends Z{constructor(e,t,i,n,o,r={}){super(),this.tree=e,this.model=t,this.view=i,this.treeDelegate=o,this.maxWidgetViewRatio=.4;const l=this.validateStickySettings(r);this.stickyScrollMaxItemCount=l.stickyScrollMaxItemCount,this.stickyScrollDelegate=r.stickyScrollDelegate??new gb,this._widget=this._register(new bb(i.getScrollableElement(),i,e,n,o,r.accessibilityProvider)),this.onDidChangeHasFocus=this._widget.onDidChangeHasFocus,this.onContextMenu=this._widget.onContextMenu,this._register(i.onDidScroll(()=>this.update())),this._register(i.onDidChangeContentHeight(()=>this.update())),this._register(e.onDidChangeCollapseState(()=>this.update())),this.update()}get height(){return this._widget.height}getNodeAtHeight(e){let t;if(e===0?t=this.view.firstVisibleIndex:t=this.view.indexAt(e+this.view.scrollTop),!(t<0||t>=this.view.length))return this.view.element(t)}update(){const e=this.getNodeAtHeight(0);if(!e||this.tree.scrollTop===0){this._widget.setState(void 0);return}const t=this.findStickyState(e);this._widget.setState(t)}findStickyState(e){const t=[];let i=e,n=0,o=this.getNextStickyNode(i,void 0,n);for(;o&&(t.push(o),n+=o.height,!(t.length<=this.stickyScrollMaxItemCount&&(i=this.getNextVisibleNode(o),!i)));)o=this.getNextStickyNode(i,o.node,n);const r=this.constrainStickyNodes(t);return r.length?new mb(r):void 0}getNextVisibleNode(e){return this.getNodeAtHeight(e.position+e.height)}getNextStickyNode(e,t,i){const n=this.getAncestorUnderPrevious(e,t);if(n&&!(n===e&&(!this.nodeIsUncollapsedParent(e)||this.nodeTopAlignsWithStickyNodesBottom(e,i))))return this.createStickyScrollNode(n,i)}nodeTopAlignsWithStickyNodesBottom(e,t){const i=this.getNodeIndex(e),n=this.view.getElementTop(i),o=t;return this.view.scrollTop===n-o}createStickyScrollNode(e,t){const i=this.treeDelegate.getHeight(e),{startIndex:n,endIndex:o}=this.getNodeRange(e),r=this.calculateStickyNodePosition(o,t,i);return{node:e,position:r,height:i,startIndex:n,endIndex:o}}getAncestorUnderPrevious(e,t=void 0){let i=e,n=this.getParentNode(i);for(;n;){if(n===t)return i;i=n,n=this.getParentNode(i)}if(t===void 0)return i}calculateStickyNodePosition(e,t,i){let n=this.view.getRelativeTop(e);if(n===null&&this.view.firstVisibleIndex===e&&e+1<this.view.length){const h=this.treeDelegate.getHeight(this.view.element(e)),d=this.view.getRelativeTop(e+1);n=d?d-h/this.view.renderHeight:null}if(n===null)return t;const o=this.view.element(e),r=this.treeDelegate.getHeight(o),a=n*this.view.renderHeight+r;return t+i>a&&t<=a?a-i:t}constrainStickyNodes(e){if(e.length===0)return[];const t=this.view.renderHeight*this.maxWidgetViewRatio,i=e[e.length-1];if(e.length<=this.stickyScrollMaxItemCount&&i.position+i.height<=t)return e;const n=this.stickyScrollDelegate.constrainStickyScrollNodes(e,this.stickyScrollMaxItemCount,t);if(!n.length)return[];const o=n[n.length-1];if(n.length>this.stickyScrollMaxItemCount||o.position+o.height>t)throw new Error("stickyScrollDelegate violates constraints");return n}getParentNode(e){const t=this.model.getNodeLocation(e),i=this.model.getParentNodeLocation(t);return i?this.model.getNode(i):void 0}nodeIsUncollapsedParent(e){const t=this.model.getNodeLocation(e);return this.model.getListRenderCount(t)>1}getNodeIndex(e){const t=this.model.getNodeLocation(e);return this.model.getListIndex(t)}getNodeRange(e){const t=this.model.getNodeLocation(e),i=this.model.getListIndex(t);if(i<0)throw new Error("Node not found in tree");const n=this.model.getListRenderCount(t),o=i+n-1;return{startIndex:i,endIndex:o}}nodePositionTopBelowWidget(e){const t=[];let i=this.getParentNode(e);for(;i;)t.push(i),i=this.getParentNode(i);let n=0;for(let o=0;o<t.length&&o<this.stickyScrollMaxItemCount;o++)n+=this.treeDelegate.getHeight(t[o]);return n}domFocus(){this._widget.domFocus()}focusedLast(){return this._widget.focusedLast()}updateOptions(e={}){if(!e.stickyScrollMaxItemCount)return;const t=this.validateStickySettings(e);this.stickyScrollMaxItemCount!==t.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=t.stickyScrollMaxItemCount,this.update())}validateStickySettings(e){let t=7;return typeof e.stickyScrollMaxItemCount=="number"&&(t=Math.max(e.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:t}}}class bb{constructor(e,t,i,n,o,r){this.view=t,this.tree=i,this.treeRenderers=n,this.treeDelegate=o,this.accessibilityProvider=r,this._previousElements=[],this._previousStateDisposables=new J,this._rootDomNode=X(".monaco-tree-sticky-container.empty"),e.appendChild(this._rootDomNode);const l=X(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(l),this.stickyScrollFocus=new _b(this._rootDomNode,t),this.onDidChangeHasFocus=this.stickyScrollFocus.onDidChangeHasFocus,this.onContextMenu=this.stickyScrollFocus.onContextMenu}get height(){if(!this._previousState)return 0;const e=this._previousState.stickyNodes[this._previousState.count-1];return e.position+e.height}setState(e){const t=!!this._previousState&&this._previousState.count>0,i=!!e&&e.count>0;if(!t&&!i||t&&i&&this._previousState.equal(e))return;if(t!==i&&this.setVisible(i),!i){this._previousState=void 0,this._previousElements=[],this._previousStateDisposables.clear();return}const n=e.stickyNodes[e.count-1];if(this._previousState&&e.animationStateChanged(this._previousState))this._previousElements[this._previousState.count-1].style.top=`${n.position}px`;else{this._previousStateDisposables.clear();const o=Array(e.count);for(let r=e.count-1;r>=0;r--){const l=e.stickyNodes[r],{element:a,disposable:h}=this.createElement(l,r,e.count);o[r]=a,this._rootDomNode.appendChild(a),this._previousStateDisposables.add(h)}this.stickyScrollFocus.updateElements(o,e),this._previousElements=o}this._previousState=e,this._rootDomNode.style.height=`${n.position+n.height}px`}createElement(e,t,i){const n=e.startIndex,o=document.createElement("div");o.style.top=`${e.position}px`,this.tree.options.setRowHeight!==!1&&(o.style.height=`${e.height}px`),this.tree.options.setRowLineHeight!==!1&&(o.style.lineHeight=`${e.height}px`),o.classList.add("monaco-tree-sticky-row"),o.classList.add("monaco-list-row"),o.setAttribute("data-index",`${n}`),o.setAttribute("data-parity",n%2===0?"even":"odd"),o.setAttribute("id",this.view.getElementID(n));const r=this.setAccessibilityAttributes(o,e.node.element,t,i),l=this.treeDelegate.getTemplateId(e.node),a=this.treeRenderers.find(f=>f.templateId===l);if(!a)throw new Error(`No renderer found for template id ${l}`);let h=e.node;h===this.tree.getNode(this.tree.getNodeLocation(e.node))&&(h=new Proxy(e.node,{}));const d=a.renderTemplate(o);a.renderElement(h,e.startIndex,d,e.height);const u=we(()=>{r.dispose(),a.disposeElement(h,e.startIndex,d,e.height),a.disposeTemplate(d),o.remove()});return{element:o,disposable:u}}setAccessibilityAttributes(e,t,i,n){if(!this.accessibilityProvider)return Z.None;this.accessibilityProvider.getSetSize&&e.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(t,i,n))),this.accessibilityProvider.getPosInSet&&e.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(t,i))),this.accessibilityProvider.getRole&&e.setAttribute("role",this.accessibilityProvider.getRole(t)??"treeitem");const o=this.accessibilityProvider.getAriaLabel(t),r=o&&typeof o!="string"?o:Ku(o),l=Fi(h=>{const d=h.readObservable(r);d?e.setAttribute("aria-label",d):e.removeAttribute("aria-label")});typeof o=="string"||o&&e.setAttribute("aria-label",o.get());const a=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(t);return typeof a=="number"&&e.setAttribute("aria-level",`${a}`),e.setAttribute("aria-selected",String(!1)),l}setVisible(e){this._rootDomNode.classList.toggle("empty",!e),e||this.stickyScrollFocus.updateElements([],void 0)}domFocus(){this.stickyScrollFocus.domFocus()}focusedLast(){return this.stickyScrollFocus.focusedLast()}dispose(){this.stickyScrollFocus.dispose(),this._previousStateDisposables.dispose(),this._rootDomNode.remove()}}class _b extends Z{get domHasFocus(){return this._domHasFocus}set domHasFocus(e){e!==this._domHasFocus&&(this._onDidChangeHasFocus.fire(e),this._domHasFocus=e)}constructor(e,t){super(),this.container=e,this.view=t,this.focusedIndex=-1,this.elements=[],this._onDidChangeHasFocus=new M,this.onDidChangeHasFocus=this._onDidChangeHasFocus.event,this._onContextMenu=new M,this.onContextMenu=this._onContextMenu.event,this._domHasFocus=!1,this._register(R(this.container,"focus",()=>this.onFocus())),this._register(R(this.container,"blur",()=>this.onBlur())),this._register(this.view.onDidFocus(()=>this.toggleStickyScrollFocused(!1))),this._register(this.view.onKeyDown(i=>this.onKeyDown(i))),this._register(this.view.onMouseDown(i=>this.onMouseDown(i))),this._register(this.view.onContextMenu(i=>this.handleContextMenu(i)))}handleContextMenu(e){const t=e.browserEvent.target;if(!Dn(t)&&!an(t)){this.focusedLast()&&this.view.domFocus();return}if(!ei(e.browserEvent)){if(!this.state)throw new Error("Context menu should not be triggered when state is undefined");const r=this.state.stickyNodes.findIndex(l=>{var a;return l.node.element===((a=e.element)==null?void 0:a.element)});if(r===-1)throw new Error("Context menu should not be triggered when element is not in sticky scroll widget");this.container.focus(),this.setFocus(r);return}if(!this.state||this.focusedIndex<0)throw new Error("Context menu key should not be triggered when focus is not in sticky scroll widget");const n=this.state.stickyNodes[this.focusedIndex].node.element,o=this.elements[this.focusedIndex];this._onContextMenu.fire({element:n,anchor:o,browserEvent:e.browserEvent,isStickyScroll:!0})}onKeyDown(e){if(this.domHasFocus&&this.state){if(e.key==="ArrowUp")this.setFocusedElement(Math.max(0,this.focusedIndex-1)),e.preventDefault(),e.stopPropagation();else if(e.key==="ArrowDown"||e.key==="ArrowRight"){if(this.focusedIndex>=this.state.count-1){const t=this.state.stickyNodes[this.state.count-1].startIndex+1;this.view.domFocus(),this.view.setFocus([t]),this.scrollNodeUnderWidget(t,this.state)}else this.setFocusedElement(this.focusedIndex+1);e.preventDefault(),e.stopPropagation()}}}onMouseDown(e){const t=e.browserEvent.target;!Dn(t)&&!an(t)||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation())}updateElements(e,t){if(t&&t.count===0)throw new Error("Sticky scroll state must be undefined when there are no sticky nodes");if(t&&t.count!==e.length)throw new Error("Sticky scroll focus received illigel state");const i=this.focusedIndex;if(this.removeFocus(),this.elements=e,this.state=t,t){const n=vt(i,0,t.count-1);this.setFocus(n)}else this.domHasFocus&&this.view.domFocus();this.container.tabIndex=t?0:-1}setFocusedElement(e){const t=this.state;if(!t)throw new Error("Cannot set focus when state is undefined");if(this.setFocus(e),!(e<t.count-1)&&t.lastNodePartiallyVisible()){const i=t.stickyNodes[e];this.scrollNodeUnderWidget(i.endIndex+1,t)}}scrollNodeUnderWidget(e,t){const i=t.stickyNodes[t.count-1],n=t.count>1?t.stickyNodes[t.count-2]:void 0,o=this.view.getElementTop(e),r=n?n.position+n.height+i.height:i.height;this.view.scrollTop=o-r}domFocus(){if(!this.state)throw new Error("Cannot focus when state is undefined");this.container.focus()}focusedLast(){return this.state?this.view.getHTMLElement().classList.contains("sticky-scroll-focused"):!1}removeFocus(){this.focusedIndex!==-1&&(this.toggleElementFocus(this.elements[this.focusedIndex],!1),this.focusedIndex=-1)}setFocus(e){if(0>e)throw new Error("addFocus() can not remove focus");if(!this.state&&e>=0)throw new Error("Cannot set focus index when state is undefined");if(this.state&&e>=this.state.count)throw new Error("Cannot set focus index to an index that does not exist");const t=this.focusedIndex;t>=0&&this.toggleElementFocus(this.elements[t],!1),e>=0&&this.toggleElementFocus(this.elements[e],!0),this.focusedIndex=e}toggleElementFocus(e,t){this.toggleElementActiveFocus(e,t&&this.domHasFocus),this.toggleElementPassiveFocus(e,t)}toggleCurrentElementActiveFocus(e){this.focusedIndex!==-1&&this.toggleElementActiveFocus(this.elements[this.focusedIndex],e)}toggleElementActiveFocus(e,t){e.classList.toggle("focused",t)}toggleElementPassiveFocus(e,t){e.classList.toggle("passive-focused",t)}toggleStickyScrollFocused(e){this.view.getHTMLElement().classList.toggle("sticky-scroll-focused",e)}onFocus(){if(!this.state||this.elements.length===0)throw new Error("Cannot focus when state is undefined or elements are empty");this.domHasFocus=!0,this.toggleStickyScrollFocused(!0),this.toggleCurrentElementActiveFocus(!0),this.focusedIndex===-1&&this.setFocus(0)}onBlur(){this.domHasFocus=!1,this.toggleCurrentElementActiveFocus(!1)}dispose(){this.toggleStickyScrollFocused(!1),this._onDidChangeHasFocus.fire(!1),super.dispose()}}function Jn(s){let e=ri.Unknown;return zr(s.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?e=ri.Twistie:zr(s.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?e=ri.Element:zr(s.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(e=ri.Filter),{browserEvent:s.browserEvent,element:s.element?s.element.element:null,target:e}}function wb(s){const e=Dn(s.browserEvent.target);return{element:s.element?s.element.element:null,browserEvent:s.browserEvent,anchor:s.anchor,isStickyScroll:e}}function bo(s,e){e(s),s.children.forEach(t=>bo(t,e))}class il{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(e,t){this.getFirstViewElementWithTrait=e,this.identityProvider=t,this.nodes=[],this._onDidChange=new M,this.onDidChange=this._onDidChange.event}set(e,t){!(t!=null&&t.__forceEvent)&&Fs(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){const n=this;this._onDidChange.fire({get elements(){return n.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map(e=>e.element)),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){const a=this.createNodeSet(),h=d=>a.delete(d);t.forEach(d=>bo(d,h)),this.set([...a.values()]);return}const i=new Set,n=a=>i.add(this.identityProvider.getId(a.element).toString());t.forEach(a=>bo(a,n));const o=new Map,r=a=>o.set(this.identityProvider.getId(a.element).toString(),a);e.forEach(a=>bo(a,r));const l=[];for(const a of this.nodes){const h=this.identityProvider.getId(a.element).toString();if(!i.has(h))l.push(a);else{const u=o.get(h);u&&u.visible&&l.push(u)}}if(this.nodes.length>0&&l.length===0){const a=this.getFirstViewElementWithTrait();a&&l.push(a)}this._set(l,!0)}createNodeSet(){const e=new Set;for(const t of this.nodes)e.add(t);return e}}class yb extends Yu{constructor(e,t,i){super(e),this.tree=t,this.stickyScrollProvider=i}onViewPointer(e){if(qu(e.browserEvent.target)||Os(e.browserEvent.target)||nn(e.browserEvent.target)||e.browserEvent.isHandledByList)return;const t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const i=e.browserEvent.target,n=i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&e.browserEvent.offsetX<16,o=an(e.browserEvent.target);let r=!1;if(o?r=!0:typeof this.tree.expandOnlyOnTwistieClick=="function"?r=this.tree.expandOnlyOnTwistieClick(t.element):r=!!this.tree.expandOnlyOnTwistieClick,o)this.handleStickyScrollMouseEvent(e,t);else{if(r&&!n&&e.browserEvent.detail!==2)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&e.browserEvent.detail===2)return super.onViewPointer(e)}if(t.collapsible&&(!o||n)){const l=this.tree.getNodeLocation(t),a=e.browserEvent.altKey;if(this.tree.setFocus([l]),this.tree.toggleCollapsed(l,a),n){e.browserEvent.isHandledByList=!0;return}}o||super.onViewPointer(e)}handleStickyScrollMouseEvent(e,t){if(u2(e.browserEvent.target)||f2(e.browserEvent.target))return;const i=this.stickyScrollProvider();if(!i)throw new Error("Sticky scroll controller not found");const n=this.list.indexOf(t),o=this.list.getElementTop(n),r=i.nodePositionTopBelowWidget(t);this.tree.scrollTop=o-r,this.list.domFocus(),this.list.setFocus([n]),this.list.setSelection([n])}onDoubleClick(e){e.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||e.browserEvent.isHandledByList||super.onDoubleClick(e)}onMouseDown(e){const t=e.browserEvent.target;if(!Dn(t)&&!an(t)){super.onMouseDown(e);return}}onContextMenu(e){const t=e.browserEvent.target;if(!Dn(t)&&!an(t)){super.onContextMenu(e);return}}}class vb extends is{constructor(e,t,i,n,o,r,l,a){super(e,t,i,n,a),this.focusTrait=o,this.selectionTrait=r,this.anchorTrait=l}createMouseController(e){return new yb(this,e.tree,e.stickyScrollProvider)}splice(e,t,i=[]){if(super.splice(e,t,i),i.length===0)return;const n=[],o=[];let r;i.forEach((l,a)=>{this.focusTrait.has(l)&&n.push(e+a),this.selectionTrait.has(l)&&o.push(e+a),this.anchorTrait.has(l)&&(r=e+a)}),n.length>0&&super.setFocus(vo([...super.getFocus(),...n])),o.length>0&&super.setSelection(vo([...super.getSelection(),...o])),typeof r=="number"&&super.setAnchor(r)}setFocus(e,t,i=!1){super.setFocus(e,t),i||this.focusTrait.set(e.map(n=>this.element(n)),t)}setSelection(e,t,i=!1){super.setSelection(e,t),i||this.selectionTrait.set(e.map(n=>this.element(n)),t)}setAnchor(e,t=!1){super.setAnchor(e),t||(typeof e>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}class sf{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return P.filter(P.map(this.view.onMouseDblClick,Jn),e=>e.target!==ri.Filter)}get onMouseOver(){return P.map(this.view.onMouseOver,Jn)}get onMouseOut(){return P.map(this.view.onMouseOut,Jn)}get onContextMenu(){var e;return P.any(P.filter(P.map(this.view.onContextMenu,wb),t=>!t.isStickyScroll),((e=this.stickyScrollController)==null?void 0:e.onContextMenu)??P.None)}get onPointer(){return P.map(this.view.onPointer,Jn)}get onKeyDown(){return this.view.onKeyDown}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return P.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var e;return((e=this.findController)==null?void 0:e.mode)??Nn.Highlight}set findMode(e){this.findController&&(this.findController.mode=e)}get findMatchType(){var e;return((e=this.findController)==null?void 0:e.matchType)??Tn.Fuzzy}set findMatchType(e){this.findController&&(this.findController.matchType=e)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(e,t,i,n,o={}){this._user=e,this._options=o,this.eventBufferer=new pa,this.onDidChangeFindOpenState=P.None,this.onDidChangeStickyScrollFocused=P.None,this.disposables=new J,this._onWillRefilter=new M,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new M,this.treeDelegate=new ja(i);const r=new fh,l=new fh,a=this.disposables.add(new db(l.event)),h=new Cm;this.renderers=n.map(y=>new sa(y,()=>this.model,r.event,a,h,o));for(const y of this.renderers)this.disposables.add(y);let d;o.keyboardNavigationLabelProvider&&(d=new ub(this,o.keyboardNavigationLabelProvider,o.filter),o={...o,filter:d},this.disposables.add(d)),this.focus=new il(()=>this.view.getFocusedElements()[0],o.identityProvider),this.selection=new il(()=>this.view.getSelectedElements()[0],o.identityProvider),this.anchor=new il(()=>this.view.getAnchorElement(),o.identityProvider),this.view=new vb(e,t,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,{...cb(()=>this.model,o),tree:this,stickyScrollProvider:()=>this.stickyScrollController}),this.model=this.createModel(e,this.view,o),r.input=this.model.onDidChangeCollapseState;const u=P.forEach(this.model.onDidSplice,y=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(y),this.selection.onDidModelSplice(y)})},this.disposables);u(()=>null,null,this.disposables);const f=this.disposables.add(new M),g=this.disposables.add(new Ln(0));if(this.disposables.add(P.any(u,this.focus.onDidChange,this.selection.onDidChange)(()=>{g.trigger(()=>{const y=new Set;for(const _ of this.focus.getNodes())y.add(_);for(const _ of this.selection.getNodes())y.add(_);f.fire([...y.values()])})})),l.input=f.event,o.keyboardSupport!==!1){const y=P.chain(this.view.onKeyDown,_=>_.filter(D=>!Os(D.target)).map(D=>new Re(D)));P.chain(y,_=>_.filter(D=>D.keyCode===15))(this.onLeftArrow,this,this.disposables),P.chain(y,_=>_.filter(D=>D.keyCode===17))(this.onRightArrow,this,this.disposables),P.chain(y,_=>_.filter(D=>D.keyCode===10))(this.onSpace,this,this.disposables)}if((o.findWidgetEnabled??!0)&&o.keyboardNavigationLabelProvider&&o.contextViewProvider){const y=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new fb(this,this.model,this.view,d,o.contextViewProvider,y),this.focusNavigationFilter=_=>this.findController.shouldAllowFocus(_),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=P.None,this.onDidChangeFindMatchType=P.None;o.enableStickyScroll&&(this.stickyScrollController=new Bc(this,this.model,this.view,this.renderers,this.treeDelegate,o),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus),this.styleElement=gs(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===kn.Always)}updateOptions(e={}){var t;this._options={...this._options,...e};for(const i of this.renderers)i.updateOptions(e);this.view.updateOptions(this._options),(t=this.findController)==null||t.updateOptions(e),this.updateStickyScroll(e),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===kn.Always)}get options(){return this._options}updateStickyScroll(e){var t;!this.stickyScrollController&&this._options.enableStickyScroll?(this.stickyScrollController=new Bc(this,this.model,this.view,this.renderers,this.treeDelegate,this._options),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.onDidChangeStickyScrollFocused=P.None,this.stickyScrollController.dispose(),this.stickyScrollController=void 0),(t=this.stickyScrollController)==null||t.updateOptions(e)}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get ariaLabel(){return this.view.ariaLabel}set ariaLabel(e){this.view.ariaLabel=e}domFocus(){var e;(e=this.stickyScrollController)!=null&&e.focusedLast()?this.stickyScrollController.domFocus():this.view.domFocus()}layout(e,t){var i;this.view.layout(e,t),ra(t)&&((i=this.findController)==null||i.layout(t))}style(e){const t=`.${this.view.domId}`,i=[];e.treeIndentGuidesStroke&&(i.push(`.monaco-list${t}:hover .monaco-tl-indent > .indent-guide, .monaco-list${t}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeInactiveIndentGuidesStroke}; }`),i.push(`.monaco-list${t} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`));const n=e.treeStickyScrollBackground??e.listBackground;n&&(i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${n}; }`),i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${n}; }`)),e.treeStickyScrollBorder&&i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container { border-bottom: 1px solid ${e.treeStickyScrollBorder}; }`),e.treeStickyScrollShadow&&i.push(`.monaco-list${t} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-container-shadow { box-shadow: ${e.treeStickyScrollShadow} 0 6px 6px -6px inset; height: 3px; }`),e.listFocusForeground&&(i.push(`.monaco-list${t}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),i.push(`.monaco-list${t}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { color: inherit; }`));const o=ms(e.listFocusAndSelectionOutline,ms(e.listSelectionOutline,e.listFocusOutline??""));o&&(i.push(`.monaco-list${t}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused.selected { outline: 1px solid ${o}; outline-offset: -1px;}`),i.push(`.monaco-list${t}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused.selected { outline: inherit;}`)),e.listFocusOutline&&(i.push(`.monaco-list${t}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }`),i.push(`.monaco-list${t}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { outline: inherit; }`),i.push(`.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.passive-focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }`),i.push(`.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused.sticky-scroll-focused .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`),i.push(`.monaco-workbench.context-menu-visible .monaco-list${t}.last-focused:not(.sticky-scroll-focused) .monaco-tree-sticky-container .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`)),this.styleElement.textContent=i.join(`
`),this.view.style(e)}getParentElement(e){const t=this.model.getParentNodeLocation(e);return this.model.getNode(t).element}getFirstElementChild(e){return this.model.getFirstElementChild(e)}getNode(e){return this.model.getNode(e)}getNodeLocation(e){return this.model.getNodeLocation(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}toggleCollapsed(e,t=!1){return this.model.setCollapsed(e,void 0,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){this.eventBufferer.bufferEvents(()=>{const i=e.map(o=>this.model.getNode(o));this.selection.set(i,t);const n=e.map(o=>this.model.getListIndex(o)).filter(o=>o>-1);this.view.setSelection(n,t,!0)})}getSelection(){return this.selection.get()}setFocus(e,t){this.eventBufferer.bufferEvents(()=>{const i=e.map(o=>this.model.getNode(o));this.focus.set(i,t);const n=e.map(o=>this.model.getListIndex(o)).filter(o=>o>-1);this.view.setFocus(n,t,!0)})}focusNext(e=1,t=!1,i,n=ei(i)&&i.altKey?void 0:this.focusNavigationFilter){this.view.focusNext(e,t,i,n)}focusPrevious(e=1,t=!1,i,n=ei(i)&&i.altKey?void 0:this.focusNavigationFilter){this.view.focusPrevious(e,t,i,n)}focusNextPage(e,t=ei(e)&&e.altKey?void 0:this.focusNavigationFilter){return this.view.focusNextPage(e,t)}focusPreviousPage(e,t=ei(e)&&e.altKey?void 0:this.focusNavigationFilter){return this.view.focusPreviousPage(e,t,()=>{var i;return((i=this.stickyScrollController)==null?void 0:i.height)??0})}focusLast(e,t=ei(e)&&e.altKey?void 0:this.focusNavigationFilter){this.view.focusLast(e,t)}focusFirst(e,t=ei(e)&&e.altKey?void 0:this.focusNavigationFilter){this.view.focusFirst(e,t)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);const i=this.model.getListIndex(e);if(i!==-1)if(!this.stickyScrollController)this.view.reveal(i,t);else{const n=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(e));this.view.reveal(i,t,n)}}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!0)){const r=this.model.getParentNodeLocation(n);if(!r)return;const l=this.model.getListIndex(r);this.view.reveal(l),this.view.setFocus([l])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!1)){if(!i.children.some(a=>a.visible))return;const[r]=this.view.getFocus(),l=r+1;this.view.reveal(l),this.view.setFocus([l])}}onSpace(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],n=this.model.getNodeLocation(i),o=e.browserEvent.altKey;this.model.setCollapsed(n,void 0,o)}dispose(){var e;Ct(this.disposables),(e=this.stickyScrollController)==null||e.dispose(),this.view.dispose()}}class Xa{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new lb(e,t,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare(n,o){return i.sorter.compare(n.element,o.element)}}),this.identityProvider=i.identityProvider}setChildren(e,t=pe.empty(),i={}){const n=this.getElementLocation(e);this._setChildren(n,this.preserveCollapseState(t),i)}_setChildren(e,t=pe.empty(),i){const n=new Set,o=new Set,r=a=>{var d;if(a.element===null)return;const h=a;if(n.add(h.element),this.nodes.set(h.element,h),this.identityProvider){const u=this.identityProvider.getId(h.element).toString();o.add(u),this.nodesByIdentity.set(u,h)}(d=i.onDidCreateNode)==null||d.call(i,h)},l=a=>{var d;if(a.element===null)return;const h=a;if(n.has(h.element)||this.nodes.delete(h.element),this.identityProvider){const u=this.identityProvider.getId(h.element).toString();o.has(u)||this.nodesByIdentity.delete(u)}(d=i.onDidDeleteNode)==null||d.call(i,h)};this.model.splice([...e,0],Number.MAX_VALUE,t,{...i,onDidCreateNode:r,onDidDeleteNode:l})}preserveCollapseState(e=pe.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),pe.map(e,t=>{let i=this.nodes.get(t.element);if(!i&&this.identityProvider){const r=this.identityProvider.getId(t.element).toString();i=this.nodesByIdentity.get(r)}if(!i){let r;return typeof t.collapsed>"u"?r=void 0:t.collapsed===ct.Collapsed||t.collapsed===ct.PreserveOrCollapsed?r=!0:t.collapsed===ct.Expanded||t.collapsed===ct.PreserveOrExpanded?r=!1:r=!!t.collapsed,{...t,children:this.preserveCollapseState(t.children),collapsed:r}}const n=typeof t.collapsible=="boolean"?t.collapsible:i.collapsible;let o;return typeof t.collapsed>"u"||t.collapsed===ct.PreserveOrCollapsed||t.collapsed===ct.PreserveOrExpanded?o=i.collapsed:t.collapsed===ct.Collapsed?o=!0:t.collapsed===ct.Expanded?o=!1:o=!!t.collapsed,{...t,collapsible:n,collapsed:o,children:this.preserveCollapseState(t.children)}})}rerender(e){const t=this.getElementLocation(e);this.model.rerender(t)}getFirstElementChild(e=null){const t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){const t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const n=this.getElementLocation(e);return this.model.setCollapsed(n,t,i)}expandTo(e){const t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(e===null)return this.model.getNode(this.model.rootRef);const t=this.nodes.get(e);if(!t)throw new ut(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(e===null)throw new ut(this.user,"Invalid getParentNodeLocation call");const t=this.nodes.get(e);if(!t)throw new ut(this.user,`Tree element not found: ${e}`);const i=this.model.getNodeLocation(t),n=this.model.getParentNodeLocation(i);return this.model.getNode(n).element}getElementLocation(e){if(e===null)return[];const t=this.nodes.get(e);if(!t)throw new ut(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}}function _o(s){const e=[s.element],t=s.incompressible||!1;return{element:{elements:e,incompressible:t},children:pe.map(pe.from(s.children),_o),collapsible:s.collapsible,collapsed:s.collapsed}}function wo(s){const e=[s.element],t=s.incompressible||!1;let i,n;for(;[n,i]=pe.consume(pe.from(s.children),2),!(n.length!==1||n[0].incompressible);)s=n[0],e.push(s.element);return{element:{elements:e,incompressible:t},children:pe.map(pe.concat(n,i),wo),collapsible:s.collapsible,collapsed:s.collapsed}}function ia(s,e=0){let t;return e<s.element.elements.length-1?t=[ia(s,e+1)]:t=pe.map(pe.from(s.children),i=>ia(i,0)),e===0&&s.element.incompressible?{element:s.element.elements[e],children:t,incompressible:!0,collapsible:s.collapsible,collapsed:s.collapsed}:{element:s.element.elements[e],children:t,collapsible:s.collapsible,collapsed:s.collapsed}}function Hc(s){return ia(s,0)}function nf(s,e,t){return s.element===e?{...s,children:t}:{...s,children:pe.map(pe.from(s.children),i=>nf(i,e,t))}}const Sb=s=>({getId(e){return e.elements.map(t=>s.getId(t).toString()).join("\0")}});class Cb{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new Xa(e,t,i),this.enabled=typeof i.compressionEnabled>"u"?!0:i.compressionEnabled,this.identityProvider=i.identityProvider}setChildren(e,t=pe.empty(),i){const n=i.diffIdentityProvider&&Sb(i.diffIdentityProvider);if(e===null){const y=pe.map(t,this.enabled?wo:_o);this._setChildren(null,y,{diffIdentityProvider:n,diffDepth:1/0});return}const o=this.nodes.get(e);if(!o)throw new ut(this.user,"Unknown compressed tree node");const r=this.model.getNode(o),l=this.model.getParentNodeLocation(o),a=this.model.getNode(l),h=Hc(r),d=nf(h,e,t),u=(this.enabled?wo:_o)(d),f=i.diffIdentityProvider?(y,_)=>i.diffIdentityProvider.getId(y)===i.diffIdentityProvider.getId(_):void 0;if(Fs(u.element.elements,r.element.elements,f)){this._setChildren(o,u.children||pe.empty(),{diffIdentityProvider:n,diffDepth:1});return}const g=a.children.map(y=>y===r?u:y);this._setChildren(a.element,g,{diffIdentityProvider:n,diffDepth:r.depth-a.depth})}isCompressionEnabled(){return this.enabled}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;const i=this.model.getNode().children,n=pe.map(i,Hc),o=pe.map(n,e?wo:_o);this._setChildren(null,o,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,i){const n=new Set,o=l=>{for(const a of l.element.elements)n.add(a),this.nodes.set(a,l.element)},r=l=>{for(const a of l.element.elements)n.has(a)||this.nodes.delete(a)};this.model.setChildren(e,t,{...i,onDidCreateNode:o,onDidDeleteNode:r})}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(typeof e>"u")return this.model.getNode();const t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){const t=this.model.getNodeLocation(e);return t===null?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){const t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return i===null?null:i.elements[i.elements.length-1]}getFirstElementChild(e){const t=this.getCompressedNode(e);return this.model.getFirstElementChild(t)}isCollapsible(e){const t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const n=this.getCompressedNode(e);return this.model.setCollapsed(n,t,i)}expandTo(e){const t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){const t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(e===null)return null;const t=this.nodes.get(e);if(!t)throw new ut(this.user,`Tree element not found: ${e}`);return t}}const xb=s=>s[s.length-1];class Za{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(e=>new Za(this.unwrapper,e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e,t){this.unwrapper=e,this.node=t}}function Db(s,e){return{splice(t,i,n){e.splice(t,i,n.map(o=>s.map(o)))},updateElementHeight(t,i){e.updateElementHeight(t,i)}}}function Eb(s,e){return{...e,identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(s(t))}},sorter:e.sorter&&{compare(t,i){return e.sorter.compare(t.elements[0],i.elements[0])}},filter:e.filter&&{filter(t,i){return e.filter.filter(s(t),i)}}}}class kb{get onDidSplice(){return P.map(this.model.onDidSplice,({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map(i=>this.nodeMapper.map(i)),deletedNodes:t.map(i=>this.nodeMapper.map(i))}))}get onDidChangeCollapseState(){return P.map(this.model.onDidChangeCollapseState,({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t}))}get onDidChangeRenderNodeCount(){return P.map(this.model.onDidChangeRenderNodeCount,e=>this.nodeMapper.map(e))}constructor(e,t,i={}){this.rootRef=null,this.elementMapper=i.elementMapper||xb;const n=o=>this.elementMapper(o.elements);this.nodeMapper=new Ga(o=>new Za(n,o)),this.model=new Cb(e,Db(this.nodeMapper,t),Eb(n,i))}setChildren(e,t=pe.empty(),i={}){this.model.setChildren(e,t,i)}isCompressionEnabled(){return this.model.isCompressionEnabled()}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}getFirstElementChild(e){const t=this.model.getFirstElementChild(e);return t===null||typeof t>"u"?t:this.elementMapper(t.elements)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}}var Nb=function(s,e,t,i){var n=arguments.length,o=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(s,e,t,i);else for(var l=s.length-1;l>=0;l--)(r=s[l])&&(o=(n<3?r(o):n>3?r(e,t,o):r(e,t))||o);return n>3&&o&&Object.defineProperty(e,t,o),o};class of extends sf{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(e,t,i,n,o={}){super(e,t,i,n,o),this.user=e}setChildren(e,t=pe.empty(),i){this.model.setChildren(e,t,i)}rerender(e){if(e===void 0){this.view.rerender();return}this.model.rerender(e)}hasElement(e){return this.model.has(e)}createModel(e,t,i){return new Xa(e,t,i)}}class rf{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(e,t,i){this._compressedTreeNodeProvider=e,this.stickyScrollDelegate=t,this.renderer=i,this.templateId=i.templateId,i.onDidChangeTwistieState&&(this.onDidChangeTwistieState=i.onDidChangeTwistieState)}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){let o=this.stickyScrollDelegate.getCompressedNode(e);o||(o=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element)),o.element.elements.length===1?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,n)):(i.compressedTreeNode=o,this.renderer.renderCompressedElements(o,t,i.data,n))}disposeElement(e,t,i,n){var o,r,l,a;i.compressedTreeNode?(r=(o=this.renderer).disposeCompressedElements)==null||r.call(o,i.compressedTreeNode,t,i.data,n):(a=(l=this.renderer).disposeElement)==null||a.call(l,e,t,i.data,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(e,t):!1}}Nb([Ae],rf.prototype,"compressedTreeNodeProvider",null);class Tb{constructor(e){this.modelProvider=e,this.compressedStickyNodes=new Map}getCompressedNode(e){return this.compressedStickyNodes.get(e)}constrainStickyScrollNodes(e,t,i){if(this.compressedStickyNodes.clear(),e.length===0)return[];for(let n=0;n<e.length;n++){const o=e[n],r=o.position+o.height;if(n+1<e.length&&r+e[n+1].height>i||n>=t-1&&t<e.length){const a=e.slice(0,n),h=e.slice(n),d=this.compressStickyNodes(h);return[...a,d]}}return e}compressStickyNodes(e){if(e.length===0)throw new Error("Can't compress empty sticky nodes");const t=this.modelProvider();if(!t.isCompressionEnabled())return e[0];const i=[];for(let h=0;h<e.length;h++){const d=e[h],u=t.getCompressedTreeNode(d.node.element);if(u.element){if(h!==0&&u.element.incompressible)break;i.push(...u.element.elements)}}if(i.length<2)return e[0];const n=e[e.length-1],o={elements:i,incompressible:!1},r={...n.node,children:[],element:o},l=new Proxy(e[0].node,{}),a={node:l,startIndex:e[0].startIndex,endIndex:n.endIndex,position:e[0].position,height:e[0].height};return this.compressedStickyNodes.set(l,r),a}}function Ab(s,e){return e&&{...e,keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let i;try{i=s().getCompressedTreeNode(t)}catch{return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return i.element.elements.length===1?e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(i.element.elements)}}}}class Lb extends of{constructor(e,t,i,n,o={}){const r=()=>this,l=new Tb(()=>this.model),a=n.map(h=>new rf(r,l,h));super(e,t,i,a,{...Ab(r,o),stickyScrollDelegate:l})}setChildren(e,t=pe.empty(),i){this.model.setChildren(e,t,i)}createModel(e,t,i){return new kb(e,t,i)}updateOptions(e={}){super.updateOptions(e),typeof e.compressionEnabled<"u"&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}}function nl(s){return{...s,children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1}}function na(s,e){return e.parent?e.parent===s?!0:na(s,e.parent):!1}function Ib(s,e){return s===e||na(s,e)||na(e,s)}class Qa{get element(){return this.node.element.element}get children(){return this.node.children.map(e=>new Qa(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e){this.node=e}}class Pb{constructor(e,t,i){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?(t.classList.add(...We.asClassNameArray($e.treeItemLoading)),!0):(t.classList.remove(...We.asClassNameArray($e.treeItemLoading)),!1)}disposeElement(e,t,i,n){var o,r;(r=(o=this.renderer).disposeElement)==null||r.call(o,this.nodeMapper.map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function Kc(s){return{browserEvent:s.browserEvent,elements:s.elements.map(e=>e.element)}}function $c(s){return{browserEvent:s.browserEvent,element:s.element&&s.element.element,target:s.target}}class Rb extends Pn{constructor(e){super(e.elements.map(t=>t.element)),this.data=e}}function ol(s){return s instanceof Pn?new Rb(s):s}class Mb{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){var i,n;(n=(i=this.dnd).onDragStart)==null||n.call(i,ol(e),t)}onDragOver(e,t,i,n,o,r=!0){return this.dnd.onDragOver(ol(e),t&&t.element,i,n,o)}drop(e,t,i,n,o){this.dnd.drop(ol(e),t&&t.element,i,n,o)}onDragEnd(e){var t,i;(i=(t=this.dnd).onDragEnd)==null||i.call(t,e)}dispose(){this.dnd.dispose()}}function lf(s){return s&&{...s,collapseByDefault:!0,identityProvider:s.identityProvider&&{getId(e){return s.identityProvider.getId(e.element)}},dnd:s.dnd&&new Mb(s.dnd),multipleSelectionController:s.multipleSelectionController&&{isSelectionSingleChangeEvent(e){return s.multipleSelectionController.isSelectionSingleChangeEvent({...e,element:e.element})},isSelectionRangeChangeEvent(e){return s.multipleSelectionController.isSelectionRangeChangeEvent({...e,element:e.element})}},accessibilityProvider:s.accessibilityProvider&&{...s.accessibilityProvider,getPosInSet:void 0,getSetSize:void 0,getRole:s.accessibilityProvider.getRole?e=>s.accessibilityProvider.getRole(e.element):()=>"treeitem",isChecked:s.accessibilityProvider.isChecked?e=>{var t;return!!((t=s.accessibilityProvider)!=null&&t.isChecked(e.element))}:void 0,getAriaLabel(e){return s.accessibilityProvider.getAriaLabel(e.element)},getWidgetAriaLabel(){return s.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:s.accessibilityProvider.getWidgetRole?()=>s.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:s.accessibilityProvider.getAriaLevel&&(e=>s.accessibilityProvider.getAriaLevel(e.element)),getActiveDescendantId:s.accessibilityProvider.getActiveDescendantId&&(e=>s.accessibilityProvider.getActiveDescendantId(e.element))},filter:s.filter&&{filter(e,t){return s.filter.filter(e.element,t)}},keyboardNavigationLabelProvider:s.keyboardNavigationLabelProvider&&{...s.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(e){return s.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}},sorter:void 0,expandOnlyOnTwistieClick:typeof s.expandOnlyOnTwistieClick>"u"?void 0:typeof s.expandOnlyOnTwistieClick!="function"?s.expandOnlyOnTwistieClick:e=>s.expandOnlyOnTwistieClick(e.element),defaultFindVisibility:e=>e.hasChildren&&e.stale?1:typeof s.defaultFindVisibility=="number"?s.defaultFindVisibility:typeof s.defaultFindVisibility>"u"?2:s.defaultFindVisibility(e.element)}}function oa(s,e){e(s),s.children.forEach(t=>oa(t,e))}class Ob{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return P.map(this.tree.onDidChangeFocus,Kc)}get onDidChangeSelection(){return P.map(this.tree.onDidChangeSelection,Kc)}get onMouseDblClick(){return P.map(this.tree.onMouseDblClick,$c)}get onPointer(){return P.map(this.tree.onPointer,$c)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidChangeStickyScrollFocused(){return this.tree.onDidChangeStickyScrollFocused}get onDidDispose(){return this.tree.onDidDispose}constructor(e,t,i,n,o,r={}){this.user=e,this.dataSource=o,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new M,this._onDidChangeNodeSlowState=new M,this.nodeMapper=new Ga(l=>new Qa(l)),this.disposables=new J,this.identityProvider=r.identityProvider,this.autoExpandSingleChildren=typeof r.autoExpandSingleChildren>"u"?!1:r.autoExpandSingleChildren,this.sorter=r.sorter,this.getDefaultCollapseState=l=>r.collapseByDefault?r.collapseByDefault(l)?ct.PreserveOrCollapsed:ct.PreserveOrExpanded:void 0,this.tree=this.createTree(e,t,i,n,r),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.onDidChangeFindMatchType=this.tree.onDidChangeFindMatchType,this.root=nl({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root={...this.root,id:null}),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(e,t,i,n,o){const r=new ja(i),l=n.map(h=>new Pb(h,this.nodeMapper,this._onDidChangeNodeSlowState.event)),a=lf(o)||{};return new of(e,t,r,l,a)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}async setInput(e,t){this.refreshPromises.forEach(n=>n.cancel()),this.refreshPromises.clear(),this.root.element=e;const i=t&&{viewState:t,focus:[],selection:[]};await this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&typeof t.scrollTop=="number"&&(this.scrollTop=t.scrollTop)}async _updateChildren(e=this.root.element,t=!0,i=!1,n,o){if(typeof this.root.element>"u")throw new ut(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await P.toPromise(this._onDidRender.event));const r=this.getDataNode(e);if(await this.refreshAndRenderNode(r,t,n,o),i)try{this.tree.rerender(r)}catch{}}rerender(e){if(e===void 0||e===this.root.element){this.tree.rerender();return}const t=this.getDataNode(e);this.tree.rerender(t)}getNode(e=this.root.element){const t=this.getDataNode(e),i=this.tree.getNode(t===this.root?null:t);return this.nodeMapper.map(i)}collapse(e,t=!1){const i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}async expand(e,t=!1){if(typeof this.root.element>"u")throw new ut(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await P.toPromise(this._onDidRender.event));const i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i)||(i.refreshPromise&&(await this.root.refreshPromise,await P.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i)))return!1;const n=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(await this.root.refreshPromise,await P.toPromise(this._onDidRender.event)),n}setSelection(e,t){const i=e.map(n=>this.getDataNode(n));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map(t=>t.element)}setFocus(e,t){const i=e.map(n=>this.getDataNode(n));this.tree.setFocus(i,t)}getFocus(){return this.tree.getFocus().map(t=>t.element)}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getParentElement(e){const t=this.tree.getParentElement(this.getDataNode(e));return t&&t.element}getFirstElementChild(e=this.root.element){const t=this.getDataNode(e),i=this.tree.getFirstElementChild(t===this.root?null:t);return i&&i.element}getDataNode(e){const t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new ut(this.user,`Data tree node not found: ${e}`);return t}async refreshAndRenderNode(e,t,i,n){await this.refreshNode(e,t,i),!this.disposables.isDisposed&&this.render(e,i,n)}async refreshNode(e,t,i){let n;if(this.subTreeRefreshPromises.forEach((o,r)=>{!n&&Ib(r,e)&&(n=o.then(()=>this.refreshNode(e,t,i)))}),n)return n;if(e!==this.root&&this.tree.getNode(e).collapsed){e.hasChildren=!!this.dataSource.hasChildren(e.element),e.stale=!0,this.setChildren(e,[],t,i);return}return this.doRefreshSubTree(e,t,i)}async doRefreshSubTree(e,t,i){let n;e.refreshPromise=new Promise(o=>n=o),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally(()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)});try{const o=await this.doRefreshNode(e,t,i);e.stale=!1,await xl.settled(o.map(r=>this.doRefreshSubTree(r,t,i)))}finally{n()}}async doRefreshNode(e,t,i){e.hasChildren=!!this.dataSource.hasChildren(e.element);let n;if(!e.hasChildren)n=Promise.resolve(pe.empty());else{const o=this.doGetChildren(e);if(ah(o))n=Promise.resolve(o);else{const r=Ro(800);r.then(()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)},l=>null),n=o.finally(()=>r.cancel())}}try{const o=await n;return this.setChildren(e,o,t,i)}catch(o){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),da(o))return[];throw o}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}}doGetChildren(e){let t=this.refreshPromises.get(e);if(t)return t;const i=this.dataSource.getChildren(e.element);return ah(i)?this.processChildren(i):(t=Md(async()=>this.processChildren(await i)),this.refreshPromises.set(e,t),t.finally(()=>{this.refreshPromises.delete(e)}))}_onDidChangeCollapseState({node:e,deep:t}){e.element!==null&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(ft))}setChildren(e,t,i,n){const o=[...t];if(e.children.length===0&&o.length===0)return[];const r=new Map,l=new Map;for(const d of e.children)r.set(d.element,d),this.identityProvider&&l.set(d.id,{node:d,collapsed:this.tree.hasElement(d)&&this.tree.isCollapsed(d)});const a=[],h=o.map(d=>{const u=!!this.dataSource.hasChildren(d);if(!this.identityProvider){const _=nl({element:d,parent:e,hasChildren:u,defaultCollapseState:this.getDefaultCollapseState(d)});return u&&_.defaultCollapseState===ct.PreserveOrExpanded&&a.push(_),_}const f=this.identityProvider.getId(d).toString(),g=l.get(f);if(g){const _=g.node;return r.delete(_.element),this.nodes.delete(_.element),this.nodes.set(d,_),_.element=d,_.hasChildren=u,i?g.collapsed?(_.children.forEach(D=>oa(D,L=>this.nodes.delete(L.element))),_.children.splice(0,_.children.length),_.stale=!0):a.push(_):u&&!g.collapsed&&a.push(_),_}const y=nl({element:d,parent:e,id:f,hasChildren:u,defaultCollapseState:this.getDefaultCollapseState(d)});return n&&n.viewState.focus&&n.viewState.focus.indexOf(f)>-1&&n.focus.push(y),n&&n.viewState.selection&&n.viewState.selection.indexOf(f)>-1&&n.selection.push(y),(n&&n.viewState.expanded&&n.viewState.expanded.indexOf(f)>-1||u&&y.defaultCollapseState===ct.PreserveOrExpanded)&&a.push(y),y});for(const d of r.values())oa(d,u=>this.nodes.delete(u.element));for(const d of h)this.nodes.set(d.element,d);return e.children.splice(0,e.children.length,...h),e!==this.root&&this.autoExpandSingleChildren&&h.length===1&&a.length===0&&(h[0].forceExpanded=!0,a.push(h[0])),a}render(e,t,i){const n=e.children.map(r=>this.asTreeElement(r,t)),o=i&&{...i,diffIdentityProvider:i.diffIdentityProvider&&{getId(r){return i.diffIdentityProvider.getId(r.element)}}};this.tree.setChildren(e===this.root?null:e,n,o),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1?i=!1:e.forceExpanded?(i=!1,e.forceExpanded=!1):i=e.defaultCollapseState,{element:e,children:e.hasChildren?pe.map(e.children,n=>this.asTreeElement(n,t)):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose(),this.tree.dispose()}}class Ja{get element(){return{elements:this.node.element.elements.map(e=>e.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(e=>new Ja(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e){this.node=e}}class Fb{constructor(e,t,i,n){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=i,this.onDidChangeTwistieState=n,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderCompressedElements(e,t,i,n){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?(t.classList.add(...We.asClassNameArray($e.treeItemLoading)),!0):(t.classList.remove(...We.asClassNameArray($e.treeItemLoading)),!1)}disposeElement(e,t,i,n){var o,r;(r=(o=this.renderer).disposeElement)==null||r.call(o,this.nodeMapper.map(e),t,i.templateData,n)}disposeCompressedElements(e,t,i,n){var o,r;(r=(o=this.renderer).disposeCompressedElements)==null||r.call(o,this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=Ct(this.disposables)}}function zb(s){const e=s&&lf(s);return e&&{...e,keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{...e.keyboardNavigationLabelProvider,getCompressedNodeKeyboardNavigationLabel(t){return s.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map(i=>i.element))}}}}class y_ extends Ob{constructor(e,t,i,n,o,r,l={}){super(e,t,i,o,r,l),this.compressionDelegate=n,this.compressibleNodeMapper=new Ga(a=>new Ja(a)),this.filter=l.filter}createTree(e,t,i,n,o){const r=new ja(i),l=n.map(h=>new Fb(h,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),a=zb(o)||{};return new Lb(e,t,r,l,a)}asTreeElement(e,t){return{incompressible:this.compressionDelegate.isIncompressible(e.element),...super.asTreeElement(e,t)}}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t,i){if(!this.identityProvider)return super.render(e,t);const n=g=>this.identityProvider.getId(g).toString(),o=g=>{const y=new Set;for(const _ of g){const D=this.tree.getCompressedTreeNode(_===this.root?null:_);if(D.element)for(const L of D.element.elements)y.add(n(L.element))}return y},r=o(this.tree.getSelection()),l=o(this.tree.getFocus());super.render(e,t,i);const a=this.getSelection();let h=!1;const d=this.getFocus();let u=!1;const f=g=>{const y=g.element;if(y)for(let _=0;_<y.elements.length;_++){const D=n(y.elements[_].element),L=y.elements[y.elements.length-1].element;r.has(D)&&a.indexOf(L)===-1&&(a.push(L),h=!0),l.has(D)&&d.indexOf(L)===-1&&(d.push(L),u=!0)}g.children.forEach(f)};f(this.tree.getCompressedTreeNode(e===this.root?null:e)),h&&this.setSelection(a),u&&this.setFocus(d)}processChildren(e){return this.filter&&(e=pe.filter(e,t=>{const i=this.filter.filter(t,1),n=Bb(i);if(n===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return n===1})),super.processChildren(e)}}function Bb(s){return typeof s=="boolean"?s?1:0:Ya(s)?En(s.visibility):En(s)}class v_ extends sf{constructor(e,t,i,n,o,r={}){super(e,t,i,n,r),this.user=e,this.dataSource=o,this.identityProvider=r.identityProvider}createModel(e,t,i){return new Xa(e,t,i)}}class li extends Z{constructor(e,t){super(),this.options=t,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(t==null?void 0:t.supportIcons)??!1,this.domNode=Y(e,X("span.monaco-highlighted-label"))}get element(){return this.domNode}set(e,t=[],i="",n){e||(e=""),n&&(e=li.escapeNewLines(e,t)),!(this.didEverRender&&this.text===e&&this.title===i&&jt(this.highlights,t))&&(this.text=e,this.title=i,this.highlights=t,this.render())}render(){var i,n,o;const e=[];let t=0;for(const r of this.highlights){if(r.end===r.start)continue;if(t<r.start){const h=this.text.substring(t,r.start);this.supportIcons?e.push(...ln(h)):e.push(h),t=r.start}const l=this.text.substring(t,r.end),a=X("span.highlight",void 0,...this.supportIcons?ln(l):[l]);r.extraClasses&&a.classList.add(...r.extraClasses),e.push(a),t=r.end}if(t<this.text.length){const r=this.text.substring(t);this.supportIcons?e.push(...ln(r)):e.push(r)}if(_n(this.domNode,...e),(n=(i=this.options)==null?void 0:i.hoverDelegate)!=null&&n.showNativeHover)this.domNode.title=this.title;else if(!this.customHover&&this.title!==""){const r=((o=this.options)==null?void 0:o.hoverDelegate)??mt("mouse");this.customHover=this._register(ss().setupManagedHover(r,this.domNode,this.title))}else this.customHover&&this.customHover.update(this.title);this.didEverRender=!0}static escapeNewLines(e,t){let i=0,n=0;return e.replace(/\r\n|\r|\n/g,(o,r)=>{n=o===`\r
`?-1:0,r+=i;for(const l of t)l.end<=r||(l.start>=r&&(l.start+=n),l.end>=r&&(l.end+=n));return i+=n,"⏎"})}}class tn{constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set classNames(e){this.disposed||jt(e,this._classNames)||(this._classNames=e,this._element.classList.value="",this._element.classList.add(...e))}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}}class S_ extends Z{constructor(e,t){super(),this.customHovers=new Map,this.creationOptions=t,this.domNode=this._register(new tn(Y(e,X(".monaco-icon-label")))),this.labelContainer=Y(this.domNode.element,X(".monaco-icon-label-container")),this.nameContainer=Y(this.labelContainer,X("span.monaco-icon-name-container")),t!=null&&t.supportHighlights||t!=null&&t.supportIcons?this.nameNode=this._register(new $b(this.nameContainer,!!t.supportIcons)):this.nameNode=new Hb(this.nameContainer),this.hoverDelegate=(t==null?void 0:t.hoverDelegate)??mt("mouse")}get element(){return this.domNode.element}setLabel(e,t,i){const n=["monaco-icon-label"],o=["monaco-icon-label-container"];let r="";i&&(i.extraClasses&&n.push(...i.extraClasses),i.italic&&n.push("italic"),i.strikethrough&&n.push("strikethrough"),i.disabledCommand&&o.push("disabled"),i.title&&(typeof i.title=="string"?r+=i.title:r+=e));const l=this.domNode.element.querySelector(".monaco-icon-label-iconpath");if(i!=null&&i.iconPath){let a;!l||!Ft(l)?(a=X(".monaco-icon-label-iconpath"),this.domNode.element.prepend(a)):a=l,a.style.backgroundImage=Xp(i==null?void 0:i.iconPath)}else l&&l.remove();if(this.domNode.classNames=n,this.domNode.element.setAttribute("aria-label",r),this.labelContainer.classList.value="",this.labelContainer.classList.add(...o),this.setupHover(i!=null&&i.descriptionTitle?this.labelContainer:this.element,i==null?void 0:i.title),this.nameNode.setLabel(e,i),t||this.descriptionNode){const a=this.getOrCreateDescriptionNode();a instanceof li?(a.set(t||"",i?i.descriptionMatches:void 0,void 0,i==null?void 0:i.labelEscapeNewLines),this.setupHover(a.element,i==null?void 0:i.descriptionTitle)):(a.textContent=t&&(i!=null&&i.labelEscapeNewLines)?li.escapeNewLines(t,[]):t||"",this.setupHover(a.element,(i==null?void 0:i.descriptionTitle)||""),a.empty=!t)}if(i!=null&&i.suffix||this.suffixNode){const a=this.getOrCreateSuffixNode();a.textContent=(i==null?void 0:i.suffix)??""}}setupHover(e,t){const i=this.customHovers.get(e);if(i&&(i.dispose(),this.customHovers.delete(e)),!t){e.removeAttribute("title");return}if(this.hoverDelegate.showNativeHover)(function(o,r){hr(r)?o.title=Iu(r):r!=null&&r.markdownNotSupportedFallback?o.title=r.markdownNotSupportedFallback:o.removeAttribute("title")})(e,t);else{const n=ss().setupManagedHover(this.hoverDelegate,e,t);n&&this.customHovers.set(e,n)}}dispose(){super.dispose();for(const e of this.customHovers.values())e.dispose();this.customHovers.clear()}getOrCreateSuffixNode(){if(!this.suffixNode){const e=this._register(new tn(Gp(this.nameContainer,X("span.monaco-icon-suffix-container"))));this.suffixNode=this._register(new tn(Y(e.element,X("span.label-suffix"))))}return this.suffixNode}getOrCreateDescriptionNode(){var e;if(!this.descriptionNode){const t=this._register(new tn(Y(this.labelContainer,X("span.monaco-icon-description-container"))));(e=this.creationOptions)!=null&&e.supportDescriptionHighlights?this.descriptionNode=this._register(new li(Y(t.element,X("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons})):this.descriptionNode=this._register(new tn(Y(t.element,X("span.label-description"))))}return this.descriptionNode}}class Hb{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&jt(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=Y(this.container,X("a.label-name",{id:t==null?void 0:t.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let i=0;i<e.length;i++){const n=e[i],o=(t==null?void 0:t.domId)&&`${t==null?void 0:t.domId}_${i}`;Y(this.container,X("a.label-name",{id:o,"data-icon-label-count":e.length,"data-icon-label-index":i,role:"treeitem"},n)),i<e.length-1&&Y(this.container,X("span.label-separator",void 0,(t==null?void 0:t.separator)||"/"))}}}}function Kb(s,e,t){if(!t)return;let i=0;return s.map(n=>{const o={start:i,end:i+n.length},r=t.map(l=>Ue.intersect(o,l)).filter(l=>!Ue.isEmpty(l)).map(({start:l,end:a})=>({start:l-i,end:a-i}));return i=o.end+e.length,r})}class $b extends Z{constructor(e,t){super(),this.container=e,this.supportIcons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&jt(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=this._register(new li(Y(this.container,X("a.label-name",{id:t==null?void 0:t.domId})),{supportIcons:this.supportIcons}))),this.singleLabel.set(e,t==null?void 0:t.matches,void 0,t==null?void 0:t.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const i=(t==null?void 0:t.separator)||"/",n=Kb(e,i,t==null?void 0:t.matches);for(let o=0;o<e.length;o++){const r=e[o],l=n?n[o]:void 0,a=(t==null?void 0:t.domId)&&`${t==null?void 0:t.domId}_${o}`,h=X("a.label-name",{id:a,"data-icon-label-count":e.length,"data-icon-label-index":o,role:"treeitem"});this._register(new li(Y(this.container,h),{supportIcons:this.supportIcons})).set(r,l,void 0,t==null?void 0:t.labelEscapeNewLines),o<e.length-1&&Y(h,X("span.label-separator",void 0,i))}}}}const eo=X,C_={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};class af extends Z{constructor(e,t,i){super(),this.os=t,this.keyElements=new Set,this.options=i||Object.create(null);const n=this.options.keybindingLabelForeground;this.domNode=Y(e,eo(".monaco-keybinding")),n&&(this.domNode.style.color=n),this.hover=this._register(ss().setupManagedHover(mt("mouse"),this.domNode,"")),this.didEverRender=!1,e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t){this.didEverRender&&this.keybinding===e&&af.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){if(this.clear(),this.keybinding){const e=this.keybinding.getChords();e[0]&&this.renderChord(this.domNode,e[0],this.matches?this.matches.firstPart:null);for(let i=1;i<e.length;i++)Y(this.domNode,eo("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,e[i],this.matches?this.matches.chordPart:null);const t=this.options.disableTitle??!1?void 0:this.keybinding.getAriaLabel()||void 0;this.hover.update(t),this.domNode.setAttribute("aria-label",t||"")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){zt(this.domNode),this.keyElements.clear()}renderChord(e,t,i){const n=x0.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,n.ctrlKey,!!(i!=null&&i.ctrlKey),n.separator),t.shiftKey&&this.renderKey(e,n.shiftKey,!!(i!=null&&i.shiftKey),n.separator),t.altKey&&this.renderKey(e,n.altKey,!!(i!=null&&i.altKey),n.separator),t.metaKey&&this.renderKey(e,n.metaKey,!!(i!=null&&i.metaKey),n.separator);const o=t.keyLabel;o&&this.renderKey(e,o,!!(i!=null&&i.keyCode),"")}renderKey(e,t,i,n){Y(e,this.createKeyElement(t,i?".highlight":"")),n&&Y(e,eo("span.monaco-keybinding-key-separator",void 0,n))}renderUnbound(e){Y(e,this.createKeyElement(ie("unbound","Unbound")))}createKeyElement(e,t=""){const i=eo("span.monaco-keybinding-key"+t,void 0,e);return this.keyElements.add(i),this.options.keybindingLabelBackground&&(i.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(i.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(i.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(i.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),i}static areSame(e,t){return e===t||!e&&!t?!0:!!e&&!!t&&jt(e.firstPart,t.firstPart)&&jt(e.chordPart,t.chordPart)}}const Wc=new Pi(()=>{const s=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:s,collatorIsNumeric:s.resolvedOptions().numeric}});function Wb(s,e,t=!1){const i=s||"",n=e||"",o=Wc.value.collator.compare(i,n);return Wc.value.collatorIsNumeric&&o===0&&i!==n?i<n?-1:1:o}function x_(s,e,t){const i=s.toLowerCase(),n=e.toLowerCase(),o=Vb(s,e,t);if(o)return o;const r=i.endsWith(t),l=n.endsWith(t);if(r!==l)return r?-1:1;const a=Wb(i,n);return a!==0?a:i.localeCompare(n)}function Vb(s,e,t){const i=s.toLowerCase(),n=e.toLowerCase(),o=i.startsWith(t),r=n.startsWith(t);if(o!==r)return o?-1:1;if(o&&r){if(i.length<n.length)return-1;if(i.length>n.length)return 1}return 0}var Vc;(function(s){const e={total:0,min:Number.MAX_VALUE,max:0},t={...e},i={...e},n={...e};let o=0;const r={keydown:0,input:0,render:0};function l(){L(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),r.keydown=1,queueMicrotask(a)}s.onKeyDown=l;function a(){r.keydown===1&&(performance.mark("keydown/end"),r.keydown=2)}function h(){performance.mark("input/start"),r.input=1,D()}s.onBeforeInput=h;function d(){r.input===0&&h(),queueMicrotask(u)}s.onInput=d;function u(){r.input===1&&(performance.mark("input/end"),r.input=2)}function f(){L()}s.onKeyUp=f;function g(){L()}s.onSelectionChange=g;function y(){r.keydown===2&&r.input===2&&r.render===0&&(performance.mark("render/start"),r.render=1,queueMicrotask(_),D())}s.onRenderStart=y;function _(){r.render===1&&(performance.mark("render/end"),r.render=2)}function D(){setTimeout(L)}function L(){r.keydown===2&&r.input===2&&r.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),N("keydown",e),N("input",t),N("render",i),N("inputlatency",n),o++,K())}function N(A,k){const q=performance.getEntriesByName(A)[0].duration;k.total+=q,k.min=Math.min(k.min,q),k.max=Math.max(k.max,q)}function K(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),r.keydown=0,r.input=0,r.render=0}function T(){if(o===0)return;const A={keydown:E(e),input:E(t),render:E(i),total:E(n),sampleCount:o};return I(e),I(t),I(i),I(n),o=0,A}s.getAndClearMeasurements=T;function E(A){return{average:A.total/o,max:A.max,min:A.min}}function I(A){A.total=0,A.min=Number.MAX_VALUE,A.max=0}})(Vc||(Vc={}));const D_="monaco-mouse-cursor-text",E_=kt?'"Segoe WPC", "Segoe UI", sans-serif':Oe?"-apple-system, BlinkMacSystemFont, sans-serif":'system-ui, "Ubuntu", "Droid Sans", sans-serif';function eh(){return gl&&!!gl.VSCODE_DEV}function hf(s){if(eh()){const e=Ub();return e.add(s),{dispose(){e.delete(s)}}}else return{dispose(){}}}function Ub(){to||(to=new Set);const s=globalThis;return s.$hotReload_applyNewExports||(s.$hotReload_applyNewExports=e=>{const t={config:{mode:void 0},...e},i=[];for(const n of to){const o=n(t);o&&i.push(o)}if(i.length>0)return n=>{let o=!1;for(const r of i)r(n)&&(o=!0);return o}}),to}let to;eh()&&hf(({oldExports:s,newSrc:e,config:t})=>{if(t.mode==="patch-prototype")return i=>{var n,o;for(const r in i){const l=i[r];if(console.log(`[hot-reload] Patching prototype methods of '${r}'`,{exportedItem:l}),typeof l=="function"&&l.prototype){const a=s[r];if(a){for(const h of Object.getOwnPropertyNames(l.prototype)){const d=Object.getOwnPropertyDescriptor(l.prototype,h),u=Object.getOwnPropertyDescriptor(a.prototype,h);((n=d==null?void 0:d.value)==null?void 0:n.toString())!==((o=u==null?void 0:u.value)==null?void 0:o.toString())&&console.log(`[hot-reload] Patching prototype method '${r}.${h}'`),Object.defineProperty(a.prototype,h,d)}i[r]=a}}}return!0}});function k_(s,e){return qb([s],e),s}function qb(s,e){eh()&&q0("reload",i=>hf(({oldExports:n})=>{if([...Object.values(n)].some(o=>s.includes(o)))return o=>(i(void 0),!0)})).read(e)}class N_ extends Z{constructor(e,t,i={orientation:0}){super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new Uf),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new J),i.hoverDelegate=i.hoverDelegate??this._register(Wa()),this.options=i,this.toggleMenuAction=this._register(new Go(()=>{var n;return(n=this.toggleMenuActionViewItem)==null?void 0:n.show()},i.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",e.appendChild(this.element),this.actionBar=this._register(new Va(this.element,{orientation:i.orientation,ariaLabel:i.ariaLabel,actionRunner:i.actionRunner,allowContextMenu:i.allowContextMenu,highlightToggledItems:i.highlightToggledItems,hoverDelegate:i.hoverDelegate,actionViewItemProvider:(n,o)=>{if(n.id===Go.ID)return this.toggleMenuActionViewItem=new kc(n,n.menuActions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:We.asClassNameArray(i.moreIcon??$e.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,isMenu:!0,hoverDelegate:this.options.hoverDelegate}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(i.actionViewItemProvider){const r=i.actionViewItemProvider(n,o);if(r)return r}if(n instanceof ou){const r=new kc(n,n.actions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:n.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,hoverDelegate:this.options.hoverDelegate});return r.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(r),this.disposables.add(this._onDidChangeDropdownVisibility.add(r.onDidChangeVisibility)),r}}}))}set actionRunner(e){this.actionBar.actionRunner=e}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(e){return this.actionBar.getAction(e)}setActions(e,t){this.clear();const i=e?e.slice(0):[];this.hasSecondaryActions=!!(t&&t.length>0),this.hasSecondaryActions&&t&&(this.toggleMenuAction.menuActions=t.slice(0),i.push(this.toggleMenuAction)),i.forEach(n=>{this.actionBar.push(n,{icon:this.options.icon??!0,label:this.options.label??!1,keybinding:this.getKeybindingLabel(n)})})}getKeybindingLabel(e){var i,n;const t=(n=(i=this.options).getKeyBinding)==null?void 0:n.call(i,e);return(t==null?void 0:t.getLabel())??void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}}const ar=class ar extends Ta{constructor(e,t){t=t||ie("moreActions","More Actions..."),super(ar.ID,t,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=e}async run(){this.toggleDropdownMenu()}get menuActions(){return this._menuActions}set menuActions(e){this._menuActions=e}};ar.ID="toolbar.toggle.more";let Go=ar;const Gb=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let s;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?s=crypto.getRandomValues.bind(crypto):s=function(i){for(let n=0;n<i.length;n++)i[n]=Math.floor(Math.random()*256);return i};const e=new Uint8Array(16),t=[];for(let i=0;i<256;i++)t.push(i.toString(16).padStart(2,"0"));return function(){s(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let n=0,o="";return o+=t[e[n++]],o+=t[e[n++]],o+=t[e[n++]],o+=t[e[n++]],o+="-",o+=t[e[n++]],o+=t[e[n++]],o+="-",o+=t[e[n++]],o+=t[e[n++]],o+="-",o+=t[e[n++]],o+=t[e[n++]],o+="-",o+=t[e[n++]],o+=t[e[n++]],o+=t[e[n++]],o+=t[e[n++]],o+=t[e[n++]],o+=t[e[n++]],o}}();function T_(s){return{asString:async()=>s,asFile:()=>{},value:typeof s=="string"?s:void 0}}function A_(s,e,t){const i={id:Gb(),name:s,uri:e,data:t};return{asString:async()=>"",asFile:()=>i,value:void 0}}class L_{constructor(){this._entries=new Map}get size(){let e=0;for(const t of this._entries)e++;return e}has(e){return this._entries.has(this.toKey(e))}matches(e){const t=[...this._entries.keys()];return pe.some(this,([i,n])=>n.asFile())&&t.push("files"),cf(Yo(e),t)}get(e){var t;return(t=this._entries.get(this.toKey(e)))==null?void 0:t[0]}append(e,t){const i=this._entries.get(e);i?i.push(t):this._entries.set(this.toKey(e),[t])}replace(e,t){this._entries.set(this.toKey(e),[t])}delete(e){this._entries.delete(this.toKey(e))}*[Symbol.iterator](){for(const[e,t]of this._entries)for(const i of t)yield[e,i]}toKey(e){return Yo(e)}}function Yo(s){return s.toLowerCase()}function I_(s,e){return cf(Yo(s),e.map(Yo))}function cf(s,e){if(s==="*/*")return e.length>0;if(e.includes(s))return!0;const t=s.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!t)return!1;const[i,n,o]=t;return o==="*"?e.some(r=>r.startsWith(n+"/")):!1}const Yb=Object.freeze({create:s=>vo(s.map(e=>e.toString())).join(`\r
`),split:s=>s.split(`\r
`),parse:s=>Yb.split(s).filter(e=>!e.startsWith("#"))}),qt=class qt{constructor(e){this.value=e}equals(e){return this.value===e.value}contains(e){return this.equals(e)||this.value===""||e.value.startsWith(this.value+qt.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(...e){return new qt((this.value?[this.value,...e]:e).join(qt.sep))}};qt.sep=".",qt.None=new qt("@@none@@"),qt.Empty=new qt("");let Uc=qt;function rl(s,e){return e&&(s.stack||s.stacktrace)?ie("stackTrace.format","{0}: {1}",Gc(s),qc(s.stack)||qc(s.stacktrace)):Gc(s)}function qc(s){return Array.isArray(s)?s.join(`
`):s}function Gc(s){return s.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${s.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof s.code=="string"&&typeof s.errno=="number"&&typeof s.syscall=="string"?ie("nodeExceptionMessage","A system error occurred ({0})",s.message):s.message||ie("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function jb(s=null,e=!1){if(!s)return ie("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(s)){const t=id(s),i=jb(t[0],e);return t.length>1?ie("error.moreErrors","{0} ({1} errors in total)",i,t.length):i}if(hr(s))return s;if(s.detail){const t=s.detail;if(t.error)return rl(t.error,e);if(t.exception)return rl(t.exception,e)}return s.stack?rl(s,e):s.message?s.message:ie("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}class P_{constructor(){this._onDidWillResize=new M,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new M,this.onDidResize=this._onDidResize.event,this._sashListener=new J,this._size=new dt(0,0),this._minSize=new dt(0,0),this._maxSize=new dt(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new Je(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new Je(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new Je(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:Vo.North}),this._southSash=new Je(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:Vo.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let e,t=0,i=0;this._sashListener.add(P.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{e===void 0&&(this._onDidWillResize.fire(),e=this._size,t=0,i=0)})),this._sashListener.add(P.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{e!==void 0&&(e=void 0,t=0,i=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(n=>{e&&(i=n.currentX-n.startX,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(n=>{e&&(i=-(n.currentX-n.startX),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(n=>{e&&(t=-(n.currentY-n.startY),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(n=>{e&&(t=n.currentY-n.startY,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(P.any(this._eastSash.onDidReset,this._westSash.onDidReset)(n=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(P.any(this._northSash.onDidReset,this._southSash.onDidReset)(n=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(e,t,i,n){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=i?3:0,this._westSash.state=n?3:0}layout(e=this.size.height,t=this.size.width){const{height:i,width:n}=this._minSize,{height:o,width:r}=this._maxSize;e=Math.max(i,Math.min(o,e)),t=Math.max(n,Math.min(r,t));const l=new dt(t,e);dt.equals(l,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=l,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}}function Xb(s,e){if(s&&s[0]!==""){const t=Yc(s,e,"-"),i=Yc(s,e,"_");return t&&!i?jc(s,e,"-"):!t&&i?jc(s,e,"_"):s[0].toUpperCase()===s[0]?e.toUpperCase():s[0].toLowerCase()===s[0]?e.toLowerCase():P1(s[0][0])&&e.length>0?e[0].toUpperCase()+e.substr(1):s[0][0].toUpperCase()!==s[0][0]&&e.length>0?e[0].toLowerCase()+e.substr(1):e}else return e}function Yc(s,e,t){return s[0].indexOf(t)!==-1&&e.indexOf(t)!==-1&&s[0].split(t).length===e.split(t).length}function jc(s,e,t){const i=e.split(t),n=s[0].split(t);let o="";return i.forEach((r,l)=>{o+=Xb([n[l]],r)+t}),o.slice(0,-1)}const Zb=ie("defaultLabel","input"),Qb=ie("label.preserveCaseToggle","Preserve Case");class Jb extends yr{constructor(e){super({icon:$e.preserveCase,title:Qb+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??mt("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class R_ extends Hs{constructor(e,t,i,n){super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new M),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new M),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new M),this._onInput=this._register(new M),this._onKeyUp=this._register(new M),this._onPreserveCaseKeyDown=this._register(new M),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||Zb;const o=n.appendPreserveCaseLabel||"",r=n.history||[],l=!!n.flexibleHeight,a=!!n.flexibleWidth,h=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Ju(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:r,showHistoryHint:n.showHistoryHint,flexibleHeight:l,flexibleWidth:a,flexibleMaxHeight:h,inputBoxStyles:n.inputBoxStyles})),this.preserveCase=this._register(new Jb({appendTitle:o,isChecked:!1,...n.toggleStyles})),this._register(this.preserveCase.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(f=>{this._onPreserveCaseKeyDown.fire(f)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const d=[this.preserveCase.domNode];this.onkeydown(this.domNode,f=>{if(f.equals(15)||f.equals(17)||f.equals(9)){const g=d.indexOf(this.domNode.ownerDocument.activeElement);if(g>=0){let y=-1;f.equals(17)?y=(g+1)%d.length:f.equals(15)&&(g===0?y=d.length-1:y=g-1),f.equals(9)?(d[g].blur(),this.inputBox.focus()):y>=0&&d[y].focus(),oe.stop(f,!0)}}});const u=document.createElement("div");u.className="controls",u.style.display=this._showOptionButtons?"block":"none",u.appendChild(this.preserveCase.domNode),this.domNode.appendChild(u),e==null||e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,f=>this._onKeyDown.fire(f)),this.onkeyup(this.inputBox.inputElement,f=>this._onKeyUp.fire(f)),this.oninput(this.inputBox.inputElement,f=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,f=>this._onMouseDown.fire(f))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){var e;(e=this.inputBox)==null||e.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=e+"px"}dispose(){super.dispose()}}function M_(s){const e=new J,t=e.add(Bp());return e.add(Fi(i=>{t.setStyle(s.read(i))})),e}function O_(s,e=kt){return Nm(s,e)?s.charAt(0).toUpperCase()+s.slice(1):s}const df=[void 0,[]];function F_(s,e,t=0,i=0){const n=e;return n.values&&n.values.length>1?e4(s,n.values,t,i):uf(s,e,t,i)}function e4(s,e,t,i){let n=0;const o=[];for(const r of e){const[l,a]=uf(s,r,t,i);if(typeof l!="number")return df;n+=l,o.push(...a)}return[n,t4(o)]}function uf(s,e,t,i){const n=Oi(e.original,e.originalLowercase,t,s,s.toLowerCase(),i,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return n?[n[0],Tu(n)]:df}function t4(s){const e=s.sort((n,o)=>n.start-o.start),t=[];let i;for(const n of e)!i||!s4(i,n)?(i=n,t.push(n)):(i.start=Math.min(i.start,n.start),i.end=Math.max(i.end,n.end));return t}function s4(s,e){return!(s.end<e.start||e.end<s.start)}function Xc(s){return s.startsWith('"')&&s.endsWith('"')}const ff=" ";function Zc(s){typeof s!="string"&&(s="");const e=s.toLowerCase(),{pathNormalized:t,normalized:i,normalizedLowercase:n}=Qc(s),o=t.indexOf(Ot)>=0,r=Xc(s);let l;const a=s.split(ff);if(a.length>1)for(const h of a){const d=Xc(h),{pathNormalized:u,normalized:f,normalizedLowercase:g}=Qc(h);f&&(l||(l=[]),l.push({original:h,originalLowercase:h.toLowerCase(),pathNormalized:u,normalized:f,normalizedLowercase:g,expectContiguousMatch:d}))}return{original:s,originalLowercase:e,pathNormalized:t,normalized:i,normalizedLowercase:n,values:l,containsPathSeparator:o,expectContiguousMatch:r}}function Qc(s){let e;kt?e=s.replace(/\//g,Ot):e=s.replace(/\\/g,Ot);const t=D1(e).replace(/\s|"/g,"");return{pathNormalized:e,normalized:t,normalizedLowercase:t.toLowerCase()}}function z_(s){return Array.isArray(s)?Zc(s.map(e=>e.original).join(ff)):Zc(s.original)}function i4(s){const e=new Map;for(const t of s)e.set(t,(e.get(t)??0)+1);return e}class yo{constructor(){this.chunkCount=0,this.chunkOccurrences=new Map,this.documents=new Map}calculateScores(e,t){const i=this.computeEmbedding(e),n=new Map,o=[];for(const[r,l]of this.documents){if(t.isCancellationRequested)return[];for(const a of l.chunks){const h=this.computeSimilarityScore(a,i,n);h>0&&o.push({key:r,score:h})}}return o}static termFrequencies(e){return i4(yo.splitTerms(e))}static*splitTerms(e){const t=i=>i.toLowerCase();for(const[i]of e.matchAll(new RegExp("\\b\\p{Letter}[\\p{Letter}\\d]{2,}\\b","gu"))){yield t(i);const n=i.replace(/([a-z])([A-Z])/g,"$1 $2").split(/\s+/g);if(n.length>1)for(const o of n)o.length>2&&new RegExp("\\p{Letter}{3,}","gu").test(o)&&(yield t(o))}}updateDocuments(e){for(const{key:t}of e)this.deleteDocument(t);for(const t of e){const i=[];for(const n of t.textChunks){const o=yo.termFrequencies(n);for(const r of o.keys())this.chunkOccurrences.set(r,(this.chunkOccurrences.get(r)??0)+1);i.push({text:n,tf:o})}this.chunkCount+=i.length,this.documents.set(t.key,{chunks:i})}return this}deleteDocument(e){const t=this.documents.get(e);if(t){this.documents.delete(e),this.chunkCount-=t.chunks.length;for(const i of t.chunks)for(const n of i.tf.keys()){const o=this.chunkOccurrences.get(n);if(typeof o=="number"){const r=o-1;r<=0?this.chunkOccurrences.delete(n):this.chunkOccurrences.set(n,r)}}}}computeSimilarityScore(e,t,i){let n=0;for(const[o,r]of Object.entries(t)){const l=e.tf.get(o);if(!l)continue;let a=i.get(o);typeof a!="number"&&(a=this.computeIdf(o),i.set(o,a));const h=l*a;n+=h*r}return n}computeEmbedding(e){const t=yo.termFrequencies(e);return this.computeTfidf(t)}computeIdf(e){const t=this.chunkOccurrences.get(e)??0;return t>0?Math.log((this.chunkCount+1)/t):0}computeTfidf(e){const t=Object.create(null);for(const[i,n]of e){const o=this.computeIdf(i);o>0&&(t[i]=n*o)}return t}}function B_(s){var i;const e=s.slice(0);e.sort((n,o)=>o.score-n.score);const t=((i=e[0])==null?void 0:i.score)??0;if(t>0)for(const n of e)n.score/=t;return e}export{dl as $,g5 as A,s5 as B,ko as C,Z as D,P as E,a_ as F,h_ as G,z7 as H,V4 as I,sm as J,fr as K,Al as L,ie as M,ps as N,L4 as O,Z5 as P,Cf as Q,Wh as R,De as S,u4 as T,Ce as U,ua as V,Ro as W,Pp as X,i7 as Y,nm as Z,z4 as _,pd as a,kt as a$,Mu as a0,Hs as a1,le as a2,fo as a3,X as a4,D7 as a5,Ft as a6,wu as a7,W5 as a8,Y as a9,bn as aA,rn as aB,cl as aC,Xd as aD,Pi as aE,Ri as aF,Fl as aG,ei as aH,a5 as aI,h5 as aJ,md as aK,_a as aL,Vc as aM,_m as aN,ce as aO,K5 as aP,$5 as aQ,Pd as aR,ca as aS,O4 as aT,T4 as aU,Dt as aV,Ie as aW,D_ as aX,ur as aY,v5 as aZ,B7 as a_,E7 as aa,Mp as ab,pc as ac,hr as ad,al as ae,cr as af,z5 as ag,St as ah,va as ai,bi as aj,_p as ak,Xg as al,O7 as am,A5 as an,es as ao,Ld as ap,gn as aq,L5 as ar,Df as as,Fs as at,Id as au,y5 as av,As as aw,yi as ax,mu as ay,fs as az,M as b,$a as b$,od as b0,ra as b1,v4 as b2,Bs as b3,bu as b4,y4 as b5,S4 as b6,d7 as b7,hu as b8,E_ as b9,_u as bA,_n as bB,j7 as bC,l4 as bD,a4 as bE,i_ as bF,r_ as bG,t7 as bH,q0 as bI,k_ as bJ,yc as bK,j0 as bL,Ku as bM,b4 as bN,w7 as bO,j5 as bP,g4 as bQ,vf as bR,_4 as bS,X7 as bT,Je as bU,Aa as bV,J7 as bW,In as bX,l_ as bY,U7 as bZ,W7 as b_,p5 as ba,c5 as bb,U5 as bc,n5 as bd,r5 as be,Ip as bf,C4 as bg,Bf as bh,R5 as bi,U4 as bj,Y5 as bk,Ct as bl,su as bm,Fi as bn,H0 as bo,V0 as bp,t_ as bq,W0 as br,xn as bs,p7 as bt,$e as bu,Q7 as bv,B0 as bw,Va as bx,Ta as by,We as bz,id as c,t5 as c$,e_ as c0,Hg as c1,ln as c2,ug as c3,vn as c4,o_ as c5,Y7 as c6,g_ as c7,q7 as c8,pr as c9,ru as cA,s7 as cB,Ns as cC,g7 as cD,p4 as cE,Cm as cF,w4 as cG,Vh as cH,h4 as cI,Mt as cJ,u7 as cK,f4 as cL,X1 as cM,k4 as cN,Sa as cO,c7 as cP,S7 as cQ,Ca as cR,vt as cS,C7 as cT,i1 as cU,x7 as cV,lo as cW,hc as cX,a1 as cY,Hm as cZ,Te as c_,Em as ca,N4 as cb,L_ as cc,T_ as cd,Vu as ce,Yb as cf,A_ as cg,kf as ch,pe as ci,jt as cj,j4 as ck,n7 as cl,I4 as cm,e5 as cn,Io as co,vo as cp,X4 as cq,o5 as cr,E1 as cs,e7 as ct,vh as cu,Sh as cv,u5 as cw,Dm as cx,cu as cy,m7 as cz,F1 as d,P_ as d$,Ve as d0,f7 as d1,f_ as d2,Ad as d3,Td as d4,H4 as d5,lh as d6,l7 as d7,o7 as d8,r7 as d9,Cn as dA,Uc as dB,F7 as dC,w5 as dD,Cl as dE,Q5 as dF,jb as dG,da as dH,Qd as dI,Gb as dJ,Md as dK,I_ as dL,N5 as dM,zs as dN,D5 as dO,dd as dP,P5 as dQ,Fg as dR,Si as dS,Dl as dT,dt as dU,Xt as dV,Xu as dW,af as dX,C_ as dY,X0 as dZ,T5 as d_,h7 as da,a7 as db,d5 as dc,f5 as dd,m5 as de,Z1 as df,Of as dg,b5 as dh,fd as di,I1 as dj,Q4 as dk,Ph as dl,T1 as dm,N1 as dn,_5 as dp,wh as dq,l5 as dr,Nd as ds,K4 as dt,mn as du,_7 as dv,b7 as dw,La as dx,F4 as dy,m4 as dz,gs as e,G7 as e$,Ll as e0,Ea as e1,Kg as e2,ng as e3,og as e4,qg as e5,Vp as e6,Wp as e7,zt as e8,Na as e9,V7 as eA,$4 as eB,l1 as eC,Z4 as eD,O_ as eE,r4 as eF,Z7 as eG,y7 as eH,ll as eI,i5 as eJ,go as eK,d4 as eL,bf as eM,Wl as eN,Oi as eO,T7 as eP,_h as eQ,N7 as eR,oh as eS,F5 as eT,bd as eU,is as eV,M5 as eW,R7 as eX,n_ as eY,M_ as eZ,Y4 as e_,Il as ea,ge as eb,cc as ec,Tu as ed,S_ as ee,b_ as ef,Bg as eg,li as eh,Li as ei,nb as ej,Fc as ek,P7 as el,sn as em,ou as en,Xb as eo,Wa as ep,H2 as eq,K2 as er,$2 as es,Ln as et,Rp as eu,yr as ev,Da as ew,mt as ex,Sp as ey,bg as ez,wf as f,Zd as f$,yl as f0,sg as f1,E5 as f2,as as f3,M7 as f4,Wu as f5,Bp as f6,gc as f7,X5 as f8,oe as f9,yd as fA,Nc as fB,u_ as fC,Jl as fD,Xp as fE,kc as fF,Gt as fG,d_ as fH,cn as fI,m_ as fJ,H5 as fK,pa as fL,tu as fM,__ as fN,w_ as fO,zc as fP,of as fQ,Lb as fR,v_ as fS,Ob as fT,y_ as fU,Nn as fV,Tn as fW,b2 as fX,_2 as fY,hn as fZ,y2 as f_,ss as fa,W4 as fb,A4 as fc,z_ as fd,J4 as fe,F_ as ff,Zc as fg,Iu as fh,x4 as fi,B4 as fj,M4 as fk,P4 as fl,Ff as fm,R4 as fn,J5 as fo,G4 as fp,Yt as fq,mc as fr,D4 as fs,x5 as ft,x0 as fu,H7 as fv,K7 as fw,$7 as fx,C5 as fy,No as fz,O5 as g,Ae as g0,kn as g1,j1 as g2,B5 as g3,I7 as g4,L7 as g5,x_ as g6,dr as g7,A7 as g8,Gd as g9,I5 as ga,Mc as gb,_1 as gc,G5 as gd,o4 as ge,q4 as gf,zp as gg,Ef as gh,k5 as gi,N_ as gj,p_ as gk,c4 as gl,Go as gm,s_ as gn,V5 as go,R_ as gp,eh as gq,vu as gr,gg as gs,k7 as gt,zo as gu,yo as gv,B_ as gw,Zt as h,Rh as i,no as j,S5 as k,Do as l,ze as m,Oe as n,bh as o,ft as p,J as q,R as r,Re as s,we as t,$ as u,v7 as v,q5 as w,zg as x,E4 as y,dm as z};
//# sourceMappingURL=monaco-editor-base-CbpQQOWn.js.map
