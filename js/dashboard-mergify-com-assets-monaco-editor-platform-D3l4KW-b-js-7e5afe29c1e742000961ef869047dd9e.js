import{b as I,fi as pl,$ as Rn,t as be,ci as Je,M as c,fj as vr,n as Tt,l as Sr,a$ as _r,dP as Mn,fk as ml,fl as yl,fm as bl,fn as kl,eD as Cl,fo as gs,ad as tn,aj as ze,O as pt,q as W,k as eo,j as Kn,fp as vl,bz as U,en as Ta,bl as Nn,D as K,b0 as Ui,fq as nn,cp as Ts,v as j,p as Sl,eB as Ba,S as Pt,aA as wr,h as C,ct as _l,d0 as J,a6 as ei,az as ti,fr as wl,a2 as Xe,R as Ze,U as qe,as as Nt,at as bt,cj as xl,fs as Dl,E as z,cM as Il,ai as Fa,a_ as fs,ft as El,di as Tl,fu as Aa,fv as Bl,fw as Fl,fx as Al,fy as Ll,fz as hi,fA as Ol,K as to,cY as Rl,eU as Bs,fB as ps,fC as ms,fD as ys,dW as Ml,aK as Hn,em as xr,r as G,fE as it,fF as La,Q as Kl,fG as Nl,bV as Fs,a8 as Oa,a4 as Ie,a9 as M,s as ii,u as V,fH as Hl,dV as et,N as bs,ah as Qe,fI as Pl,aw as Ra,dH as Dr,c as Vl,dM as Ma,af as Ir,bB as Jt,fJ as Wl,c2 as $l,aO as Xt,aV as Ka,aW as Na,e5 as ql,e7 as io,fK as Ul,f9 as ut,bu as xe,aS as As,ev as jl,fL as Ha,fM as Gl,fN as Pa,aU as zl,eV as Va,fO as Ql,fP as Yl,fQ as Jl,fR as Xl,fS as Zl,fT as eu,fU as tu,fV as ji,fW as no,fX as iu,fY as nu,aH as su,fZ as di,f_ as ru,e as Wa,f$ as $a,g0 as qa,ee as so,dX as Ua,bx as ki,bo as ks,bY as ou,g1 as au,g2 as cu,g3 as ro,g4 as Cs,g5 as fi,bs as lu,g6 as uu,g7 as hu,aE as du,g8 as gu,g9 as ja,m as Er,ga as fu,ef as oo,c7 as ao,gb as pu,bm as Ga,C as za,ag as mu,gc as yu,gd as vs,ge as bu,gf as Qa,dF as Zt,au as ku,av as Cu,gg as Gi,dI as vu,ey as Su,eK as _u,gh as wu,gi as xu,eL as Du,T as Iu,gj as Eu,gk as Tu,gl as co,gm as Bu,b3 as Fu,br as Au,gn as Lu,go as Ou,cb as _e,gp as Ru,gq as Mu,bq as Ku,bJ as Nu,ex as Hu,ae as Pu,W as Vu,gr as Wu,gs as $u,gt as qu,gu as Uu,a as ju,dG as Gu,b8 as zu,gv as Qu,gw as Yu}from"./monaco-editor-base-CbpQQOWn.js";(function(){try{var r=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};r.SENTRY_RELEASE={id:"1a852bb1435e099912e47361ac6ea11c1a9da234"}}catch{}})();try{(function(){var r=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},e=new r.Error().stack;e&&(r._sentryDebugIds=r._sentryDebugIds||{},r._sentryDebugIds[e]="e576287b-758d-41a2-91b3-d9226b4f7ecf",r._sentryDebugIdIdentifier="sentry-dbid-e576287b-758d-41a2-91b3-d9226b4f7ecf")})()}catch{}var De;(function(r){r.serviceIds=new Map,r.DI_TARGET="$di$target",r.DI_DEPENDENCIES="$di$dependencies";function e(t){return t[r.DI_DEPENDENCIES]||[]}r.getServiceDependencies=e})(De||(De={}));const Z=R("instantiationService");function Ju(r,e,t){e[De.DI_TARGET]===e?e[De.DI_DEPENDENCIES].push({id:r,index:t}):(e[De.DI_DEPENDENCIES]=[{id:r,index:t}],e[De.DI_TARGET]=e)}function R(r){if(De.serviceIds.has(r))return De.serviceIds.get(r);const e=function(t,i,n){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");Ju(e,t,n)};return e.toString=()=>r,De.serviceIds.set(r,e),e}const rt=R("commandService"),nt=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new I,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(r,e){if(!r)throw new Error("invalid command");if(typeof r=="string"){if(!e)throw new Error("invalid command");return this.registerCommand({id:r,handler:e})}if(r.metadata&&Array.isArray(r.metadata.args)){const o=[];for(const u of r.metadata.args)o.push(u.constraint);const a=r.handler;r.handler=function(u,...h){return pl(h,o),a(u,...h)}}const{id:t}=r;let i=this._commands.get(t);i||(i=new Rn,this._commands.set(t,i));const n=i.unshift(r),s=be(()=>{n();const o=this._commands.get(t);o!=null&&o.isEmpty()&&this._commands.delete(t)});return this._onDidRegisterCommand.fire(t),s}registerCommandAlias(r,e){return nt.registerCommand(r,(t,...i)=>t.get(rt).executeCommand(e,...i))}getCommand(r){const e=this._commands.get(r);if(!(!e||e.isEmpty()))return Je.first(e)}getCommands(){const r=new Map;for(const e of this._commands.keys()){const t=this.getCommand(e);t&&r.set(e,t)}return r}};nt.registerCommand("noop",()=>{});function Ss(...r){switch(r.length){case 1:return c("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",r[0]);case 2:return c("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",r[0],r[1]);case 3:return c("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",r[0],r[1],r[2]);default:return}}const Xu=c("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),Zu=c("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'."),Gt=class Gt{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(e){switch(e.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return e.isTripleEq?"===":"==";case 4:return e.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return e.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return e.lexeme;case 18:return e.lexeme;case 19:return e.lexeme;case 20:return"EOF";default:throw vr(`unhandled token type: ${JSON.stringify(e)}; have you forgotten to add a case?`)}}reset(e){return this._input=e,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const t=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:t})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const t=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:t})}else this._match(126)?this._addToken(9):this._error(Ss("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(Ss("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(Ss("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(e){return this._isAtEnd()||this._input.charCodeAt(this._current)!==e?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(e){this._tokens.push({type:e,offset:this._start})}_error(e){const t=this._start,i=this._input.substring(this._start,this._current),n={type:19,offset:this._start,lexeme:i};this._errors.push({offset:t,lexeme:i,additionalInfo:e}),this._tokens.push(n)}_string(){this.stringRe.lastIndex=this._start;const e=this.stringRe.exec(this._input);if(e){this._current=this._start+e[0].length;const t=this._input.substring(this._start,this._current),i=Gt._keywords.get(t);i?this._addToken(i):this._tokens.push({type:17,lexeme:t,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(Xu);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let e=this._current,t=!1,i=!1;for(;;){if(e>=this._input.length){this._current=e,this._error(Zu);return}const s=this._input.charCodeAt(e);if(t)t=!1;else if(s===47&&!i){e++;break}else s===91?i=!0:s===92?t=!0:s===93&&(i=!1);e++}for(;e<this._input.length&&Gt._regexFlags.has(this._input.charCodeAt(e));)e++;this._current=e;const n=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:n,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}};Gt._regexFlags=new Set(["i","g","s","m","y","u"].map(e=>e.charCodeAt(0))),Gt._keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);let ht=Gt;const X=new Map;X.set("false",!1);X.set("true",!0);X.set("isMac",Tt);X.set("isLinux",Sr);X.set("isWindows",_r);X.set("isWeb",Mn);X.set("isMacNative",Tt&&!Mn);X.set("isEdge",ml);X.set("isFirefox",yl);X.set("isChrome",bl);X.set("isSafari",kl);const eh=Object.prototype.hasOwnProperty,th={regexParsingWithErrorRecovery:!0},ih=c("contextkey.parser.error.emptyString","Empty context key expression"),nh=c("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),sh=c("contextkey.parser.error.noInAfterNot","'in' after 'not'."),lo=c("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),rh=c("contextkey.parser.error.unexpectedToken","Unexpected token"),oh=c("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),ah=c("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),ch=c("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?"),ft=class ft{constructor(e=th){this._config=e,this._scanner=new ht,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(e){if(e===""){this._parsingErrors.push({message:ih,offset:0,lexeme:"",additionalInfo:nh});return}this._tokens=this._scanner.reset(e).scan(),this._current=0,this._parsingErrors=[];try{const t=this._expr();if(!this._isAtEnd()){const i=this._peek(),n=i.type===17?oh:void 0;throw this._parsingErrors.push({message:rh,offset:i.offset,lexeme:ht.getLexeme(i),additionalInfo:n}),ft._parseError}return t}catch(t){if(t!==ft._parseError)throw t;return}}_expr(){return this._or()}_or(){const e=[this._and()];for(;this._matchOne(16);){const t=this._and();e.push(t)}return e.length===1?e[0]:B.or(...e)}_and(){const e=[this._term()];for(;this._matchOne(15);){const t=this._term();e.push(t)}return e.length===1?e[0]:B.and(...e)}_term(){if(this._matchOne(2)){const e=this._peek();switch(e.type){case 11:return this._advance(),ee.INSTANCE;case 12:return this._advance(),re.INSTANCE;case 0:{this._advance();const t=this._expr();return this._consume(1,lo),t==null?void 0:t.negate()}case 17:return this._advance(),Ft.create(e.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",e)}}return this._primary()}_primary(){const e=this._peek();switch(e.type){case 11:return this._advance(),B.true();case 12:return this._advance(),B.false();case 0:{this._advance();const t=this._expr();return this._consume(1,lo),t}case 17:{const t=e.lexeme;if(this._advance(),this._matchOne(9)){const n=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),n.type!==10)throw this._errExpectedButGot("REGEX",n);const s=n.lexeme,o=s.lastIndexOf("/"),a=o===s.length-1?void 0:this._removeFlagsGY(s.substring(o+1));let u;try{u=new RegExp(s.substring(1,o),a)}catch{throw this._errExpectedButGot("REGEX",n)}return Bi.create(t,u)}switch(n.type){case 10:case 19:{const s=[n.lexeme];this._advance();let o=this._peek(),a=0;for(let p=0;p<n.lexeme.length;p++)n.lexeme.charCodeAt(p)===40?a++:n.lexeme.charCodeAt(p)===41&&a--;for(;!this._isAtEnd()&&o.type!==15&&o.type!==16;){switch(o.type){case 0:a++;break;case 1:a--;break;case 10:case 18:for(let p=0;p<o.lexeme.length;p++)o.lexeme.charCodeAt(p)===40?a++:n.lexeme.charCodeAt(p)===41&&a--}if(a<0)break;s.push(ht.getLexeme(o)),this._advance(),o=this._peek()}const u=s.join(""),h=u.lastIndexOf("/"),d=h===u.length-1?void 0:this._removeFlagsGY(u.substring(h+1));let g;try{g=new RegExp(u.substring(1,h),d)}catch{throw this._errExpectedButGot("REGEX",n)}return B.regex(t,g)}case 18:{const s=n.lexeme;this._advance();let o=null;if(!Cl(s)){const a=s.indexOf("/"),u=s.lastIndexOf("/");if(a!==u&&a>=0){const h=s.slice(a+1,u),d=s[u+1]==="i"?"i":"";try{o=new RegExp(h,d)}catch{throw this._errExpectedButGot("REGEX",n)}}}if(o===null)throw this._errExpectedButGot("REGEX",n);return Bi.create(t,o)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,sh);const n=this._value();return B.notIn(t,n)}switch(this._peek().type){case 3:{this._advance();const n=this._value();if(this._previous().type===18)return B.equals(t,n);switch(n){case"true":return B.has(t);case"false":return B.not(t);default:return B.equals(t,n)}}case 4:{this._advance();const n=this._value();if(this._previous().type===18)return B.notEquals(t,n);switch(n){case"true":return B.not(t);case"false":return B.has(t);default:return B.notEquals(t,n)}}case 5:return this._advance(),jn.create(t,this._value());case 6:return this._advance(),Gn.create(t,this._value());case 7:return this._advance(),qn.create(t,this._value());case 8:return this._advance(),Un.create(t,this._value());case 13:return this._advance(),B.in(t,this._value());default:return B.has(t)}}case 20:throw this._parsingErrors.push({message:ah,offset:e.offset,lexeme:"",additionalInfo:ch}),ft._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const e=this._peek();switch(e.type){case 17:case 18:return this._advance(),e.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(e){return e.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(e){return this._check(e)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(e,t){if(this._check(e))return this._advance();throw this._errExpectedButGot(t,this._peek())}_errExpectedButGot(e,t,i){const n=c("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,e,ht.getLexeme(t)),s=t.offset,o=ht.getLexeme(t);return this._parsingErrors.push({message:n,offset:s,lexeme:o,additionalInfo:i}),ft._parseError}_check(e){return this._peek().type===e}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}};ft._parseError=new Error;let Ls=ft;const Yr=class Yr{static false(){return ee.INSTANCE}static true(){return re.INSTANCE}static has(e){return Bt.create(e)}static equals(e,t){return Ri.create(e,t)}static notEquals(e,t){return Wn.create(e,t)}static regex(e,t){return Bi.create(e,t)}static in(e,t){return Pn.create(e,t)}static notIn(e,t){return Vn.create(e,t)}static not(e){return Ft.create(e)}static and(...e){return mt.create(e,null,!0)}static or(...e){return Pe.create(e,null,!0)}static deserialize(e){return e==null?void 0:this._parser.parse(e)}};Yr._parser=new Ls({regexParsingWithErrorRecovery:!1});let B=Yr;function lh(r,e){const t=r?r.substituteConstants():void 0,i=e?e.substituteConstants():void 0;return!t&&!i?!0:!t||!i?!1:t.equals(i)}function Ci(r,e){return r.cmp(e)}const In=class In{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return re.INSTANCE}};In.INSTANCE=new In;let ee=In;const En=class En{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return ee.INSTANCE}};En.INSTANCE=new En;let re=En;class Bt{static create(e,t=null){const i=X.get(e);return typeof i=="boolean"?i?re.INSTANCE:ee.INSTANCE:new Bt(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=2}cmp(e){return e.type!==this.type?this.type-e.type:Ja(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=X.get(this.key);return typeof e=="boolean"?e?re.INSTANCE:ee.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=Ft.create(this.key,this)),this.negated}}class Ri{static create(e,t,i=null){if(typeof t=="boolean")return t?Bt.create(e,i):Ft.create(e,i);const n=X.get(e);return typeof n=="boolean"?t===(n?"true":"false")?re.INSTANCE:ee.INSTANCE:new Ri(e,t,i)}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=4}cmp(e){return e.type!==this.type?this.type-e.type:At(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){const e=X.get(this.key);if(typeof e=="boolean"){const t=e?"true":"false";return this.value===t?re.INSTANCE:ee.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Wn.create(this.key,this.value,this)),this.negated}}class Pn{static create(e,t){return new Pn(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}cmp(e){return e.type!==this.type?this.type-e.type:At(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.includes(i):typeof i=="string"&&typeof t=="object"&&t!==null?eh.call(t,i):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=Vn.create(this.key,this.valueKey)),this.negated}}class Vn{static create(e,t){return new Vn(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=11,this._negated=Pn.create(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type?this._negated.equals(e._negated):!1}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class Wn{static create(e,t,i=null){if(typeof t=="boolean")return t?Ft.create(e,i):Bt.create(e,i);const n=X.get(e);return typeof n=="boolean"?t===(n?"true":"false")?ee.INSTANCE:re.INSTANCE:new Wn(e,t,i)}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=5}cmp(e){return e.type!==this.type?this.type-e.type:At(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){const e=X.get(this.key);if(typeof e=="boolean"){const t=e?"true":"false";return this.value===t?ee.INSTANCE:re.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Ri.create(this.key,this.value,this)),this.negated}}class Ft{static create(e,t=null){const i=X.get(e);return typeof i=="boolean"?i?ee.INSTANCE:re.INSTANCE:new Ft(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=3}cmp(e){return e.type!==this.type?this.type-e.type:Ja(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=X.get(this.key);return typeof e=="boolean"?e?ee.INSTANCE:re.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Bt.create(this.key,this)),this.negated}}function $n(r,e){if(typeof r=="string"){const t=parseFloat(r);isNaN(t)||(r=t)}return typeof r=="string"||typeof r=="number"?e(r):ee.INSTANCE}class qn{static create(e,t,i=null){return $n(t,n=>new qn(e,n,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=12}cmp(e){return e.type!==this.type?this.type-e.type:At(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Gn.create(this.key,this.value,this)),this.negated}}class Un{static create(e,t,i=null){return $n(t,n=>new Un(e,n,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=13}cmp(e){return e.type!==this.type?this.type-e.type:At(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=jn.create(this.key,this.value,this)),this.negated}}class jn{static create(e,t,i=null){return $n(t,n=>new jn(e,n,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=14}cmp(e){return e.type!==this.type?this.type-e.type:At(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Un.create(this.key,this.value,this)),this.negated}}class Gn{static create(e,t,i=null){return $n(t,n=>new Gn(e,n,i))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=15}cmp(e){return e.type!==this.type?this.type-e.type:At(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=qn.create(this.key,this.value,this)),this.negated}}class Bi{static create(e,t){return new Bi(e,t)}constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.key);return this.regexp?this.regexp.test(t):!1}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Tr.create(this)),this.negated}}class Tr{static create(e){return new Tr(e)}constructor(e){this._actual=e,this.type=8}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}function Ya(r){let e=null;for(let t=0,i=r.length;t<i;t++){const n=r[t].substituteConstants();if(r[t]!==n&&e===null){e=[];for(let s=0;s<t;s++)e[s]=r[s]}e!==null&&(e[t]=n)}return e===null?r:e}class mt{static create(e,t,i){return mt._normalizeArr(e,t,i)}constructor(e,t){this.expr=e,this.negated=t,this.type=6}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const n=Ci(this.expr[t],e.expr[t]);if(n!==0)return n}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=Ya(this.expr);return e===this.expr?this:mt.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t,i){const n=[];let s=!1;for(const o of e)if(o){if(o.type===1){s=!0;continue}if(o.type===0)return ee.INSTANCE;if(o.type===6){n.push(...o.expr);continue}n.push(o)}if(n.length===0&&s)return re.INSTANCE;if(n.length!==0){if(n.length===1)return n[0];n.sort(Ci);for(let o=1;o<n.length;o++)n[o-1].equals(n[o])&&(n.splice(o,1),o--);if(n.length===1)return n[0];for(;n.length>1;){const o=n[n.length-1];if(o.type!==9)break;n.pop();const a=n.pop(),u=n.length===0,h=Pe.create(o.expr.map(d=>mt.create([d,a],null,i)),null,u);h&&(n.push(h),n.sort(Ci))}if(n.length===1)return n[0];if(i){for(let o=0;o<n.length;o++)for(let a=o+1;a<n.length;a++)if(n[o].negate().equals(n[a]))return ee.INSTANCE;if(n.length===1)return n[0]}return new mt(n,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());this.negated=Pe.create(e,this,!0)}return this.negated}}class Pe{static create(e,t,i){return Pe._normalizeArr(e,t,i)}constructor(e,t){this.expr=e,this.negated=t,this.type=9}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const n=Ci(this.expr[t],e.expr[t]);if(n!==0)return n}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=Ya(this.expr);return e===this.expr?this:Pe.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,i){let n=[],s=!1;if(e){for(let o=0,a=e.length;o<a;o++){const u=e[o];if(u){if(u.type===0){s=!0;continue}if(u.type===1)return re.INSTANCE;if(u.type===9){n=n.concat(u.expr);continue}n.push(u)}}if(n.length===0&&s)return ee.INSTANCE;n.sort(Ci)}if(n.length!==0){if(n.length===1)return n[0];for(let o=1;o<n.length;o++)n[o-1].equals(n[o])&&(n.splice(o,1),o--);if(n.length===1)return n[0];if(i){for(let o=0;o<n.length;o++)for(let a=o+1;a<n.length;a++)if(n[o].negate().equals(n[a]))return re.INSTANCE;if(n.length===1)return n[0]}return new Pe(n,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());for(;e.length>1;){const t=e.shift(),i=e.shift(),n=[];for(const s of ho(t))for(const o of ho(i))n.push(mt.create([s,o],null,!1));e.unshift(Pe.create(n,null,!1))}this.negated=Pe.create(e,this,!0)}return this.negated}}const zt=class zt extends Bt{static all(){return zt._info.values()}constructor(e,t,i){super(e,null),this._defaultValue=t,typeof i=="object"?zt._info.push({...i,key:e}):i!==!0&&zt._info.push({key:e,description:i,type:t!=null?typeof t:void 0})}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return Ri.create(this.key,e)}};zt._info=[];let E=zt;const $=R("contextKeyService");function Ja(r,e){return r<e?-1:r>e?1:0}function At(r,e,t,i){return r<t?-1:r>t?1:e<i?-1:e>i?1:0}function Os(r,e){if(r.type===0||e.type===1)return!0;if(r.type===9)return e.type===9?uo(r.expr,e.expr):!1;if(e.type===9){for(const t of e.expr)if(Os(r,t))return!0;return!1}if(r.type===6){if(e.type===6)return uo(e.expr,r.expr);for(const t of r.expr)if(Os(t,e))return!0;return!1}return r.equals(e)}function uo(r,e){let t=0,i=0;for(;t<r.length&&i<e.length;){const n=r[t].cmp(e[i]);if(n<0)return!1;n===0&&t++,i++}return t===r.length}function ho(r){return r.type===9?r.expr:[r]}class uh{constructor(){this.data=new Map}add(e,t){gs(tn(e)),gs(ze(t)),gs(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}}const oe=new uh;class Br{constructor(){this._coreKeybindings=new Rn,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(pt===1){if(e&&e.win)return e.win}else if(pt===2){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const t=Br.bindToCurrentPlatform(e),i=new W;if(t&&t.primary){const n=eo(t.primary,pt);n&&i.add(this._registerDefaultKeybinding(n,e.id,e.args,e.weight,0,e.when))}if(t&&Array.isArray(t.secondary))for(let n=0,s=t.secondary.length;n<s;n++){const o=t.secondary[n],a=eo(o,pt);a&&i.add(this._registerDefaultKeybinding(a,e.id,e.args,e.weight,-n-1,e.when))}return i}registerCommandAndKeybindingRule(e){return Kn(this.registerKeybindingRule(e),nt.registerCommand(e))}_registerDefaultKeybinding(e,t,i,n,s,o){const a=this._coreKeybindings.push({keybinding:e,command:t,commandArgs:i,when:o,weight1:n,weight2:s,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,be(()=>{a(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(dh)),this._cachedMergedKeybindings.slice(0)}}const ni=new Br,hh={EditorModes:"platform.keybindingsRegistry"};oe.add(hh.EditorModes,ni);function dh(r,e){if(r.weight1!==e.weight1)return r.weight1-e.weight1;if(r.command&&e.command){if(r.command<e.command)return-1;if(r.command>e.command)return 1}return r.weight2-e.weight2}var gh=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},go=function(r,e){return function(t,i){e(t,i,r)}},sn;function vi(r){return r.command!==void 0}function fh(r){return r.submenu!==void 0}const l=class l{constructor(e){if(l._instances.has(e))throw new TypeError(`MenuId with identifier '${e}' already exists. Use MenuId.for(ident) or a unique identifier`);l._instances.set(e,this),this.id=e}};l._instances=new Map,l.CommandPalette=new l("CommandPalette"),l.DebugBreakpointsContext=new l("DebugBreakpointsContext"),l.DebugCallStackContext=new l("DebugCallStackContext"),l.DebugConsoleContext=new l("DebugConsoleContext"),l.DebugVariablesContext=new l("DebugVariablesContext"),l.NotebookVariablesContext=new l("NotebookVariablesContext"),l.DebugHoverContext=new l("DebugHoverContext"),l.DebugWatchContext=new l("DebugWatchContext"),l.DebugToolBar=new l("DebugToolBar"),l.DebugToolBarStop=new l("DebugToolBarStop"),l.DebugCallStackToolbar=new l("DebugCallStackToolbar"),l.DebugCreateConfiguration=new l("DebugCreateConfiguration"),l.EditorContext=new l("EditorContext"),l.SimpleEditorContext=new l("SimpleEditorContext"),l.EditorContent=new l("EditorContent"),l.EditorLineNumberContext=new l("EditorLineNumberContext"),l.EditorContextCopy=new l("EditorContextCopy"),l.EditorContextPeek=new l("EditorContextPeek"),l.EditorContextShare=new l("EditorContextShare"),l.EditorTitle=new l("EditorTitle"),l.EditorTitleRun=new l("EditorTitleRun"),l.EditorTitleContext=new l("EditorTitleContext"),l.EditorTitleContextShare=new l("EditorTitleContextShare"),l.EmptyEditorGroup=new l("EmptyEditorGroup"),l.EmptyEditorGroupContext=new l("EmptyEditorGroupContext"),l.EditorTabsBarContext=new l("EditorTabsBarContext"),l.EditorTabsBarShowTabsSubmenu=new l("EditorTabsBarShowTabsSubmenu"),l.EditorTabsBarShowTabsZenModeSubmenu=new l("EditorTabsBarShowTabsZenModeSubmenu"),l.EditorActionsPositionSubmenu=new l("EditorActionsPositionSubmenu"),l.ExplorerContext=new l("ExplorerContext"),l.ExplorerContextShare=new l("ExplorerContextShare"),l.ExtensionContext=new l("ExtensionContext"),l.GlobalActivity=new l("GlobalActivity"),l.CommandCenter=new l("CommandCenter"),l.CommandCenterCenter=new l("CommandCenterCenter"),l.LayoutControlMenuSubmenu=new l("LayoutControlMenuSubmenu"),l.LayoutControlMenu=new l("LayoutControlMenu"),l.MenubarMainMenu=new l("MenubarMainMenu"),l.MenubarAppearanceMenu=new l("MenubarAppearanceMenu"),l.MenubarDebugMenu=new l("MenubarDebugMenu"),l.MenubarEditMenu=new l("MenubarEditMenu"),l.MenubarCopy=new l("MenubarCopy"),l.MenubarFileMenu=new l("MenubarFileMenu"),l.MenubarGoMenu=new l("MenubarGoMenu"),l.MenubarHelpMenu=new l("MenubarHelpMenu"),l.MenubarLayoutMenu=new l("MenubarLayoutMenu"),l.MenubarNewBreakpointMenu=new l("MenubarNewBreakpointMenu"),l.PanelAlignmentMenu=new l("PanelAlignmentMenu"),l.PanelPositionMenu=new l("PanelPositionMenu"),l.ActivityBarPositionMenu=new l("ActivityBarPositionMenu"),l.MenubarPreferencesMenu=new l("MenubarPreferencesMenu"),l.MenubarRecentMenu=new l("MenubarRecentMenu"),l.MenubarSelectionMenu=new l("MenubarSelectionMenu"),l.MenubarShare=new l("MenubarShare"),l.MenubarSwitchEditorMenu=new l("MenubarSwitchEditorMenu"),l.MenubarSwitchGroupMenu=new l("MenubarSwitchGroupMenu"),l.MenubarTerminalMenu=new l("MenubarTerminalMenu"),l.MenubarViewMenu=new l("MenubarViewMenu"),l.MenubarHomeMenu=new l("MenubarHomeMenu"),l.OpenEditorsContext=new l("OpenEditorsContext"),l.OpenEditorsContextShare=new l("OpenEditorsContextShare"),l.ProblemsPanelContext=new l("ProblemsPanelContext"),l.SCMInputBox=new l("SCMInputBox"),l.SCMChangesSeparator=new l("SCMChangesSeparator"),l.SCMChangesContext=new l("SCMChangesContext"),l.SCMIncomingChanges=new l("SCMIncomingChanges"),l.SCMIncomingChangesContext=new l("SCMIncomingChangesContext"),l.SCMIncomingChangesSetting=new l("SCMIncomingChangesSetting"),l.SCMOutgoingChanges=new l("SCMOutgoingChanges"),l.SCMOutgoingChangesContext=new l("SCMOutgoingChangesContext"),l.SCMOutgoingChangesSetting=new l("SCMOutgoingChangesSetting"),l.SCMIncomingChangesAllChangesContext=new l("SCMIncomingChangesAllChangesContext"),l.SCMIncomingChangesHistoryItemContext=new l("SCMIncomingChangesHistoryItemContext"),l.SCMOutgoingChangesAllChangesContext=new l("SCMOutgoingChangesAllChangesContext"),l.SCMOutgoingChangesHistoryItemContext=new l("SCMOutgoingChangesHistoryItemContext"),l.SCMChangeContext=new l("SCMChangeContext"),l.SCMResourceContext=new l("SCMResourceContext"),l.SCMResourceContextShare=new l("SCMResourceContextShare"),l.SCMResourceFolderContext=new l("SCMResourceFolderContext"),l.SCMResourceGroupContext=new l("SCMResourceGroupContext"),l.SCMSourceControl=new l("SCMSourceControl"),l.SCMSourceControlInline=new l("SCMSourceControlInline"),l.SCMSourceControlTitle=new l("SCMSourceControlTitle"),l.SCMHistoryTitle=new l("SCMHistoryTitle"),l.SCMTitle=new l("SCMTitle"),l.SearchContext=new l("SearchContext"),l.SearchActionMenu=new l("SearchActionContext"),l.StatusBarWindowIndicatorMenu=new l("StatusBarWindowIndicatorMenu"),l.StatusBarRemoteIndicatorMenu=new l("StatusBarRemoteIndicatorMenu"),l.StickyScrollContext=new l("StickyScrollContext"),l.TestItem=new l("TestItem"),l.TestItemGutter=new l("TestItemGutter"),l.TestProfilesContext=new l("TestProfilesContext"),l.TestMessageContext=new l("TestMessageContext"),l.TestMessageContent=new l("TestMessageContent"),l.TestPeekElement=new l("TestPeekElement"),l.TestPeekTitle=new l("TestPeekTitle"),l.TestCallStack=new l("TestCallStack"),l.TouchBarContext=new l("TouchBarContext"),l.TitleBarContext=new l("TitleBarContext"),l.TitleBarTitleContext=new l("TitleBarTitleContext"),l.TunnelContext=new l("TunnelContext"),l.TunnelPrivacy=new l("TunnelPrivacy"),l.TunnelProtocol=new l("TunnelProtocol"),l.TunnelPortInline=new l("TunnelInline"),l.TunnelTitle=new l("TunnelTitle"),l.TunnelLocalAddressInline=new l("TunnelLocalAddressInline"),l.TunnelOriginInline=new l("TunnelOriginInline"),l.ViewItemContext=new l("ViewItemContext"),l.ViewContainerTitle=new l("ViewContainerTitle"),l.ViewContainerTitleContext=new l("ViewContainerTitleContext"),l.ViewTitle=new l("ViewTitle"),l.ViewTitleContext=new l("ViewTitleContext"),l.CommentEditorActions=new l("CommentEditorActions"),l.CommentThreadTitle=new l("CommentThreadTitle"),l.CommentThreadActions=new l("CommentThreadActions"),l.CommentThreadAdditionalActions=new l("CommentThreadAdditionalActions"),l.CommentThreadTitleContext=new l("CommentThreadTitleContext"),l.CommentThreadCommentContext=new l("CommentThreadCommentContext"),l.CommentTitle=new l("CommentTitle"),l.CommentActions=new l("CommentActions"),l.CommentsViewThreadActions=new l("CommentsViewThreadActions"),l.InteractiveToolbar=new l("InteractiveToolbar"),l.InteractiveCellTitle=new l("InteractiveCellTitle"),l.InteractiveCellDelete=new l("InteractiveCellDelete"),l.InteractiveCellExecute=new l("InteractiveCellExecute"),l.InteractiveInputExecute=new l("InteractiveInputExecute"),l.InteractiveInputConfig=new l("InteractiveInputConfig"),l.ReplInputExecute=new l("ReplInputExecute"),l.IssueReporter=new l("IssueReporter"),l.NotebookToolbar=new l("NotebookToolbar"),l.NotebookStickyScrollContext=new l("NotebookStickyScrollContext"),l.NotebookCellTitle=new l("NotebookCellTitle"),l.NotebookCellDelete=new l("NotebookCellDelete"),l.NotebookCellInsert=new l("NotebookCellInsert"),l.NotebookCellBetween=new l("NotebookCellBetween"),l.NotebookCellListTop=new l("NotebookCellTop"),l.NotebookCellExecute=new l("NotebookCellExecute"),l.NotebookCellExecuteGoTo=new l("NotebookCellExecuteGoTo"),l.NotebookCellExecutePrimary=new l("NotebookCellExecutePrimary"),l.NotebookDiffCellInputTitle=new l("NotebookDiffCellInputTitle"),l.NotebookDiffCellMetadataTitle=new l("NotebookDiffCellMetadataTitle"),l.NotebookDiffCellOutputsTitle=new l("NotebookDiffCellOutputsTitle"),l.NotebookOutputToolbar=new l("NotebookOutputToolbar"),l.NotebookOutlineFilter=new l("NotebookOutlineFilter"),l.NotebookOutlineActionMenu=new l("NotebookOutlineActionMenu"),l.NotebookEditorLayoutConfigure=new l("NotebookEditorLayoutConfigure"),l.NotebookKernelSource=new l("NotebookKernelSource"),l.BulkEditTitle=new l("BulkEditTitle"),l.BulkEditContext=new l("BulkEditContext"),l.TimelineItemContext=new l("TimelineItemContext"),l.TimelineTitle=new l("TimelineTitle"),l.TimelineTitleContext=new l("TimelineTitleContext"),l.TimelineFilterSubMenu=new l("TimelineFilterSubMenu"),l.AccountsContext=new l("AccountsContext"),l.SidebarTitle=new l("SidebarTitle"),l.PanelTitle=new l("PanelTitle"),l.AuxiliaryBarTitle=new l("AuxiliaryBarTitle"),l.AuxiliaryBarHeader=new l("AuxiliaryBarHeader"),l.TerminalInstanceContext=new l("TerminalInstanceContext"),l.TerminalEditorInstanceContext=new l("TerminalEditorInstanceContext"),l.TerminalNewDropdownContext=new l("TerminalNewDropdownContext"),l.TerminalTabContext=new l("TerminalTabContext"),l.TerminalTabEmptyAreaContext=new l("TerminalTabEmptyAreaContext"),l.TerminalStickyScrollContext=new l("TerminalStickyScrollContext"),l.WebviewContext=new l("WebviewContext"),l.InlineCompletionsActions=new l("InlineCompletionsActions"),l.InlineEditsActions=new l("InlineEditsActions"),l.InlineEditActions=new l("InlineEditActions"),l.NewFile=new l("NewFile"),l.MergeInput1Toolbar=new l("MergeToolbar1Toolbar"),l.MergeInput2Toolbar=new l("MergeToolbar2Toolbar"),l.MergeBaseToolbar=new l("MergeBaseToolbar"),l.MergeInputResultToolbar=new l("MergeToolbarResultToolbar"),l.InlineSuggestionToolbar=new l("InlineSuggestionToolbar"),l.InlineEditToolbar=new l("InlineEditToolbar"),l.ChatContext=new l("ChatContext"),l.ChatCodeBlock=new l("ChatCodeblock"),l.ChatCompareBlock=new l("ChatCompareBlock"),l.ChatMessageTitle=new l("ChatMessageTitle"),l.ChatExecute=new l("ChatExecute"),l.ChatExecuteSecondary=new l("ChatExecuteSecondary"),l.ChatInputSide=new l("ChatInputSide"),l.AccessibleView=new l("AccessibleView"),l.MultiDiffEditorFileToolbar=new l("MultiDiffEditorFileToolbar"),l.DiffEditorHunkToolbar=new l("DiffEditorHunkToolbar"),l.DiffEditorSelectionToolbar=new l("DiffEditorSelectionToolbar");let kt=l;const zn=R("menuService"),Ii=class Ii{static for(e){let t=this._all.get(e);return t||(t=new Ii(e),this._all.set(e,t)),t}static merge(e){const t=new Set;for(const i of e)i instanceof Ii&&t.add(i.id);return t}constructor(e){this.id=e,this.has=t=>t===e}};Ii._all=new Map;let dt=Ii;const yt=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new vl({merge:dt.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(r){return this._commands.set(r.id,r),this._onDidChangeMenu.fire(dt.for(kt.CommandPalette)),be(()=>{this._commands.delete(r.id)&&this._onDidChangeMenu.fire(dt.for(kt.CommandPalette))})}getCommand(r){return this._commands.get(r)}getCommands(){const r=new Map;return this._commands.forEach((e,t)=>r.set(t,e)),r}appendMenuItem(r,e){let t=this._menuItems.get(r);t||(t=new Rn,this._menuItems.set(r,t));const i=t.push(e);return this._onDidChangeMenu.fire(dt.for(r)),be(()=>{i(),this._onDidChangeMenu.fire(dt.for(r))})}appendMenuItems(r){const e=new W;for(const{id:t,item:i}of r)e.add(this.appendMenuItem(t,i));return e}getMenuItems(r){let e;return this._menuItems.has(r)?e=[...this._menuItems.get(r)]:e=[],r===kt.CommandPalette&&this._appendImplicitItems(e),e}_appendImplicitItems(r){const e=new Set;for(const t of r)vi(t)&&(e.add(t.command.id),t.alt&&e.add(t.alt.id));this._commands.forEach((t,i)=>{e.has(i)||r.push({command:t})})}};class Si extends Ta{constructor(e,t,i){super(`submenuitem.${e.submenu.id}`,typeof e.title=="string"?e.title:e.title.value,i,"submenu"),this.item=e,this.hideActions=t}}let Ve=sn=class{static label(e,t){return t!=null&&t.renderShortTitle&&e.shortTitle?typeof e.shortTitle=="string"?e.shortTitle:e.shortTitle.value:typeof e.title=="string"?e.title:e.title.value}constructor(e,t,i,n,s,o,a){var h;this.hideActions=n,this.menuKeybinding=s,this._commandService=a,this.id=e.id,this.label=sn.label(e,i),this.tooltip=(typeof e.tooltip=="string"?e.tooltip:(h=e.tooltip)==null?void 0:h.value)??"",this.enabled=!e.precondition||o.contextMatchesRules(e.precondition),this.checked=void 0;let u;if(e.toggled){const d=e.toggled.condition?e.toggled:{condition:e.toggled};this.checked=o.contextMatchesRules(d.condition),this.checked&&d.tooltip&&(this.tooltip=typeof d.tooltip=="string"?d.tooltip:d.tooltip.value),this.checked&&U.isThemeIcon(d.icon)&&(u=d.icon),this.checked&&d.title&&(this.label=typeof d.title=="string"?d.title:d.title.value)}u||(u=U.isThemeIcon(e.icon)?e.icon:void 0),this.item=e,this.alt=t?new sn(t,void 0,i,n,void 0,o,a):void 0,this._options=i,this.class=u&&U.asClassName(u)}run(...e){var i,n;let t=[];return(i=this._options)!=null&&i.arg&&(t=[...t,this._options.arg]),(n=this._options)!=null&&n.shouldForwardArgs&&(t=[...t,...e]),this._commandService.executeCommand(this.id,...t)}};Ve=sn=gh([go(5,$),go(6,rt)],Ve);class Mi{constructor(e){this.desc=e}}function Ki(r){const e=[],t=new r,{f1:i,menu:n,keybinding:s,...o}=t.desc;if(nt.getCommand(o.id))throw new Error(`Cannot register two commands with the same id: ${o.id}`);if(e.push(nt.registerCommand({id:o.id,handler:(a,...u)=>t.run(a,...u),metadata:o.metadata})),Array.isArray(n))for(const a of n)e.push(yt.appendMenuItem(a.id,{command:{...o,precondition:a.precondition===null?void 0:o.precondition},...a}));else n&&e.push(yt.appendMenuItem(n.id,{command:{...o,precondition:n.precondition===null?void 0:o.precondition},...n}));if(i&&(e.push(yt.appendMenuItem(kt.CommandPalette,{command:o,when:o.precondition})),e.push(yt.addCommand(o))),Array.isArray(s))for(const a of s)e.push(ni.registerKeybindingRule({...a,id:o.id,when:o.precondition?B.and(o.precondition,a.when):a.when}));else s&&e.push(ni.registerKeybindingRule({...s,id:o.id,when:o.precondition?B.and(o.precondition,s.when):s.when}));return{dispose(){Nn(e)}}}const Qn=R("telemetryService"),Xa=R("logService");var ne;(function(r){r[r.Off=0]="Off",r[r.Trace=1]="Trace",r[r.Debug=2]="Debug",r[r.Info=3]="Info",r[r.Warning=4]="Warning",r[r.Error=5]="Error"})(ne||(ne={}));const Za=ne.Info;class ec extends K{constructor(){super(...arguments),this.level=Za,this._onDidChangeLogLevel=this._register(new I),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(e){return this.level!==ne.Off&&this.level<=e}}class Jf extends ec{constructor(e=Za,t=!0){super(),this.useColors=t,this.setLevel(e)}trace(e,...t){this.checkLogLevel(ne.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",e,...t):console.log(e,...t))}debug(e,...t){this.checkLogLevel(ne.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",e,...t):console.log(e,...t))}info(e,...t){this.checkLogLevel(ne.Info)&&(this.useColors?console.log("%c INFO","color: #33f",e,...t):console.log(e,...t))}warn(e,...t){this.checkLogLevel(ne.Warning)&&(this.useColors?console.log("%c WARN","color: #993",e,...t):console.log(e,...t))}error(e,...t){this.checkLogLevel(ne.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",e,...t):console.error(e,...t))}}class ph extends ec{constructor(e){super(),this.loggers=e,e.length&&this.setLevel(e[0].getLevel())}setLevel(e){for(const t of this.loggers)t.setLevel(e);super.setLevel(e)}trace(e,...t){for(const i of this.loggers)i.trace(e,...t)}debug(e,...t){for(const i of this.loggers)i.debug(e,...t)}info(e,...t){for(const i of this.loggers)i.info(e,...t)}warn(e,...t){for(const i of this.loggers)i.warn(e,...t)}error(e,...t){for(const i of this.loggers)i.error(e,...t)}dispose(){for(const e of this.loggers)e.dispose();super.dispose()}}function mh(r){switch(r){case ne.Trace:return"trace";case ne.Debug:return"debug";case ne.Info:return"info";case ne.Warning:return"warn";case ne.Error:return"error";case ne.Off:return"off"}}new E("logLevel",mh(ne.Info));const te=R("configurationService");function Rs(r,e){const t=Object.create(null);for(const i in r)tc(t,i,r[i],e);return t}function tc(r,e,t,i){const n=e.split("."),s=n.pop();let o=r;for(let a=0;a<n.length;a++){const u=n[a];let h=o[u];switch(typeof h){case"undefined":h=o[u]=Object.create(null);break;case"object":if(h===null){i(`Ignoring ${e} as ${n.slice(0,a+1).join(".")} is null`);return}break;default:i(`Ignoring ${e} as ${n.slice(0,a+1).join(".")} is ${JSON.stringify(h)}`);return}o=h}if(typeof o=="object"&&o!==null)try{o[s]=t}catch{i(`Ignoring ${e} as ${n.join(".")} is ${JSON.stringify(o)}`)}else i(`Ignoring ${e} as ${n.join(".")} is ${JSON.stringify(o)}`)}function yh(r,e){const t=e.split(".");ic(r,t)}function ic(r,e){const t=e.shift();if(e.length===0){delete r[t];return}if(Object.keys(r).indexOf(t)!==-1){const i=r[t];typeof i=="object"&&!Array.isArray(i)&&(ic(i,e),Object.keys(i).length===0&&delete r[t])}}function fo(r,e,t){function i(o,a){let u=o;for(const h of a){if(typeof u!="object"||u===null)return;u=u[h]}return u}const n=e.split("."),s=i(r,n);return typeof s>"u"?t:s}function bh(r){return r.replace(/[\[\]]/g,"")}class Ge{constructor(e,t=[],i=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}}const nc=[];function sc(r,e,t){e instanceof Ge||(e=new Ge(e,[],!!t)),nc.push([r,e])}function Xf(){return nc}const Yn={JSONContribution:"base.contributions.json"};function kh(r){return r.length>0&&r.charAt(r.length-1)==="#"?r.substring(0,r.length-1):r}class Ch{constructor(){this._onDidChangeSchema=new I,this.schemasById={}}registerSchema(e,t){this.schemasById[kh(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}}const vh=new Ch;oe.add(Yn.JSONContribution,vh);const Jn={Configuration:"base.contributions.configuration"},zi="vscode://schemas/settings/resourceLanguage",po=oe.as(Yn.JSONContribution);class Sh{constructor(){this.registeredConfigurationDefaults=[],this.overrideIdentifiers=new Set,this._onDidSchemaChange=new I,this._onDidUpdateConfiguration=new I,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:c("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},po.registerSchema(zi,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const i=new Set;this.doRegisterConfigurations(e,t,i),po.registerSchema(zi,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i})}registerDefaultConfigurations(e){const t=new Set;this.doRegisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doRegisterDefaultConfigurations(e,t){this.registeredConfigurationDefaults.push(...e);const i=[];for(const{overrides:n,source:s}of e)for(const o in n){t.add(o);const a=this.configurationDefaultsOverrides.get(o)??this.configurationDefaultsOverrides.set(o,{configurationDefaultOverrides:[]}).get(o),u=n[o];if(a.configurationDefaultOverrides.push({value:u,source:s}),st.test(o)){const h=this.mergeDefaultConfigurationsForOverrideIdentifier(o,u,s,a.configurationDefaultOverrideValue);if(!h)continue;a.configurationDefaultOverrideValue=h,this.updateDefaultOverrideProperty(o,h,s),i.push(...un(o))}else{const h=this.mergeDefaultConfigurationsForConfigurationProperty(o,u,s,a.configurationDefaultOverrideValue);if(!h)continue;a.configurationDefaultOverrideValue=h;const d=this.configurationProperties[o];d&&(this.updatePropertyDefaultValue(o,d),this.updateSchema(o,d))}}this.doRegisterOverrideIdentifiers(i)}updateDefaultOverrideProperty(e,t,i){const n={type:"object",default:t.value,description:c("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",bh(e)),$ref:zi,defaultDefaultValue:t.value,source:i,defaultValueSource:i};this.configurationProperties[e]=n,this.defaultLanguageConfigurationOverridesNode.properties[e]=n}mergeDefaultConfigurationsForOverrideIdentifier(e,t,i,n){const s=(n==null?void 0:n.value)||{},o=(n==null?void 0:n.source)??new Map;if(!(o instanceof Map)){console.error("objectConfigurationSources is not a Map");return}for(const a of Object.keys(t)){const u=t[a];if(ze(u)&&(Ui(s[a])||ze(s[a]))){if(s[a]={...s[a]??{},...u},i)for(const d in u)o.set(`${a}.${d}`,i)}else s[a]=u,i?o.set(a,i):o.delete(a)}return{value:s,source:o}}mergeDefaultConfigurationsForConfigurationProperty(e,t,i,n){const s=this.configurationProperties[e],o=(n==null?void 0:n.value)??(s==null?void 0:s.defaultDefaultValue);let a=i;if(ze(t)&&(s!==void 0&&s.type==="object"||s===void 0&&(Ui(o)||ze(o)))){if(a=(n==null?void 0:n.source)??new Map,!(a instanceof Map)){console.error("defaultValueSource is not a Map");return}for(const h in t)i&&a.set(`${e}.${h}`,i);t={...ze(o)?o:{},...t}}return{value:t,source:a}}registerOverrideIdentifiers(e){this.doRegisterOverrideIdentifiers(e),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t,i){e.forEach(n=>{this.validateAndRegisterProperties(n,t,n.extensionInfo,n.restrictedProperties,void 0,i),this.configurationContributors.push(n),this.registerJSONConfiguration(n)})}validateAndRegisterProperties(e,t=!0,i,n,s=3,o){var h;s=nn(e.scope)?s:e.scope;const a=e.properties;if(a)for(const d in a){const g=a[d];if(t&&xh(d,g)){delete a[d];continue}if(g.source=i,g.defaultDefaultValue=a[d].default,this.updatePropertyDefaultValue(d,g),st.test(d)?g.scope=void 0:(g.scope=nn(g.scope)?s:g.scope,g.restricted=nn(g.restricted)?!!(n!=null&&n.includes(d)):g.restricted),a[d].hasOwnProperty("included")&&!a[d].included){this.excludedConfigurationProperties[d]=a[d],delete a[d];continue}else this.configurationProperties[d]=a[d],(h=a[d].policy)!=null&&h.name&&this.policyConfigurations.set(a[d].policy.name,d);!a[d].deprecationMessage&&a[d].markdownDeprecationMessage&&(a[d].deprecationMessage=a[d].markdownDeprecationMessage),o.add(d)}const u=e.allOf;if(u)for(const d of u)this.validateAndRegisterProperties(d,t,i,n,s,o)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(e){const t=i=>{const n=i.properties;if(n)for(const o in n)this.updateSchema(o,n[o]);const s=i.allOf;s==null||s.forEach(t)};t(e)}updateSchema(e,t){switch(t.scope){case 1:break;case 2:break;case 6:break;case 3:break;case 4:break;case 5:this.resourceLanguageSettingsSchema.properties[e]=t;break}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,i={type:"object",description:c("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:c("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:zi};this.updatePropertyDefaultValue(t,i)}}registerOverridePropertyPatternKey(){c("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),c("overrideSettings.errorMessage","This setting does not support per-language configuration."),this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){var o;const i=(o=this.configurationDefaultsOverrides.get(e))==null?void 0:o.configurationDefaultOverrideValue;let n,s;i&&(!t.disallowConfigurationDefault||!i.source)&&(n=i.value,s=i.source),Ui(n)&&(n=t.defaultDefaultValue,s=void 0),Ui(n)&&(n=wh(t.type)),t.default=n,t.defaultValueSource=s}}const rc="\\[([^\\]]+)\\]",mo=new RegExp(rc,"g"),_h=`^(${rc})+$`,st=new RegExp(_h);function un(r){const e=[];if(st.test(r)){let t=mo.exec(r);for(;t!=null&&t.length;){const i=t[1].trim();i&&e.push(i),t=mo.exec(r)}}return Ts(e)}function wh(r){switch(Array.isArray(r)?r[0]:r){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const rn=new Sh;oe.add(Jn.Configuration,rn);function xh(r,e){var t,i,n,s;return r.trim()?st.test(r)?c("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",r):rn.getConfigurationProperties()[r]!==void 0?c("config.property.duplicate","Cannot register '{0}'. This property is already registered.",r):(t=e.policy)!=null&&t.name&&rn.getPolicyConfigurations().get((i=e.policy)==null?void 0:i.name)!==void 0?c("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",r,(n=e.policy)==null?void 0:n.name,rn.getPolicyConfigurations().get((s=e.policy)==null?void 0:s.name)):null:c("config.property.empty","Cannot register an empty property")}var We;(function(r){r.DARK="dark",r.LIGHT="light",r.HIGH_CONTRAST_DARK="hcDark",r.HIGH_CONTRAST_LIGHT="hcLight"})(We||(We={}));function Zf(r){return r===We.HIGH_CONTRAST_DARK||r===We.HIGH_CONTRAST_LIGHT}function Fr(r){return r===We.DARK||r===We.HIGH_CONTRAST_DARK}const Xn=R("themeService");function ep(r){return{id:r}}function tp(r){switch(r){case We.DARK:return"vs-dark";case We.HIGH_CONTRAST_DARK:return"hc-black";case We.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const Dh={ThemingContribution:"base.contributions.theming"};class Ih{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new I}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),be(()=>{const t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)})}getThemingParticipants(){return this.themingParticipants}}const oc=new Ih;oe.add(Dh.ThemingContribution,oc);function ip(r){return oc.onColorThemeChange(r)}class Eh extends K{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(t=>this.onThemeChange(t)))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}const Ni=R("layoutService"),ac=R("dialogService");var np=j;const Zn=R("notificationService");class sp{}const Th=R("undoRedoService");class cc{constructor(e,t){this.resource=e,this.elements=t}}const Qt=class Qt{constructor(){this.id=Qt._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}};Qt._ID=0,Qt.None=new Qt;let Ms=Qt;const Yt=class Yt{constructor(){this.id=Yt._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}};Yt._ID=0,Yt.None=new Yt;let gt=Yt;var Bh=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},yo=function(r,e){return function(t,i){e(t,i,r)}};function Qi(r){return r.scheme===Pt.file?r.fsPath:r.path}let lc=0;class Yi{constructor(e,t,i,n,s,o,a){this.id=++lc,this.type=0,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabel=t,this.strResource=i,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=n,this.groupOrder=s,this.sourceId=o,this.sourceOrder=a,this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class bo{constructor(e,t){this.resourceLabel=e,this.reason=t}}class ko{constructor(){this.elements=new Map}createMessage(){const e=[],t=[];for(const[,n]of this.elements)(n.reason===0?e:t).push(n.resourceLabel);const i=[];return e.length>0&&i.push(c({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",e.join(", "))),t.length>0&&i.push(c({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",t.join(", "))),i.join(`
`)}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}}class Fh{constructor(e,t,i,n,s,o,a){this.id=++lc,this.type=1,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabels=t,this.strResources=i,this.groupId=n,this.groupOrder=s,this.sourceId=o,this.sourceOrder=a,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(e,t,i){this.removedResources||(this.removedResources=new ko),this.removedResources.has(t)||this.removedResources.set(t,new bo(e,i))}setValid(e,t,i){i?this.invalidatedResources&&(this.invalidatedResources.delete(t),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new ko),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new bo(e,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class uc{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const e of this._past)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);for(const e of this._future)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push(`   * [UNDO] ${this._past[t]}`);for(let t=this._future.length-1;t>=0;t--)e.push(`   * [REDO] ${this._future[t]}`);return e.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){e.type===1?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(const i of this._past)t(i.actual)&&this._setElementValidFlag(i,e);for(const i of this._future)t(i.actual)&&this._setElementValidFlag(i,e)}pushElement(e){for(const t of this._future)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(e),this.versionId++}createSnapshot(e){const t=[];for(let i=0,n=this._past.length;i<n;i++)t.push(this._past[i].id);for(let i=this._future.length-1;i>=0;i--)t.push(this._future[i].id);return new cc(e,t)}restoreSnapshot(e){const t=e.elements.length;let i=!0,n=0,s=-1;for(let a=0,u=this._past.length;a<u;a++,n++){const h=this._past[a];i&&(n>=t||h.id!==e.elements[n])&&(i=!1,s=0),!i&&h.type===1&&h.removeResource(this.resourceLabel,this.strResource,0)}let o=-1;for(let a=this._future.length-1;a>=0;a--,n++){const u=this._future[a];i&&(n>=t||u.id!==e.elements[n])&&(i=!1,o=a),!i&&u.type===1&&u.removeResource(this.resourceLabel,this.strResource,0)}s!==-1&&(this._past=this._past.slice(0,s)),o!==-1&&(this._future=this._future.slice(o+1)),this.versionId++}getElements(){const e=[],t=[];for(const i of this._past)e.push(i.actual);for(const i of this._future)t.push(i.actual);return{past:e,future:t}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let i=this._past.length-1;i>=0;i--)if(this._past[i]===e){t.has(this.strResource)?this._past[i]=t.get(this.strResource):this._past.splice(i,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let i=this._future.length-1;i>=0;i--)if(this._future[i]===e){t.has(this.strResource)?this._future[i]=t.get(this.strResource):this._future.splice(i,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}}class _s{constructor(e){this.editStacks=e,this._versionIds=[];for(let t=0,i=this.editStacks.length;t<i;t++)this._versionIds[t]=this.editStacks[t].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}}const hc=new uc("","");hc.locked=!0;let Ks=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(const t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);const t=[];for(const i of this._editStacks)t.push(i[1].toString());console.log(t.join(`
`))}pushElement(e,t=Ms.None,i=gt.None){if(e.type===0){const n=Qi(e.resource),s=this.getUriComparisonKey(e.resource);this._pushElement(new Yi(e,n,s,t.id,t.nextOrder(),i.id,i.nextOrder()))}else{const n=new Set,s=[],o=[];for(const a of e.resources){const u=Qi(a),h=this.getUriComparisonKey(a);n.has(h)||(n.add(h),s.push(u),o.push(h))}s.length===1?this._pushElement(new Yi(e,s[0],o[0],t.id,t.nextOrder(),i.id,i.nextOrder())):this._pushElement(new Fh(e,s,o,t.id,t.nextOrder(),i.id,i.nextOrder()))}}_pushElement(e){for(let t=0,i=e.strResources.length;t<i;t++){const n=e.resourceLabels[t],s=e.strResources[t];let o;this._editStacks.has(s)?o=this._editStacks.get(s):(o=new uc(n,s),this._editStacks.set(s,o)),o.pushElement(e)}}getLastElement(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){const i=this._editStacks.get(t);if(i.hasFutureElements())return null;const n=i.getClosestPastElement();return n?n.actual:null}return null}_splitPastWorkspaceElement(e,t){const i=e.actual.split(),n=new Map;for(const s of i){const o=Qi(s.resource),a=this.getUriComparisonKey(s.resource),u=new Yi(s,o,a,0,0,0,0);n.set(u.strResource,u)}for(const s of e.strResources){if(t&&t.has(s))continue;this._editStacks.get(s).splitPastWorkspaceElement(e,n)}}_splitFutureWorkspaceElement(e,t){const i=e.actual.split(),n=new Map;for(const s of i){const o=Qi(s.resource),a=this.getUriComparisonKey(s.resource),u=new Yi(s,o,a,0,0,0,0);n.set(u.strResource,u)}for(const s of e.strResources){if(t&&t.has(s))continue;this._editStacks.get(s).splitFutureWorkspaceElement(e,n)}}removeElements(e){const t=typeof e=="string"?e:this.getUriComparisonKey(e);this._editStacks.has(t)&&(this._editStacks.get(t).dispose(),this._editStacks.delete(t))}setElementsValidFlag(e,t,i){const n=this.getUriComparisonKey(e);this._editStacks.has(n)&&this._editStacks.get(n).setElementsValidFlag(t,i)}createSnapshot(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).createSnapshot(e):new cc(e,[])}restoreSnapshot(e){const t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){const i=this._editStacks.get(t);i.restoreSnapshot(e),!i.hasPastElements()&&!i.hasFutureElements()&&(i.dispose(),this._editStacks.delete(t))}}getElements(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[n,s]of this._editStacks){const o=s.getClosestPastElement();o&&o.sourceId===e&&(!t||o.sourceOrder>t.sourceOrder)&&(t=o,i=n)}return[t,i]}canUndo(e){if(e instanceof gt){const[,i]=this._findClosestUndoElementWithSource(e.id);return!!i}const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasPastElements():!1}_onError(e,t){Sl(e);for(const i of t.strResources)this.removeElements(i);this._notificationService.error(e)}_acquireLocks(e){for(const t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(const t of e.editStacks)t.locked=!0;return()=>{for(const t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,i,n,s){const o=this._acquireLocks(i);let a;try{a=t()}catch(u){return o(),n.dispose(),this._onError(u,e)}return a?a.then(()=>(o(),n.dispose(),s()),u=>(o(),n.dispose(),this._onError(u,e))):(o(),n.dispose(),s())}async _invokeWorkspacePrepare(e){if(typeof e.actual.prepareUndoRedo>"u")return K.None;const t=e.actual.prepareUndoRedo();return typeof t>"u"?K.None:t}_invokeResourcePrepare(e,t){if(e.actual.type!==1||typeof e.actual.prepareUndoRedo>"u")return t(K.None);const i=e.actual.prepareUndoRedo();return i?Ba(i)?t(i):i.then(n=>t(n)):t(K.None)}_getAffectedEditStacks(e){const t=[];for(const i of e.strResources)t.push(this._editStacks.get(i)||hc);return new _s(t)}_tryToSplitAndUndo(e,t,i,n){if(t.canSplit())return this._splitPastWorkspaceElement(t,i),this._notificationService.warn(n),new Ji(this._undo(e,0,!0));for(const s of t.strResources)this.removeElements(s);return this._notificationService.warn(n),new Ji}_checkWorkspaceUndo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,c({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,c({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const s=[];for(const a of i.editStacks)a.getClosestPastElement()!==t&&s.push(a.resourceLabel);if(s.length>0)return this._tryToSplitAndUndo(e,t,null,c({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",t.label,s.join(", ")));const o=[];for(const a of i.editStacks)a.locked&&o.push(a.resourceLabel);return o.length>0?this._tryToSplitAndUndo(e,t,null,c({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,o.join(", "))):i.isValid()?null:this._tryToSplitAndUndo(e,t,null,c({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t,i){const n=this._getAffectedEditStacks(t),s=this._checkWorkspaceUndo(e,t,n,!1);return s?s.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,n,i)}_isPartOfUndoGroup(e){if(!e.groupId)return!1;for(const[,t]of this._editStacks){const i=t.getClosestPastElement();if(i){if(i===e){const n=t.getSecondClosestPastElement();if(n&&n.groupId===e.groupId)return!0}if(i.groupId===e.groupId)return!0}}return!1}async _confirmAndExecuteWorkspaceUndo(e,t,i,n){if(t.canSplit()&&!this._isPartOfUndoGroup(t)){let a;(function(d){d[d.All=0]="All",d[d.This=1]="This",d[d.Cancel=2]="Cancel"})(a||(a={}));const{result:u}=await this._dialogService.prompt({type:j.Info,message:c("confirmWorkspace","Would you like to undo '{0}' across all files?",t.label),buttons:[{label:c({key:"ok",comment:["{0} denotes a number that is > 1, && denotes a mnemonic"]},"&&Undo in {0} Files",i.editStacks.length),run:()=>a.All},{label:c({key:"nok",comment:["&& denotes a mnemonic"]},"Undo this &&File"),run:()=>a.This}],cancelButton:{run:()=>a.Cancel}});if(u===a.Cancel)return;if(u===a.This)return this._splitPastWorkspaceElement(t,null),this._undo(e,0,!0);const h=this._checkWorkspaceUndo(e,t,i,!1);if(h)return h.returnValue;n=!0}let s;try{s=await this._invokeWorkspacePrepare(t)}catch(a){return this._onError(a,t)}const o=this._checkWorkspaceUndo(e,t,i,!0);if(o)return s.dispose(),o.returnValue;for(const a of i.editStacks)a.moveBackward(t);return this._safeInvokeWithLocks(t,()=>t.actual.undo(),i,s,()=>this._continueUndoInGroup(t.groupId,n))}_resourceUndo(e,t,i){if(!t.isValid){e.flushAllElements();return}if(e.locked){const n=c({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(n);return}return this._invokeResourcePrepare(t,n=>(e.moveBackward(t),this._safeInvokeWithLocks(t,()=>t.actual.undo(),new _s([e]),n,()=>this._continueUndoInGroup(t.groupId,i))))}_findClosestUndoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[n,s]of this._editStacks){const o=s.getClosestPastElement();o&&o.groupId===e&&(!t||o.groupOrder>t.groupOrder)&&(t=o,i=n)}return[t,i]}_continueUndoInGroup(e,t){if(!e)return;const[,i]=this._findClosestUndoElementInGroup(e);if(i)return this._undo(i,0,t)}undo(e){if(e instanceof gt){const[,t]=this._findClosestUndoElementWithSource(e.id);return t?this._undo(t,e.id,!1):void 0}return typeof e=="string"?this._undo(e,0,!1):this._undo(this.getUriComparisonKey(e),0,!1)}_undo(e,t=0,i){if(!this._editStacks.has(e))return;const n=this._editStacks.get(e),s=n.getClosestPastElement();if(!s)return;if(s.groupId){const[a,u]=this._findClosestUndoElementInGroup(s.groupId);if(s!==a&&u)return this._undo(u,t,i)}if((s.sourceId!==t||s.confirmBeforeUndo)&&!i)return this._confirmAndContinueUndo(e,t,s);try{return s.type===1?this._workspaceUndo(e,s,i):this._resourceUndo(n,s,i)}finally{}}async _confirmAndContinueUndo(e,t,i){if((await this._dialogService.confirm({message:c("confirmDifferentSource","Would you like to undo '{0}'?",i.label),primaryButton:c({key:"confirmDifferentSource.yes",comment:["&& denotes a mnemonic"]},"&&Yes"),cancelButton:c("confirmDifferentSource.no","No")})).confirmed)return this._undo(e,t,!0)}_findClosestRedoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[n,s]of this._editStacks){const o=s.getClosestFutureElement();o&&o.sourceId===e&&(!t||o.sourceOrder<t.sourceOrder)&&(t=o,i=n)}return[t,i]}canRedo(e){if(e instanceof gt){const[,i]=this._findClosestRedoElementWithSource(e.id);return!!i}const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasFutureElements():!1}_tryToSplitAndRedo(e,t,i,n){if(t.canSplit())return this._splitFutureWorkspaceElement(t,i),this._notificationService.warn(n),new Ji(this._redo(e));for(const s of t.strResources)this.removeElements(s);return this._notificationService.warn(n),new Ji}_checkWorkspaceRedo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,c({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,c({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const s=[];for(const a of i.editStacks)a.getClosestFutureElement()!==t&&s.push(a.resourceLabel);if(s.length>0)return this._tryToSplitAndRedo(e,t,null,c({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",t.label,s.join(", ")));const o=[];for(const a of i.editStacks)a.locked&&o.push(a.resourceLabel);return o.length>0?this._tryToSplitAndRedo(e,t,null,c({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,o.join(", "))):i.isValid()?null:this._tryToSplitAndRedo(e,t,null,c({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){const i=this._getAffectedEditStacks(t),n=this._checkWorkspaceRedo(e,t,i,!1);return n?n.returnValue:this._executeWorkspaceRedo(e,t,i)}async _executeWorkspaceRedo(e,t,i){let n;try{n=await this._invokeWorkspacePrepare(t)}catch(o){return this._onError(o,t)}const s=this._checkWorkspaceRedo(e,t,i,!0);if(s)return n.dispose(),s.returnValue;for(const o of i.editStacks)o.moveForward(t);return this._safeInvokeWithLocks(t,()=>t.actual.redo(),i,n,()=>this._continueRedoInGroup(t.groupId))}_resourceRedo(e,t){if(!t.isValid){e.flushAllElements();return}if(e.locked){const i=c({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(i);return}return this._invokeResourcePrepare(t,i=>(e.moveForward(t),this._safeInvokeWithLocks(t,()=>t.actual.redo(),new _s([e]),i,()=>this._continueRedoInGroup(t.groupId))))}_findClosestRedoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[n,s]of this._editStacks){const o=s.getClosestFutureElement();o&&o.groupId===e&&(!t||o.groupOrder<t.groupOrder)&&(t=o,i=n)}return[t,i]}_continueRedoInGroup(e){if(!e)return;const[,t]=this._findClosestRedoElementInGroup(e);if(t)return this._redo(t)}redo(e){if(e instanceof gt){const[,t]=this._findClosestRedoElementWithSource(e.id);return t?this._redo(t):void 0}return typeof e=="string"?this._redo(e):this._redo(this.getUriComparisonKey(e))}_redo(e){if(!this._editStacks.has(e))return;const t=this._editStacks.get(e),i=t.getClosestFutureElement();if(i){if(i.groupId){const[n,s]=this._findClosestRedoElementInGroup(i.groupId);if(i!==n&&s)return this._redo(s)}try{return i.type===1?this._workspaceRedo(e,i):this._resourceRedo(t,i)}finally{}}}};Ks=Bh([yo(0,ac),yo(1,Zn)],Ks);class Ji{constructor(e){this.returnValue=e}}sc(Th,Ks,1);const op=R("environmentService");function dc(r){return`--vscode-${r.replace(/\./g,"-")}`}function b(r){return`var(${dc(r)})`}function Ah(r,e){return`var(${dc(r)}, ${e})`}function Lh(r){return r!==null&&typeof r=="object"&&"light"in r&&"dark"in r}const Oh={ColorContribution:"base.contributions.colors"},Rh="default";class Mh{constructor(){this._onDidChangeSchema=new I,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,i,n=!1,s){const o={id:e,description:i,defaults:t,needsTransparency:n,deprecationMessage:s};this.colorsById[e]=o;const a={type:"string",format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return s&&(a.deprecationMessage=s),n&&(a.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",a.patternErrorMessage=c("transparecyRequired","This color must be transparent or it will obscure content")),this.colorSchema.properties[e]={description:i,oneOf:[a,{type:"string",const:Rh,description:c("useDefault","Use the default color.")}]},this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),e}getColors(){return Object.keys(this.colorsById).map(e=>this.colorsById[e])}resolveDefaultColor(e,t){const i=this.colorsById[e];if(i!=null&&i.defaults){const n=Lh(i.defaults)?i.defaults[t.type]:i.defaults;return ve(n,t)}}getColorSchema(){return this.colorSchema}toString(){const e=(t,i)=>{const n=t.indexOf(".")===-1?0:1,s=i.indexOf(".")===-1?0:1;return n!==s?n-s:t.localeCompare(i)};return Object.keys(this.colorsById).sort(e).map(t=>`- \`${t}\`: ${this.colorsById[t].description}`).join(`
`)}}const es=new Mh;oe.add(Oh.ColorContribution,es);function f(r,e,t,i,n){return es.registerColor(r,e,t,i,n)}function Kh(r,e){var t,i,n,s;switch(r.op){case 0:return(t=ve(r.value,e))==null?void 0:t.darken(r.factor);case 1:return(i=ve(r.value,e))==null?void 0:i.lighten(r.factor);case 2:return(n=ve(r.value,e))==null?void 0:n.transparent(r.factor);case 3:{const o=ve(r.background,e);return o?(s=ve(r.value,e))==null?void 0:s.makeOpaque(o):ve(r.value,e)}case 4:for(const o of r.values){const a=ve(o,e);if(a)return a}return;case 6:return ve(e.defines(r.if)?r.then:r.else,e);case 5:{const o=ve(r.value,e);if(!o)return;const a=ve(r.background,e);return a?o.isDarkerThan(a)?C.getLighterColor(o,a,r.factor).transparent(r.transparency):C.getDarkerColor(o,a,r.factor).transparent(r.transparency):o.transparent(r.factor*r.transparency)}default:throw _l()}}function Lt(r,e){return{op:0,value:r,factor:e}}function Ee(r,e){return{op:1,value:r,factor:e}}function w(r,e){return{op:2,value:r,factor:e}}function Co(...r){return{op:4,values:r}}function Nh(r,e,t){return{op:6,if:r,then:e,else:t}}function vo(r,e,t,i){return{op:5,value:r,background:e,factor:t,transparency:i}}function ve(r,e){if(r!==null){if(typeof r=="string")return r[0]==="#"?C.fromHex(r):e.getColor(r);if(r instanceof C)return r;if(typeof r=="object")return Kh(r,e)}}const gc="vscode://schemas/workbench-colors",fc=oe.as(Yn.JSONContribution);fc.registerSchema(gc,es.getColorSchema());const So=new wr(()=>fc.notifySchemaChanged(gc),200);es.onDidChangeSchema(()=>{So.isScheduled()||So.schedule()});const F=f("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},c("foreground","Overall foreground color. This color is only used if not overridden by a component."));f("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},c("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component."));f("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},c("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component."));f("descriptionForeground",{light:"#717171",dark:w(F,.7),hcDark:w(F,.7),hcLight:w(F,.7)},c("descriptionForeground","Foreground color for description text providing additional information, for example for a label."));const Ns=f("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},c("iconForeground","The default color for icons in the workbench.")),Me=f("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},c("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),T=f("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},c("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),Q=f("contrastActiveBorder",{light:null,dark:null,hcDark:Me,hcLight:Me},c("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast."));f("selection.background",null,c("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor."));const Hh=f("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},c("textLinkForeground","Foreground color for links in text."));f("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},c("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover."));f("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:C.black,hcLight:"#292929"},c("textSeparatorForeground","Color for text separators."));f("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},c("textPreformatForeground","Foreground color for preformatted text segments."));f("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},c("textPreformatBackground","Background color for preformatted text segments."));f("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},c("textBlockQuoteBackground","Background color for block quotes in text."));f("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:C.white,hcLight:"#292929"},c("textBlockQuoteBorder","Border color for block quotes in text."));f("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:C.black,hcLight:"#F2F2F2"},c("textCodeBlockBackground","Background color for code blocks in text."));f("sash.hoverBorder",Me,c("sashActiveBorder","Border color of active sashes."));const on=f("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:C.black,hcLight:"#0F4A85"},c("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),Ph=f("badge.foreground",{dark:C.white,light:"#333",hcDark:C.white,hcLight:C.white},c("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),Ar=f("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},c("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),pc=f("scrollbarSlider.background",{dark:C.fromHex("#797979").transparent(.4),light:C.fromHex("#646464").transparent(.4),hcDark:w(T,.6),hcLight:w(T,.4)},c("scrollbarSliderBackground","Scrollbar slider background color.")),mc=f("scrollbarSlider.hoverBackground",{dark:C.fromHex("#646464").transparent(.7),light:C.fromHex("#646464").transparent(.7),hcDark:w(T,.8),hcLight:w(T,.8)},c("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),yc=f("scrollbarSlider.activeBackground",{dark:C.fromHex("#BFBFBF").transparent(.4),light:C.fromHex("#000000").transparent(.6),hcDark:T,hcLight:T},c("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Vh=f("progressBar.background",{dark:C.fromHex("#0E70C0"),light:C.fromHex("#0E70C0"),hcDark:T,hcLight:T},c("progressBarBackground","Background color of the progress bar that can show for long running operations.")),hn=f("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:C.black,hcLight:C.white},c("editorBackground","Editor background color.")),ap=f("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:C.white,hcLight:F},c("editorForeground","Editor default foreground color."));f("editorStickyScroll.background",hn,c("editorStickyScrollBackground","Background color of sticky scroll in the editor"));f("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:C.fromHex("#0F4A85").transparent(.1)},c("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor"));f("editorStickyScroll.border",{dark:null,light:null,hcDark:T,hcLight:T},c("editorStickyScrollBorder","Border color of sticky scroll in the editor"));f("editorStickyScroll.shadow",Ar,c("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor"));const ye=f("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:C.white},c("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),ts=f("editorWidget.foreground",F,c("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),bc=f("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:T,hcLight:T},c("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget."));f("editorWidget.resizeBorder",null,c("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget."));f("editorError.background",null,c("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0);const kc=f("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},c("editorError.foreground","Foreground color of error squigglies in the editor.")),cp=f("editorError.border",{dark:null,light:null,hcDark:C.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},c("errorBorder","If set, color of double underlines for errors in the editor.")),lp=f("editorWarning.background",null,c("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),dn=f("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},c("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),_o=f("editorWarning.border",{dark:null,light:null,hcDark:C.fromHex("#FFCC00").transparent(.8),hcLight:C.fromHex("#FFCC00").transparent(.8)},c("warningBorder","If set, color of double underlines for warnings in the editor."));f("editorInfo.background",null,c("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0);const gn=f("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},c("editorInfo.foreground","Foreground color of info squigglies in the editor.")),wo=f("editorInfo.border",{dark:null,light:null,hcDark:C.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},c("infoBorder","If set, color of double underlines for infos in the editor.")),up=f("editorHint.foreground",{dark:C.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},c("editorHint.foreground","Foreground color of hint squigglies in the editor."));f("editorHint.border",{dark:null,light:null,hcDark:C.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},c("hintBorder","If set, color of double underlines for hints in the editor."));const hp=f("editorLink.activeForeground",{dark:"#4E94CE",light:C.blue,hcDark:C.cyan,hcLight:"#292929"},c("activeLinkForeground","Color of active links.")),Wt=f("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},c("editorSelectionBackground","Color of the editor selection.")),dp=f("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:C.white},c("editorSelectionForeground","Color of the selected text for high contrast.")),gp=f("editor.inactiveSelectionBackground",{light:w(Wt,.5),dark:w(Wt,.5),hcDark:w(Wt,.7),hcLight:w(Wt,.5)},c("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),fp=f("editor.selectionHighlightBackground",{light:vo(Wt,hn,.3,.6),dark:vo(Wt,hn,.3,.6),hcDark:null,hcLight:null},c("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0);f("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:Q,hcLight:Q},c("editorSelectionHighlightBorder","Border color for regions with the same content as the selection."));f("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},c("editorFindMatch","Color of the current search match."));const pp=f("editor.findMatchForeground",null,c("editorFindMatchForeground","Text color of the current search match.")),$t=f("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},c("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),mp=f("editor.findMatchHighlightForeground",null,c("findMatchHighlightForeground","Foreground color of the other search matches."),!0);f("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},c("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0);f("editor.findMatchBorder",{light:null,dark:null,hcDark:Q,hcLight:Q},c("editorFindMatchBorder","Border color of the current search match."));const qt=f("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:Q,hcLight:Q},c("findMatchHighlightBorder","Border color of the other search matches.")),yp=f("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:w(Q,.4),hcLight:w(Q,.4)},c("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0);f("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},c("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0);const xo=f("editorHoverWidget.background",ye,c("hoverBackground","Background color of the editor hover."));f("editorHoverWidget.foreground",ts,c("hoverForeground","Foreground color of the editor hover."));const bp=f("editorHoverWidget.border",bc,c("hoverBorder","Border color of the editor hover."));f("editorHoverWidget.statusBarBackground",{dark:Ee(xo,.2),light:Lt(xo,.05),hcDark:ye,hcLight:ye},c("statusBarBackground","Background color of the editor hover status bar."));const Cc=f("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:C.white,hcLight:C.black},c("editorInlayHintForeground","Foreground color of inline hints")),vc=f("editorInlayHint.background",{dark:w(on,.1),light:w(on,.1),hcDark:w(C.white,.1),hcLight:w(on,.1)},c("editorInlayHintBackground","Background color of inline hints")),kp=f("editorInlayHint.typeForeground",Cc,c("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),Cp=f("editorInlayHint.typeBackground",vc,c("editorInlayHintBackgroundTypes","Background color of inline hints for types")),vp=f("editorInlayHint.parameterForeground",Cc,c("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),Sp=f("editorInlayHint.parameterBackground",vc,c("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),Wh=f("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},c("editorLightBulbForeground","The color used for the lightbulb actions icon."));f("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},c("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon."));f("editorLightBulbAi.foreground",Wh,c("editorLightBulbAiForeground","The color used for the lightbulb AI icon."));f("editor.snippetTabstopHighlightBackground",{dark:new C(new J(124,124,124,.3)),light:new C(new J(10,50,100,.2)),hcDark:new C(new J(124,124,124,.3)),hcLight:new C(new J(10,50,100,.2))},c("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop."));f("editor.snippetTabstopHighlightBorder",null,c("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop."));f("editor.snippetFinalTabstopHighlightBackground",null,c("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet."));f("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new C(new J(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},c("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet."));const Do=new C(new J(155,185,85,.2)),Io=new C(new J(255,0,0,.2)),_p=f("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},c("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),wp=f("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},c("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0);f("diffEditor.insertedLineBackground",{dark:Do,light:Do,hcDark:null,hcLight:null},c("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0);f("diffEditor.removedLineBackground",{dark:Io,light:Io,hcDark:null,hcLight:null},c("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0);f("diffEditorGutter.insertedLineBackground",null,c("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted."));f("diffEditorGutter.removedLineBackground",null,c("diffEditorRemovedLineGutter","Background color for the margin where lines got removed."));const xp=f("diffEditorOverview.insertedForeground",null,c("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),Dp=f("diffEditorOverview.removedForeground",null,c("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content."));f("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},c("diffEditorInsertedOutline","Outline color for the text that got inserted."));f("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},c("diffEditorRemovedOutline","Outline color for text that got removed."));f("diffEditor.border",{dark:null,light:null,hcDark:T,hcLight:T},c("diffEditorBorder","Border color between the two text editors."));f("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},c("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views."));f("diffEditor.unchangedRegionBackground","sideBar.background",c("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor."));f("diffEditor.unchangedRegionForeground","foreground",c("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor."));f("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},c("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor."));const Hi=f("widget.shadow",{dark:w(C.black,.36),light:w(C.black,.16),hcDark:null,hcLight:null},c("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),$h=f("widget.border",{dark:null,light:null,hcDark:T,hcLight:T},c("widgetBorder","Border color of widgets such as find/replace inside the editor.")),Eo=f("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},c("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse"));f("toolbar.hoverOutline",{dark:null,light:null,hcDark:Q,hcLight:Q},c("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse"));f("toolbar.activeBackground",{dark:Ee(Eo,.1),light:Lt(Eo,.1),hcDark:null,hcLight:null},c("toolbarActiveBackground","Toolbar background when holding the mouse over actions"));const qh=f("breadcrumb.foreground",w(F,.8),c("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),Uh=f("breadcrumb.background",hn,c("breadcrumbsBackground","Background color of breadcrumb items.")),To=f("breadcrumb.focusForeground",{light:Lt(F,.2),dark:Ee(F,.1),hcDark:Ee(F,.1),hcLight:Ee(F,.1)},c("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),jh=f("breadcrumb.activeSelectionForeground",{light:Lt(F,.2),dark:Ee(F,.1),hcDark:Ee(F,.1),hcLight:Ee(F,.1)},c("breadcrumbsSelectedForeground","Color of selected breadcrumb items."));f("breadcrumbPicker.background",ye,c("breadcrumbsSelectedBackground","Background color of breadcrumb item picker."));const Sc=.5,Bo=C.fromHex("#40C8AE").transparent(Sc),Fo=C.fromHex("#40A6FF").transparent(Sc),Ao=C.fromHex("#606060").transparent(.4),Lr=.4,si=1,Hs=f("merge.currentHeaderBackground",{dark:Bo,light:Bo,hcDark:null,hcLight:null},c("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);f("merge.currentContentBackground",w(Hs,Lr),c("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const Ps=f("merge.incomingHeaderBackground",{dark:Fo,light:Fo,hcDark:null,hcLight:null},c("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);f("merge.incomingContentBackground",w(Ps,Lr),c("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const Vs=f("merge.commonHeaderBackground",{dark:Ao,light:Ao,hcDark:null,hcLight:null},c("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);f("merge.commonContentBackground",w(Vs,Lr),c("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const ri=f("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},c("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."));f("editorOverviewRuler.currentContentForeground",{dark:w(Hs,si),light:w(Hs,si),hcDark:ri,hcLight:ri},c("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts."));f("editorOverviewRuler.incomingContentForeground",{dark:w(Ps,si),light:w(Ps,si),hcDark:ri,hcLight:ri},c("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts."));f("editorOverviewRuler.commonContentForeground",{dark:w(Vs,si),light:w(Vs,si),hcDark:ri,hcLight:ri},c("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts."));const Ip=f("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:"#AB5A00"},c("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),Ep=f("editorOverviewRuler.selectionHighlightForeground","#A0A0A0CC",c("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Gh=f("problemsErrorIcon.foreground",kc,c("problemsErrorIconForeground","The color used for the problems error icon.")),zh=f("problemsWarningIcon.foreground",dn,c("problemsWarningIconForeground","The color used for the problems warning icon.")),Qh=f("problemsInfoIcon.foreground",gn,c("problemsInfoIconForeground","The color used for the problems info icon.")),Yh=f("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},c("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),Tp=f("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},c("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),Bp=f("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},c("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Fp=f("minimap.infoHighlight",{dark:gn,light:gn,hcDark:wo,hcLight:wo},c("minimapInfo","Minimap marker color for infos.")),Ap=f("minimap.warningHighlight",{dark:dn,light:dn,hcDark:_o,hcLight:_o},c("overviewRuleWarning","Minimap marker color for warnings.")),Lp=f("minimap.errorHighlight",{dark:new C(new J(255,18,18,.7)),light:new C(new J(255,18,18,.7)),hcDark:new C(new J(255,50,50,1)),hcLight:"#B5200D"},c("minimapError","Minimap marker color for errors.")),Op=f("minimap.background",null,c("minimapBackground","Minimap background color.")),Rp=f("minimap.foregroundOpacity",C.fromHex("#000f"),c("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.'));f("minimapSlider.background",w(pc,.5),c("minimapSliderBackground","Minimap slider background color."));f("minimapSlider.hoverBackground",w(mc,.5),c("minimapSliderHoverBackground","Minimap slider background color when hovering."));f("minimapSlider.activeBackground",w(yc,.5),c("minimapSliderActiveBackground","Minimap slider background color when clicked on."));f("charts.foreground",F,c("chartsForeground","The foreground color used in charts."));f("charts.lines",w(F,.5),c("chartsLines","The color used for horizontal lines in charts."));f("charts.red",kc,c("chartsRed","The red color used in chart visualizations."));f("charts.blue",gn,c("chartsBlue","The blue color used in chart visualizations."));f("charts.yellow",dn,c("chartsYellow","The yellow color used in chart visualizations."));f("charts.orange",Yh,c("chartsOrange","The orange color used in chart visualizations."));f("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},c("chartsGreen","The green color used in chart visualizations."));f("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},c("chartsPurple","The purple color used in chart visualizations."));const Jh=f("input.background",{dark:"#3C3C3C",light:C.white,hcDark:C.black,hcLight:C.white},c("inputBoxBackground","Input box background.")),Xh=f("input.foreground",F,c("inputBoxForeground","Input box foreground.")),Zh=f("input.border",{dark:null,light:null,hcDark:T,hcLight:T},c("inputBoxBorder","Input box border.")),_c=f("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:T,hcLight:T},c("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),ed=f("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},c("inputOption.hoverBackground","Background color of activated options in input fields.")),Or=f("inputOption.activeBackground",{dark:w(Me,.4),light:w(Me,.2),hcDark:C.transparent,hcLight:C.transparent},c("inputOption.activeBackground","Background hover color of options in input fields.")),wc=f("inputOption.activeForeground",{dark:C.white,light:C.black,hcDark:F,hcLight:F},c("inputOption.activeForeground","Foreground color of activated options in input fields."));f("input.placeholderForeground",{light:w(F,.5),dark:w(F,.5),hcDark:w(F,.7),hcLight:w(F,.7)},c("inputPlaceholderForeground","Input box foreground color for placeholder text."));const td=f("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:C.black,hcLight:C.white},c("inputValidationInfoBackground","Input validation background color for information severity.")),id=f("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:F},c("inputValidationInfoForeground","Input validation foreground color for information severity.")),nd=f("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:T,hcLight:T},c("inputValidationInfoBorder","Input validation border color for information severity.")),sd=f("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:C.black,hcLight:C.white},c("inputValidationWarningBackground","Input validation background color for warning severity.")),rd=f("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:F},c("inputValidationWarningForeground","Input validation foreground color for warning severity.")),od=f("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:T,hcLight:T},c("inputValidationWarningBorder","Input validation border color for warning severity.")),ad=f("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:C.black,hcLight:C.white},c("inputValidationErrorBackground","Input validation background color for error severity.")),cd=f("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:F},c("inputValidationErrorForeground","Input validation foreground color for error severity.")),ld=f("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:T,hcLight:T},c("inputValidationErrorBorder","Input validation border color for error severity.")),is=f("dropdown.background",{dark:"#3C3C3C",light:C.white,hcDark:C.black,hcLight:C.white},c("dropdownBackground","Dropdown background.")),ud=f("dropdown.listBackground",{dark:null,light:null,hcDark:C.black,hcLight:C.white},c("dropdownListBackground","Dropdown list background.")),Rr=f("dropdown.foreground",{dark:"#F0F0F0",light:F,hcDark:C.white,hcLight:F},c("dropdownForeground","Dropdown foreground.")),Mr=f("dropdown.border",{dark:is,light:"#CECECE",hcDark:T,hcLight:T},c("dropdownBorder","Dropdown border.")),xc=f("button.foreground",C.white,c("buttonForeground","Button foreground color.")),hd=f("button.separator",w(xc,.4),c("buttonSeparator","Button separator color.")),pi=f("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},c("buttonBackground","Button background color.")),dd=f("button.hoverBackground",{dark:Ee(pi,.2),light:Lt(pi,.2),hcDark:pi,hcLight:pi},c("buttonHoverBackground","Button background color when hovering.")),gd=f("button.border",T,c("buttonBorder","Button border color.")),fd=f("button.secondaryForeground",{dark:C.white,light:C.white,hcDark:C.white,hcLight:F},c("buttonSecondaryForeground","Secondary button foreground color.")),Ws=f("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:C.white},c("buttonSecondaryBackground","Secondary button background color.")),pd=f("button.secondaryHoverBackground",{dark:Ee(Ws,.2),light:Lt(Ws,.2),hcDark:null,hcLight:null},c("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),mi=f("radio.activeForeground",wc,c("radioActiveForeground","Foreground color of active radio option.")),md=f("radio.activeBackground",Or,c("radioBackground","Background color of active radio option.")),yd=f("radio.activeBorder",_c,c("radioActiveBorder","Border color of the active radio option.")),bd=f("radio.inactiveForeground",null,c("radioInactiveForeground","Foreground color of inactive radio option.")),kd=f("radio.inactiveBackground",null,c("radioInactiveBackground","Background color of inactive radio option.")),Cd=f("radio.inactiveBorder",{light:w(mi,.2),dark:w(mi,.2),hcDark:w(mi,.4),hcLight:w(mi,.2)},c("radioInactiveBorder","Border color of the inactive radio option.")),vd=f("radio.inactiveHoverBackground",ed,c("radioHoverBackground","Background color of inactive active radio option when hovering.")),Sd=f("checkbox.background",is,c("checkbox.background","Background color of checkbox widget."));f("checkbox.selectBackground",ye,c("checkbox.select.background","Background color of checkbox widget when the element it's in is selected."));const _d=f("checkbox.foreground",Rr,c("checkbox.foreground","Foreground color of checkbox widget.")),wd=f("checkbox.border",Mr,c("checkbox.border","Border color of checkbox widget."));f("checkbox.selectBorder",Ns,c("checkbox.select.border","Border color of checkbox widget when the element it's in is selected."));const xd=f("keybindingLabel.background",{dark:new C(new J(128,128,128,.17)),light:new C(new J(221,221,221,.4)),hcDark:C.transparent,hcLight:C.transparent},c("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Dd=f("keybindingLabel.foreground",{dark:C.fromHex("#CCCCCC"),light:C.fromHex("#555555"),hcDark:C.white,hcLight:F},c("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Id=f("keybindingLabel.border",{dark:new C(new J(51,51,51,.6)),light:new C(new J(204,204,204,.4)),hcDark:new C(new J(111,195,223)),hcLight:T},c("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),Ed=f("keybindingLabel.bottomBorder",{dark:new C(new J(68,68,68,.6)),light:new C(new J(187,187,187,.4)),hcDark:new C(new J(111,195,223)),hcLight:F},c("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),Td=f("list.focusBackground",null,c("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Bd=f("list.focusForeground",null,c("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Fd=f("list.focusOutline",{dark:Me,light:Me,hcDark:Q,hcLight:Q},c("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ad=f("list.focusAndSelectionOutline",null,c("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),xt=f("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:C.fromHex("#0F4A85").transparent(.1)},c("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Fi=f("list.activeSelectionForeground",{dark:C.white,light:C.white,hcDark:null,hcLight:null},c("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Dc=f("list.activeSelectionIconForeground",null,c("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ld=f("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:C.fromHex("#0F4A85").transparent(.1)},c("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Od=f("list.inactiveSelectionForeground",null,c("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Rd=f("list.inactiveSelectionIconForeground",null,c("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Md=f("list.inactiveFocusBackground",null,c("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Kd=f("list.inactiveFocusOutline",null,c("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Ic=f("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:C.white.transparent(.1),hcLight:C.fromHex("#0F4A85").transparent(.1)},c("listHoverBackground","List/Tree background when hovering over items using the mouse.")),Ec=f("list.hoverForeground",null,c("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),Nd=f("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},c("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse.")),Hd=f("list.dropBetweenBackground",{dark:Ns,light:Ns,hcDark:null,hcLight:null},c("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse.")),Xi=f("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:Me,hcLight:Me},c("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),Mp=f("list.focusHighlightForeground",{dark:Xi,light:Nh(xt,Xi,"#BBE7FF"),hcDark:Xi,hcLight:Xi},c("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree."));f("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},c("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer."));f("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},c("listErrorForeground","Foreground color of list items containing errors."));f("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},c("listWarningForeground","Foreground color of list items containing warnings."));const Pd=f("listFilterWidget.background",{light:Lt(ye,0),dark:Ee(ye,0),hcDark:ye,hcLight:ye},c("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),Vd=f("listFilterWidget.outline",{dark:C.transparent,light:C.transparent,hcDark:"#f38518",hcLight:"#007ACC"},c("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),Wd=f("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:T,hcLight:T},c("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),$d=f("listFilterWidget.shadow",Hi,c("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees."));f("list.filterMatchBackground",{dark:$t,light:$t,hcDark:null,hcLight:null},c("listFilterMatchHighlight","Background color of the filtered match."));f("list.filterMatchBorder",{dark:qt,light:qt,hcDark:T,hcLight:Q},c("listFilterMatchHighlightBorder","Border color of the filtered match."));f("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},c("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized."));const Tc=f("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},c("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),qd=f("tree.inactiveIndentGuidesStroke",w(Tc,.4),c("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),Ud=f("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},c("tableColumnsBorder","Table border color between columns.")),jd=f("tree.tableOddRowsBackground",{dark:w(F,.04),light:w(F,.04),hcDark:null,hcLight:null},c("tableOddRowsBackgroundColor","Background color for odd table rows."));f("editorActionList.background",ye,c("editorActionListBackground","Action List background color."));f("editorActionList.foreground",ts,c("editorActionListForeground","Action List foreground color."));f("editorActionList.focusForeground",Fi,c("editorActionListFocusForeground","Action List foreground color for the focused item."));f("editorActionList.focusBackground",xt,c("editorActionListFocusBackground","Action List background color for the focused item."));const Gd=f("menu.border",{dark:null,light:null,hcDark:T,hcLight:T},c("menuBorder","Border color of menus.")),zd=f("menu.foreground",Rr,c("menuForeground","Foreground color of menu items.")),Qd=f("menu.background",is,c("menuBackground","Background color of menu items.")),Yd=f("menu.selectionForeground",Fi,c("menuSelectionForeground","Foreground color of the selected menu item in menus.")),Jd=f("menu.selectionBackground",xt,c("menuSelectionBackground","Background color of the selected menu item in menus.")),Xd=f("menu.selectionBorder",{dark:null,light:null,hcDark:Q,hcLight:Q},c("menuSelectionBorder","Border color of the selected menu item in menus.")),Zd=f("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:T,hcLight:T},c("menuSeparatorBackground","Color of a separator menu item in menus.")),Lo=f("quickInput.background",ye,c("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),eg=f("quickInput.foreground",ts,c("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),tg=f("quickInputTitle.background",{dark:new C(new J(255,255,255,.105)),light:new C(new J(0,0,0,.06)),hcDark:"#000000",hcLight:C.white},c("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Bc=f("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:C.white,hcLight:"#0F4A85"},c("pickerGroupForeground","Quick picker color for grouping labels.")),ig=f("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:C.white,hcLight:"#0F4A85"},c("pickerGroupBorder","Quick picker color for grouping borders.")),Oo=f("quickInput.list.focusBackground",null,"",void 0,c("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),$s=f("quickInputList.focusForeground",Fi,c("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),Fc=f("quickInputList.focusIconForeground",Dc,c("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),qs=f("quickInputList.focusBackground",{dark:Co(Oo,xt),light:Co(Oo,xt),hcDark:null,hcLight:null},c("quickInput.listFocusBackground","Quick picker background color for the focused item."));f("search.resultsInfoForeground",{light:F,dark:w(F,.65),hcDark:F,hcLight:F},c("search.resultsInfoForeground","Color of the text in the search viewlet's completion message."));f("searchEditor.findMatchBackground",{light:w($t,.66),dark:w($t,.66),hcDark:$t,hcLight:$t},c("searchEditor.queryMatch","Color of the Search Editor query matches."));f("searchEditor.findMatchBorder",{light:w(qt,.66),dark:w(qt,.66),hcDark:qt,hcLight:qt},c("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."));var ng=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Ro=function(r,e){return function(t,i){e(t,i,r)}};const Kr=R("hoverService");let Us=class extends K{get delay(){return this.isInstantlyHovering()?0:this._delay}constructor(e,t,i={},n,s){super(),this.placement=e,this.instantHover=t,this.overrideOptions=i,this.configurationService=n,this.hoverService=s,this.lastHoverHideTime=0,this.timeLimit=200,this.hoverDisposables=this._register(new W),this._delay=this.configurationService.getValue("workbench.hover.delay"),this._register(this.configurationService.onDidChangeConfiguration(o=>{o.affectsConfiguration("workbench.hover.delay")&&(this._delay=this.configurationService.getValue("workbench.hover.delay"))}))}showHover(e,t){const i=typeof this.overrideOptions=="function"?this.overrideOptions(e,t):this.overrideOptions;this.hoverDisposables.clear();const n=ei(e.target)?[e.target]:e.target.targetElements;for(const o of n)this.hoverDisposables.add(ti(o,"keydown",a=>{a.equals(9)&&this.hoverService.hideHover()}));const s=ei(e.content)?void 0:e.content.toString();return this.hoverService.showHover({...e,...i,persistence:{hideOnKeyDown:!0,...i.persistence},id:s,appearance:{...e.appearance,compact:!0,skipFadeInAnimation:this.isInstantlyHovering(),...i.appearance}},t)}isInstantlyHovering(){return this.instantHover&&Date.now()-this.lastHoverHideTime<this.timeLimit}onDidHideHover(){this.hoverDisposables.clear(),this.instantHover&&(this.lastHoverHideTime=Date.now())}};Us=ng([Ro(3,te),Ro(4,Kr)],Us);const Pi=R("contextViewService"),Vi=R("contextMenuService"),ge=R("keybindingService"),Ac=R("openerService");function Np(r){let e;const t=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(r.fragment);return t&&(e={startLineNumber:parseInt(t[1]),startColumn:t[2]?parseInt(t[2]):1,endLineNumber:t[4]?parseInt(t[4]):void 0,endColumn:t[4]?t[5]?parseInt(t[5]):1:void 0},r=r.with({fragment:""})),{selection:e,uri:r}}const Lc=R("accessibilityService"),sg=new E("accessibilityModeEnabled",!1);var rg=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},og=function(r,e){return function(t,i){e(t,i,r)}};let js=class extends K{constructor(e){super(),this.layoutService=e,this.contextView=this._register(new wl(this.layoutService.mainContainer,1)),this.layout(),this._register(e.onDidLayoutContainer(()=>this.layout()))}showContextView(e,t,i){let n;t?t===this.layoutService.getContainer(Xe(t))?n=1:i?n=3:n=2:n=1,this.contextView.setContainer(t??this.layoutService.activeContainer,n),this.contextView.show(e);const s={close:()=>{this.openContextView===s&&this.hideContextView()}};return this.openContextView=s,s}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e),this.openContextView=void 0}};js=rg([og(0,Ni)],js);class Pp extends js{getContextViewElement(){return this.contextView.getViewElement()}}function Zi(r){return Object.isFrozen(r)?r:Dl(r)}class ue{static createEmptyModel(e){return new ue({},[],[],void 0,e)}constructor(e,t,i,n,s){this._contents=e,this._keys=t,this._overrides=i,this.raw=n,this.logService=s,this.overrideConfigurations=new Map}get rawConfiguration(){var e;if(!this._rawConfiguration)if((e=this.raw)!=null&&e.length){const t=this.raw.map(i=>{if(i instanceof ue)return i;const n=new ag("",this.logService);return n.parseRaw(i),n.configurationModel});this._rawConfiguration=t.reduce((i,n)=>n===i?n:i.merge(n),t[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(e){return e?fo(this.contents,e):this.contents}inspect(e,t){const i=this;return{get value(){return Zi(i.rawConfiguration.getValue(e))},get override(){return t?Zi(i.rawConfiguration.getOverrideValue(e,t)):void 0},get merged(){return Zi(t?i.rawConfiguration.override(t).getValue(e):i.rawConfiguration.getValue(e))},get overrides(){const n=[];for(const{contents:s,identifiers:o,keys:a}of i.rawConfiguration.overrides){const u=new ue(s,a,[],void 0,i.logService).getValue(e);u!==void 0&&n.push({identifiers:o,value:u})}return n.length?Zi(n):void 0}}}getOverrideValue(e,t){const i=this.getContentsForOverrideIdentifer(t);return i?e?fo(i,e):i:void 0}override(e){let t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}merge(...e){var o,a;const t=Nt(this.contents),i=Nt(this.overrides),n=[...this.keys],s=(o=this.raw)!=null&&o.length?[...this.raw]:[this];for(const u of e)if(s.push(...(a=u.raw)!=null&&a.length?u.raw:[u]),!u.isEmpty()){this.mergeContents(t,u.contents);for(const h of u.overrides){const[d]=i.filter(g=>bt(g.identifiers,h.identifiers));d?(this.mergeContents(d.contents,h.contents),d.keys.push(...h.keys),d.keys=Ts(d.keys)):i.push(Nt(h))}for(const h of u.keys)n.indexOf(h)===-1&&n.push(h)}return new ue(t,n,i,s.every(u=>u instanceof ue)?void 0:s,this.logService)}createOverrideConfigurationModel(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||typeof t!="object"||!Object.keys(t).length)return this;const i={};for(const n of Ts([...Object.keys(this.contents),...Object.keys(t)])){let s=this.contents[n];const o=t[n];o&&(typeof s=="object"&&typeof o=="object"?(s=Nt(s),this.mergeContents(s,o)):s=o),i[n]=s}return new ue(i,this.keys,this.overrides,void 0,this.logService)}mergeContents(e,t){for(const i of Object.keys(t)){if(i in e&&ze(e[i])&&ze(t[i])){this.mergeContents(e[i],t[i]);continue}e[i]=Nt(t[i])}}getContentsForOverrideIdentifer(e){let t=null,i=null;const n=s=>{s&&(i?this.mergeContents(i,s):i=Nt(s))};for(const s of this.overrides)s.identifiers.length===1&&s.identifiers[0]===e?t=s.contents:s.identifiers.includes(e)&&n(s.contents);return n(t),i}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(e,t){this.updateValue(e,t,!1)}removeValue(e){const t=this.keys.indexOf(e);t!==-1&&(this.keys.splice(t,1),yh(this.contents,e),st.test(e)&&this.overrides.splice(this.overrides.findIndex(i=>bt(i.identifiers,un(e))),1))}updateValue(e,t,i){if(tc(this.contents,e,t,n=>this.logService.error(n)),i=i||this.keys.indexOf(e)===-1,i&&this.keys.push(e),st.test(e)){const n=un(e),s={identifiers:n,keys:Object.keys(this.contents[e]),contents:Rs(this.contents[e],a=>this.logService.error(a))},o=this.overrides.findIndex(a=>bt(a.identifiers,n));o!==-1?this.overrides[o]=s:this.overrides.push(s)}}}class ag{constructor(e,t){this._name=e,this.logService=t,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||ue.createEmptyModel(this.logService)}parseRaw(e,t){this._raw=e;const{contents:i,keys:n,overrides:s,restricted:o,hasExcludedProperties:a}=this.doParseRaw(e,t);this._configurationModel=new ue(i,n,s,a?[e]:void 0,this.logService),this._restrictedConfigurations=o||[]}doParseRaw(e,t){const i=oe.as(Jn.Configuration).getConfigurationProperties(),n=this.filter(e,i,!0,t);e=n.raw;const s=Rs(e,u=>this.logService.error(`Conflict in settings file ${this._name}: ${u}`)),o=Object.keys(e),a=this.toOverrides(e,u=>this.logService.error(`Conflict in settings file ${this._name}: ${u}`));return{contents:s,keys:o,overrides:a,restricted:n.restricted,hasExcludedProperties:n.hasExcludedProperties}}filter(e,t,i,n){var u,h,d;let s=!1;if(!(n!=null&&n.scopes)&&!(n!=null&&n.skipRestricted)&&!((u=n==null?void 0:n.exclude)!=null&&u.length))return{raw:e,restricted:[],hasExcludedProperties:s};const o={},a=[];for(const g in e)if(st.test(g)&&i){const p=this.filter(e[g],t,!1,n);o[g]=p.raw,s=s||p.hasExcludedProperties,a.push(...p.restricted)}else{const p=t[g],m=p?typeof p.scope<"u"?p.scope:3:void 0;p!=null&&p.restricted&&a.push(g),!((h=n.exclude)!=null&&h.includes(g))&&((d=n.include)!=null&&d.includes(g)||(m===void 0||n.scopes===void 0||n.scopes.includes(m))&&!(n.skipRestricted&&(p!=null&&p.restricted)))?o[g]=e[g]:s=!0}return{raw:o,restricted:a,hasExcludedProperties:s}}toOverrides(e,t){const i=[];for(const n of Object.keys(e))if(st.test(n)){const s={};for(const o in e[n])s[o]=e[n][o];i.push({identifiers:un(n),keys:Object.keys(s),contents:Rs(s,t)})}return i}}class cg{constructor(e,t,i,n,s,o,a,u,h,d,g,p,m){this.key=e,this.overrides=t,this._value=i,this.overrideIdentifiers=n,this.defaultConfiguration=s,this.policyConfiguration=o,this.applicationConfiguration=a,this.userConfiguration=u,this.localUserConfiguration=h,this.remoteUserConfiguration=d,this.workspaceConfiguration=g,this.folderConfigurationModel=p,this.memoryConfigurationModel=m}toInspectValue(e){return(e==null?void 0:e.value)!==void 0||(e==null?void 0:e.override)!==void 0||(e==null?void 0:e.overrides)!==void 0?e:void 0}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.userConfiguration.inspect(this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.toInspectValue(this.userInspectValue)}}class Nr{constructor(e,t,i,n,s,o,a,u,h,d){this._defaultConfiguration=e,this._policyConfiguration=t,this._applicationConfiguration=i,this._localUserConfiguration=n,this._remoteUserConfiguration=s,this._workspaceConfiguration=o,this._folderConfigurations=a,this._memoryConfiguration=u,this._memoryConfigurationByResource=h,this.logService=d,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Ze,this._userConfiguration=null}getValue(e,t,i){return this.getConsolidatedConfigurationModel(e,t,i).getValue(e)}updateValue(e,t,i={}){let n;i.resource?(n=this._memoryConfigurationByResource.get(i.resource),n||(n=ue.createEmptyModel(this.logService),this._memoryConfigurationByResource.set(i.resource,n))):n=this._memoryConfiguration,t===void 0?n.removeValue(e):n.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(e,t,i){const n=this.getConsolidatedConfigurationModel(e,t,i),s=this.getFolderConfigurationModelForResource(t.resource,i),o=t.resource?this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration:this._memoryConfiguration,a=new Set;for(const u of n.overrides)for(const h of u.identifiers)n.getOverrideValue(e,h)!==void 0&&a.add(h);return new cg(e,t,n.getValue(e),a.size?[...a]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,i?this._workspaceConfiguration:void 0,s||void 0,o)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(e,t,i){let n=this.getConsolidatedConfigurationModelForResource(t,i);return t.overrideIdentifier&&(n=n.override(t.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(e)!==void 0&&(n=n.merge(this._policyConfiguration)),n}getConsolidatedConfigurationModelForResource({resource:e},t){let i=this.getWorkspaceConsolidatedConfiguration();if(t&&e){const n=t.getFolder(e);n&&(i=this.getFolderConsolidatedConfiguration(n.uri)||i);const s=this._memoryConfigurationByResource.get(e);s&&(i=i.merge(s))}return i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const i=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(e);n?(t=i.merge(n),this._foldersConsolidatedConfigurations.set(e,t)):t=i}return t}getFolderConfigurationModelForResource(e,t){if(t&&e){const i=t.getFolder(e);if(i)return this._folderConfigurations.get(i.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((e,t)=>{const{contents:i,overrides:n,keys:s}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:n,keys:s}]),e},[])}}static parse(e,t){const i=this.parseConfigurationModel(e.defaults,t),n=this.parseConfigurationModel(e.policy,t),s=this.parseConfigurationModel(e.application,t),o=this.parseConfigurationModel(e.user,t),a=this.parseConfigurationModel(e.workspace,t),u=e.folders.reduce((h,d)=>(h.set(qe.revive(d[0]),this.parseConfigurationModel(d[1],t)),h),new Ze);return new Nr(i,n,s,o,ue.createEmptyModel(t),a,u,ue.createEmptyModel(t),new Ze,t)}static parseConfigurationModel(e,t){return new ue(e.contents,e.keys,e.overrides,void 0,t)}}class Vp{constructor(e,t,i,n,s){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=n,this.logService=s,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=46,this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const o of e.keys)this.affectedKeys.add(o);for(const[,o]of e.overrides)for(const a of o)this.affectedKeys.add(a);this._affectsConfigStr=this._marker;for(const o of this.affectedKeys)this._affectsConfigStr+=o+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=Nr.parse(this.previous.data,this.logService)),this._previousConfiguration}affectsConfiguration(e,t){var a;const i=this._marker+e,n=this._affectsConfigStr.indexOf(i);if(n<0)return!1;const s=n+i.length;if(s>=this._affectsConfigStr.length)return!1;const o=this._affectsConfigStr.charCodeAt(s);if(o!==this._markerCode1&&o!==this._markerCode2)return!1;if(t){const u=this.previousConfiguration?this.previousConfiguration.getValue(e,t,(a=this.previous)==null?void 0:a.workspace):void 0,h=this.currentConfiguraiton.getValue(e,t,this.currentWorkspace);return!xl(u,h)}return!0}}const fn={kind:0},lg={kind:1};function ug(r,e,t){return{kind:2,commandId:r,commandArgs:e,isBubble:t}}class an{constructor(e,t,i){var n;this._log=i,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(const s of e){const o=s.command;o&&o.charAt(0)!=="-"&&this._defaultBoundCommands.set(o,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=an.handleRemovals([].concat(e).concat(t));for(let s=0,o=this._keybindings.length;s<o;s++){const a=this._keybindings[s];if(a.chords.length===0)continue;const u=(n=a.when)==null?void 0:n.substituteConstants();u&&u.type===0||this._addKeyPress(a.chords[0],a)}}static _isTargetedForRemoval(e,t,i){if(t){for(let n=0;n<t.length;n++)if(t[n]!==e.chords[n])return!1}return!(i&&i.type!==1&&(!e.when||!lh(i,e.when)))}static handleRemovals(e){const t=new Map;for(let n=0,s=e.length;n<s;n++){const o=e[n];if(o.command&&o.command.charAt(0)==="-"){const a=o.command.substring(1);t.has(a)?t.get(a).push(o):t.set(a,[o])}}if(t.size===0)return e;const i=[];for(let n=0,s=e.length;n<s;n++){const o=e[n];if(!o.command||o.command.length===0){i.push(o);continue}if(o.command.charAt(0)==="-")continue;const a=t.get(o.command);if(!a||!o.isDefault){i.push(o);continue}let u=!1;for(const h of a){const d=h.when;if(this._isTargetedForRemoval(o,h.chords,d)){u=!0;break}}if(!u){i.push(o);continue}}return i}_addKeyPress(e,t){const i=this._map.get(e);if(typeof i>"u"){this._map.set(e,[t]),this._addToLookupMap(t);return}for(let n=i.length-1;n>=0;n--){const s=i[n];if(s.command===t.command)continue;let o=!0;for(let a=1;a<s.chords.length&&a<t.chords.length;a++)if(s.chords[a]!==t.chords[a]){o=!1;break}o&&an.whenIsEntirelyIncluded(s.when,t.when)&&this._removeFromLookupMap(s)}i.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);typeof t>"u"?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;const t=this._lookupMap.get(e.command);if(!(typeof t>"u")){for(let i=0,n=t.length;i<n;i++)if(t[i]===e){t.splice(i,1);return}}}static whenIsEntirelyIncluded(e,t){return!t||t.type===1?!0:!e||e.type===1?!1:Os(e,t)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){const i=this._lookupMap.get(e);if(typeof i>"u"||i.length===0)return null;if(i.length===1)return i[0];for(let n=i.length-1;n>=0;n--){const s=i[n];if(t.contextMatchesRules(s.when))return s}return i[i.length-1]}resolve(e,t,i){const n=[...t,i];this._log(`| Resolving ${n}`);const s=this._map.get(n[0]);if(s===void 0)return this._log("\\ No keybinding entries."),fn;let o=null;if(n.length<2)o=s;else{o=[];for(let u=0,h=s.length;u<h;u++){const d=s[u];if(n.length>d.chords.length)continue;let g=!0;for(let p=1;p<n.length;p++)if(d.chords[p]!==n[p]){g=!1;break}g&&o.push(d)}}const a=this._findCommand(e,o);return a?n.length<a.chords.length?(this._log(`\\ From ${o.length} keybinding entries, awaiting ${a.chords.length-n.length} more chord(s), when: ${Mo(a.when)}, source: ${Ko(a)}.`),lg):(this._log(`\\ From ${o.length} keybinding entries, matched ${a.command}, when: ${Mo(a.when)}, source: ${Ko(a)}.`),ug(a.command,a.commandArgs,a.bubble)):(this._log(`\\ From ${o.length} keybinding entries, no when clauses matched the context.`),fn)}_findCommand(e,t){for(let i=t.length-1;i>=0;i--){const n=t[i];if(an._contextMatchesRules(e,n.when))return n}return null}static _contextMatchesRules(e,t){return t?t.evaluate(e):!0}}function Mo(r){return r?`${r.serialize()}`:"no when condition"}function Ko(r){return r.extensionId?r.isBuiltinExtension?`built-in extension ${r.extensionId}`:`user extension ${r.extensionId}`:r.isDefault?"built-in":"user"}const hg=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class Wp extends K{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:z.None}get inChordMode(){return this._currentChords.length>0}constructor(e,t,i,n,s){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=i,this._notificationService=n,this._logService=s,this._onDidUpdateKeybindings=this._register(new I),this._currentChords=[],this._currentChordChecker=new Il,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=Ut.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new Fa,this._currentlyDispatchingCommandId=null,this._logging=!1}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){const i=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(i)return i.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){this._log("/ Soft dispatching keyboard event");const i=this.resolveKeyboardEvent(e);if(i.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),fn;const[n]=i.getDispatchChords();if(n===null)return this._log("\\ Keyboard event cannot be dispatched"),fn;const s=this._contextKeyService.getContext(t),o=this._currentChords.map(({keypress:a})=>a);return this._getResolver().resolve(s,o,n)}_scheduleLeaveChordMode(){const e=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-e>5e3&&this._leaveChordMode()},500)}_expectAnotherChord(e,t){switch(this._currentChords.push({keypress:e,label:t}),this._currentChords.length){case 0:throw vr("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(c("first.chord","({0}) was pressed. Waiting for second key of chord...",t));break;default:{const i=this._currentChords.map(({label:n})=>n).join(", ");this._currentChordStatusMessage=this._notificationService.status(c("next.chord","({0}) was pressed. Waiting for next key of chord...",i))}}this._scheduleLeaveChordMode(),fs.enabled&&fs.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],fs.enable()}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){const i=this.resolveKeyboardEvent(e),[n]=i.getSingleModifierDispatchChords();if(n)return this._ignoreSingleModifiers.has(n)?(this._log(`+ Ignoring single modifier ${n} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=Ut.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=Ut.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${n}.`),this._currentSingleModifier=n,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):n===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${n} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[s]=i.getChords();return this._ignoreSingleModifiers=new Ut(s),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(e,t,i=!1){let n=!1;if(e.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let s=null,o=null;if(i){const[d]=e.getSingleModifierDispatchChords();s=d,o=d?[d]:[]}else[s]=e.getDispatchChords(),o=this._currentChords.map(({keypress:d})=>d);if(s===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),n;const a=this._contextKeyService.getContext(t),u=e.getLabel(),h=this._getResolver().resolve(a,o,s);switch(h.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",u,"[ No matching keybinding ]"),this.inChordMode){const d=this._currentChords.map(({label:g})=>g).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${d}, ${u}".`),this._notificationService.status(c("missing.chord","The key combination ({0}, {1}) is not a command.",d,u),{hideAfter:10*1e3}),this._leaveChordMode(),n=!0}return n}case 1:return this._logService.trace("KeybindingService#dispatch",u,"[ Several keybindings match - more chords needed ]"),n=!0,this._expectAnotherChord(s,u),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),n;case 2:{if(this._logService.trace("KeybindingService#dispatch",u,`[ Will dispatch command ${h.commandId} ]`),h.commandId===null||h.commandId===""){if(this.inChordMode){const d=this._currentChords.map(({label:g})=>g).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${d}, ${u}".`),this._notificationService.status(c("missing.chord","The key combination ({0}, {1}) is not a command.",d,u),{hideAfter:10*1e3}),this._leaveChordMode(),n=!0}}else{this.inChordMode&&this._leaveChordMode(),h.isBubble||(n=!0),this._log(`+ Invoking command ${h.commandId}.`),this._currentlyDispatchingCommandId=h.commandId;try{typeof h.commandArgs>"u"?this._commandService.executeCommand(h.commandId).then(void 0,d=>this._notificationService.warn(d)):this._commandService.executeCommand(h.commandId,h.commandArgs).then(void 0,d=>this._notificationService.warn(d))}finally{this._currentlyDispatchingCommandId=null}hg.test(h.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:h.commandId,from:"keybinding",detail:e.getUserSettingsLabel()??void 0})}return n}}}mightProducePrintableCharacter(e){return e.ctrlKey||e.metaKey?!1:e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30}}const Tn=class Tn{constructor(e){this._ctrlKey=e?e.ctrlKey:!1,this._shiftKey=e?e.shiftKey:!1,this._altKey=e?e.altKey:!1,this._metaKey=e?e.metaKey:!1}has(e){switch(e){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}};Tn.EMPTY=new Tn(null);let Ut=Tn;class $p{constructor(e,t,i,n,s,o,a){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.chords=e?Gs(e.getDispatchChords()):[],e&&this.chords.length===0&&(this.chords=Gs(e.getSingleModifierDispatchChords())),this.bubble=t?t.charCodeAt(0)===94:!1,this.command=this.bubble?t.substr(1):t,this.commandArgs=i,this.when=n,this.isDefault=s,this.extensionId=o,this.isBuiltinExtension=a}}function Gs(r){const e=[];for(let t=0,i=r.length;t<i;t++){const n=r[t];if(!n)return[];e.push(n)}return e}class dg extends El{constructor(e,t){if(super(),t.length===0)throw Tl("chords");this._os=e,this._chords=t}getLabel(){return Aa.toLabel(this._os,this._chords,e=>this._getLabel(e))}getAriaLabel(){return Bl.toLabel(this._os,this._chords,e=>this._getAriaLabel(e))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:Fl.toLabel(this._os,this._chords,e=>this._getElectronAccelerator(e))}getUserSettingsLabel(){return Al.toLabel(this._os,this._chords,e=>this._getUserSettingsLabel(e))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(e=>this._getChord(e))}_getChord(e){return new Ll(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchChords(){return this._chords.map(e=>this._getChordDispatch(e))}getSingleModifierDispatchChords(){return this._chords.map(e=>this._getSingleModifierChordDispatch(e))}}class zs extends dg{constructor(e,t){super(t,e)}_keyCodeToUILabel(e){if(this._os===2)switch(e){case 15:return"";case 16:return"";case 17:return"";case 18:return""}return hi.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":hi.toString(e.keyCode)}_getElectronAccelerator(e){return hi.toElectronAccelerator(e.keyCode)}_getUserSettingsLabel(e){if(e.isDuplicateModifierCase())return"";const t=hi.toUserSettingsUS(e.keyCode);return t&&t.toLowerCase()}_getChordDispatch(e){return zs.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=hi.toString(e.keyCode),t}_getSingleModifierChordDispatch(e){return e.keyCode===5&&!e.shiftKey&&!e.altKey&&!e.metaKey?"ctrl":e.keyCode===4&&!e.ctrlKey&&!e.altKey&&!e.metaKey?"shift":e.keyCode===6&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey?"alt":e.keyCode===57&&!e.ctrlKey&&!e.shiftKey&&!e.altKey?"meta":null}static _scanCodeToKeyCode(e){const t=Ol[e];if(t!==-1)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(e){if(!e)return null;if(e instanceof to)return e;const t=this._scanCodeToKeyCode(e.scanCode);return t===0?null:new to(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)}static resolveKeybinding(e,t){const i=Gs(e.chords.map(n=>this._toKeyCodeChord(n)));return i.length>0?[new zs(i,t)]:[]}}const qp=R("labelService"),Up=R("progressService"),Jr=class Jr{constructor(e){this.callback=e}report(e){this._value=e,this.callback(this._value)}};Jr.None=Object.freeze({report(){}});let No=Jr;const jp=R("editorProgressService"),Gp=R("contextService");function gg(r){const e=r;return typeof(e==null?void 0:e.id)=="string"&&qe.isUri(e.uri)}function zp(r){const e=r;return typeof(e==null?void 0:e.id)=="string"&&!gg(r)&&!pg(r)}const fg={id:"empty-window"};function Qp(r,e){if(typeof r=="string"||typeof r>"u")return typeof r=="string"?{id:Rl(r)}:fg;const t=r;return t.configuration?{id:t.id,configPath:t.configuration}:t.folders.length===1?{id:t.id,uri:t.folders[0].uri}:{id:t.id}}function pg(r){const e=r;return typeof(e==null?void 0:e.id)=="string"&&qe.isUri(e.configPath)}class Yp{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const mg="code-workspace";c("codeWorkspace","Code Workspace");const yg="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function Jp(r){return r.id===yg}const Xp=R("workspaceTrustManagementService");function Zp(r){return r&&typeof r=="object"&&typeof r.original=="string"&&typeof r.value=="string"}function bg(r){return r?r.condition!==void 0:!1}const cn="__$__targetStorageMarker",ns=R("storageService");var Qs;(function(r){r[r.NONE=0]="NONE",r[r.SHUTDOWN=1]="SHUTDOWN"})(Qs||(Qs={}));function kg(r){const e=r.get(cn);if(e)try{return JSON.parse(e)}catch{}return Object.create(null)}const Bn=class Bn extends K{constructor(e={flushInterval:Bn.DEFAULT_FLUSH_INTERVAL}){super(),this.options=e,this._onDidChangeValue=this._register(new Bs),this._onDidChangeTarget=this._register(new Bs),this._onWillSaveState=this._register(new I),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(e,t,i){return z.filter(this._onDidChangeValue.event,n=>n.scope===e&&(t===void 0||n.key===t),i)}emitDidChangeValue(e,t){const{key:i,external:n}=t;if(i===cn){switch(e){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:e})}else this._onDidChangeValue.fire({scope:e,key:i,target:this.getKeyTargets(e)[i],external:n})}get(e,t,i){var n;return(n=this.getStorage(t))==null?void 0:n.get(e,i)}getBoolean(e,t,i){var n;return(n=this.getStorage(t))==null?void 0:n.getBoolean(e,i)}getNumber(e,t,i){var n;return(n=this.getStorage(t))==null?void 0:n.getNumber(e,i)}store(e,t,i,n,s=!1){if(nn(t)){this.remove(e,i,s);return}this.withPausedEmitters(()=>{var o;this.updateKeyTarget(e,i,n),(o=this.getStorage(i))==null||o.set(e,t,s)})}remove(e,t,i=!1){this.withPausedEmitters(()=>{var n;this.updateKeyTarget(e,t,void 0),(n=this.getStorage(t))==null||n.delete(e,i)})}withPausedEmitters(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(e,t,i,n=!1){var o,a;const s=this.getKeyTargets(t);typeof i=="number"?s[e]!==i&&(s[e]=i,(o=this.getStorage(t))==null||o.set(cn,JSON.stringify(s),n)):typeof s[e]=="number"&&(delete s[e],(a=this.getStorage(t))==null||a.set(cn,JSON.stringify(s),n))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(e){switch(e){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(e){const t=this.getStorage(e);return t?kg(t):Object.create(null)}};Bn.DEFAULT_FLUSH_INTERVAL=60*1e3;let Ys=Bn;class em extends Ys{constructor(){super(),this.applicationStorage=this._register(new ps(new ms,{hint:ys.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new ps(new ms,{hint:ys.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new ps(new ms,{hint:ys.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(e=>this.emitDidChangeValue(1,e))),this._register(this.profileStorage.onDidChangeStorage(e=>this.emitDidChangeValue(0,e))),this._register(this.applicationStorage.onDidChangeStorage(e=>this.emitDidChangeValue(-1,e)))}getStorage(e){switch(e){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}function Cg(r,e){const t={...e};for(const i in r){const n=r[i];t[i]=n!==void 0?b(n):void 0}return t}const vg={keybindingLabelBackground:b(xd),keybindingLabelForeground:b(Dd),keybindingLabelBorder:b(Id),keybindingLabelBottomBorder:b(Ed),keybindingLabelShadow:b(Hi)},Sg={buttonForeground:b(xc),buttonSeparator:b(hd),buttonBackground:b(pi),buttonHoverBackground:b(dd),buttonSecondaryForeground:b(fd),buttonSecondaryBackground:b(Ws),buttonSecondaryHoverBackground:b(pd),buttonBorder:b(gd)},_g={progressBarBackground:b(Vh)},Oc={inputActiveOptionBorder:b(_c),inputActiveOptionForeground:b(wc),inputActiveOptionBackground:b(Or)};b(mi),b(md),b(yd),b(bd),b(kd),b(Cd),b(vd);b(Sd),b(wd),b(_d);b(ye),b(ts),b(Hi),b(T),b(Gh),b(zh),b(Qh),b(Hh);const Rc={inputBackground:b(Jh),inputForeground:b(Xh),inputBorder:b(Zh),inputValidationInfoBorder:b(nd),inputValidationInfoBackground:b(td),inputValidationInfoForeground:b(id),inputValidationWarningBorder:b(od),inputValidationWarningBackground:b(sd),inputValidationWarningForeground:b(rd),inputValidationErrorBorder:b(ld),inputValidationErrorBackground:b(ad),inputValidationErrorForeground:b(cd)},wg={listFilterWidgetBackground:b(Pd),listFilterWidgetOutline:b(Vd),listFilterWidgetNoMatchesOutline:b(Wd),listFilterWidgetShadow:b($d),inputBoxStyles:Rc,toggleStyles:Oc},xg={badgeBackground:b(on),badgeForeground:b(Ph),badgeBorder:b(T)};b(Uh),b(qh),b(To),b(To),b(jh);const Ot={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:b(Td),listFocusForeground:b(Bd),listFocusOutline:b(Fd),listActiveSelectionBackground:b(xt),listActiveSelectionForeground:b(Fi),listActiveSelectionIconForeground:b(Dc),listFocusAndSelectionOutline:b(Ad),listFocusAndSelectionBackground:b(xt),listFocusAndSelectionForeground:b(Fi),listInactiveSelectionBackground:b(Ld),listInactiveSelectionIconForeground:b(Rd),listInactiveSelectionForeground:b(Od),listInactiveFocusBackground:b(Md),listInactiveFocusOutline:b(Kd),listHoverBackground:b(Ic),listHoverForeground:b(Ec),listDropOverBackground:b(Nd),listDropBetweenBackground:b(Hd),listSelectionOutline:b(Q),listHoverOutline:b(Q),treeIndentGuidesStroke:b(Tc),treeInactiveIndentGuidesStroke:b(qd),treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:b(Ar),tableColumnsBorder:b(Ud),tableOddRowsBackgroundColor:b(jd)};function Wi(r){return Cg(r,Ot)}const Dg={selectBackground:b(is),selectListBackground:b(ud),selectForeground:b(Rr),decoratorRightForeground:b(Bc),selectBorder:b(Mr),focusBorder:b(Me),listFocusBackground:b(qs),listInactiveSelectionIconForeground:b(Fc),listFocusForeground:b($s),listFocusOutline:Ah(Q,C.transparent.toString()),listHoverBackground:b(Ic),listHoverForeground:b(Ec),listHoverOutline:b(Q),selectListBorder:b(bc),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropOverBackground:void 0,listDropBetweenBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0},Ig={shadowColor:b(Hi),borderColor:b(Gd),foregroundColor:b(zd),backgroundColor:b(Qd),selectionForegroundColor:b(Yd),selectionBackgroundColor:b(Jd),selectionBorderColor:b(Xd),separatorColor:b(Zd),scrollbarShadow:b(Ar),scrollbarSliderBackground:b(pc),scrollbarSliderHoverBackground:b(mc),scrollbarSliderActiveBackground:b(yc)};var ss=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},se=function(r,e){return function(t,i){e(t,i,r)}};function Eg(r,e,t,i){let n,s,o;if(Array.isArray(r))o=r,n=e,s=t;else{const h=e;o=r.getActions(h),n=t,s=i}const a=xr.getInstance(),u=a.keyStatus.altKey||(_r||Sr)&&a.keyStatus.shiftKey;Mc(o,n,u,s?h=>h===s:h=>h==="navigation")}function Tg(r,e,t,i,n,s){let o,a,u,h,d;if(Array.isArray(r))d=r,o=e,a=t,u=i,h=n;else{const p=e;d=r.getActions(p),o=t,a=i,u=n,h=s}Mc(d,o,!1,typeof a=="string"?p=>p===a:a,u,h)}function Mc(r,e,t,i=o=>o==="navigation",n=()=>!1,s=!1){let o,a;Array.isArray(e)?(o=e,a=e):(o=e.primary,a=e.secondary);const u=new Set;for(const[h,d]of r){let g;i(h)?(g=o,g.length>0&&s&&g.push(new et)):(g=a,g.length>0&&g.push(new et));for(let p of d){t&&(p=p instanceof Ve&&p.alt?p.alt:p);const m=g.push(p);p instanceof Ta&&u.add({group:h,action:p,index:m-1})}}for(const{group:h,action:d,index:g}of u){const p=i(h)?o:a,m=d.actions;n(d,h,p.length)&&p.splice(g,1,...m)}}let oi=class extends Ml{constructor(e,t,i,n,s,o,a,u){super(void 0,e,{icon:!!(e.class||e.item.icon),label:!e.class&&!e.item.icon,draggable:t==null?void 0:t.draggable,keybinding:t==null?void 0:t.keybinding,hoverDelegate:t==null?void 0:t.hoverDelegate}),this._options=t,this._keybindingService=i,this._notificationService=n,this._contextKeyService=s,this._themeService=o,this._contextMenuService=a,this._accessibilityService=u,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new Hn),this._altKey=xr.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}async onClick(e){e.preventDefault(),e.stopPropagation();try{await this.actionRunner.run(this._commandAction,this._context)}catch(t){this._notificationService.error(t)}}render(e){if(super.render(e),e.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let t=!1;const i=()=>{var s;const n=!!((s=this._menuItemAction.alt)!=null&&s.enabled)&&(!this._accessibilityService.isMotionReduced()||t)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&t);n!==this._wantsAltCommand&&(this._wantsAltCommand=n,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(i)),this._register(G(e,"mouseleave",n=>{t=!1,i()})),this._register(G(e,"mouseenter",n=>{t=!0,i()})),i()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var s;const e=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),t=e&&e.getLabel(),i=this._commandAction.tooltip||this._commandAction.label;let n=t?c("titleAndKb","{0} ({1})",i,t):i;if(!this._wantsAltCommand&&((s=this._menuItemAction.alt)!=null&&s.enabled)){const o=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,a=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),u=a&&a.getLabel(),h=u?c("titleAndKb","{0} ({1})",o,u):o;n=c("titleAndKbAndAlt",`{0}
[{1}] {2}`,n,Aa.modifierLabels[pt].altKey,h)}return n}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){this._itemClassDispose.value=void 0;const{element:t,label:i}=this;if(!t||!i)return;const n=this._commandAction.checked&&bg(e.toggled)&&e.toggled.icon?e.toggled.icon:e.icon;if(n)if(U.isThemeIcon(n)){const s=U.asClassNameArray(n);i.classList.add(...s),this._itemClassDispose.value=be(()=>{i.classList.remove(...s)})}else i.style.backgroundImage=Fr(this._themeService.getColorTheme().type)?it(n.dark):it(n.light),i.classList.add("icon"),this._itemClassDispose.value=Kn(be(()=>{i.style.backgroundImage="",i.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};oi=ss([se(2,ge),se(3,Zn),se(4,$),se(5,Xn),se(6,Vi),se(7,Lc)],oi);class Kc extends oi{render(e){var t;this.options.label=!0,this.options.icon=!1,super.render(e),e.classList.add("text-only"),e.classList.toggle("use-comma",((t=this._options)==null?void 0:t.useComma)??!1)}updateLabel(){var t;const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();if(this.label){const i=Kc._symbolPrintEnter(e);(t=this._options)!=null&&t.conversational?this.label.textContent=c({key:"content2",comment:['A label with keybindg like "ESC to dismiss"']},"{1} to {0}",this._action.label,i):this.label.textContent=c({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",this._action.label,i)}}static _symbolPrintEnter(e){var t;return(t=e.getLabel())==null?void 0:t.replace(/\benter\b/gi,"").replace(/\bEscape\b/gi,"Esc")}}let Js=class extends La{constructor(e,t,i,n,s){const o={...t,menuAsChild:(t==null?void 0:t.menuAsChild)??!1,classNames:(t==null?void 0:t.classNames)??(U.isThemeIcon(e.item.icon)?U.asClassName(e.item.icon):void 0),keybindingProvider:(t==null?void 0:t.keybindingProvider)??(a=>i.lookupKeybinding(a.id))};super(e,{getActions:()=>e.actions},n,o),this._keybindingService=i,this._contextMenuService=n,this._themeService=s}render(e){super.render(e),Kl(this.element),e.classList.add("menu-entry");const t=this._action,{icon:i}=t.item;if(i&&!U.isThemeIcon(i)){this.element.classList.add("icon");const n=()=>{this.element&&(this.element.style.backgroundImage=Fr(this._themeService.getColorTheme().type)?it(i.dark):it(i.light))};n(),this._register(this._themeService.onDidColorThemeChange(()=>{n()}))}}};Js=ss([se(2,ge),se(3,Vi),se(4,Xn)],Js);let Xs=class extends Nl{constructor(e,t,i,n,s,o,a,u){super(null,e),this._keybindingService=i,this._notificationService=n,this._contextMenuService=s,this._menuService=o,this._instaService=a,this._storageService=u,this._container=null,this._options=t,this._storageKey=`${e.item.submenu.id}_lastActionId`;let h;const d=t!=null&&t.persistLastActionId?u.get(this._storageKey,1):void 0;d&&(h=e.actions.find(p=>d===p.id)),h||(h=e.actions[0]),this._defaultAction=this._instaService.createInstance(oi,h,{keybinding:this._getDefaultActionKeybindingLabel(h)});const g={keybindingProvider:p=>this._keybindingService.lookupKeybinding(p.id),...t,menuAsChild:(t==null?void 0:t.menuAsChild)??!0,classNames:(t==null?void 0:t.classNames)??["codicon","codicon-chevron-down"],actionRunner:(t==null?void 0:t.actionRunner)??new Fs};this._dropdown=new La(e,e.actions,this._contextMenuService,g),this._register(this._dropdown.actionRunner.onDidRun(p=>{p.action instanceof Ve&&this.update(p.action)}))}update(e){var t;(t=this._options)!=null&&t.persistLastActionId&&this._storageService.store(this._storageKey,e.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(oi,e,{keybinding:this._getDefaultActionKeybindingLabel(e)}),this._defaultAction.actionRunner=new class extends Fs{async runAction(i,n){await i.run(void 0)}},this._container&&this._defaultAction.render(Oa(this._container,Ie(".action-container")))}_getDefaultActionKeybindingLabel(e){var i;let t;if((i=this._options)!=null&&i.renderKeybindingWithDefaultActionLabel){const n=this._keybindingService.lookupKeybinding(e.id);n&&(t=`(${n.getLabel()})`)}return t}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const t=Ie(".action-container");this._defaultAction.render(M(this._container,t)),this._register(G(t,V.KEY_DOWN,n=>{const s=new ii(n);s.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),s.stopPropagation())}));const i=Ie(".dropdown-action-container");this._dropdown.render(M(this._container,i)),this._register(G(i,V.KEY_DOWN,n=>{var o;const s=new ii(n);s.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(o=this._defaultAction.element)==null||o.focus(),s.stopPropagation())}))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};Xs=ss([se(2,ge),se(3,Zn),se(4,Vi),se(5,zn),se(6,Z),se(7,ns)],Xs);let Zs=class extends Hl{constructor(e,t){super(null,e,e.actions.map(i=>({text:i.id===et.ID?"":i.label,isDisabled:!i.enabled})),0,t,Dg,{ariaLabel:e.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,e.actions.findIndex(i=>i.checked)))}render(e){super.render(e),e.style.borderColor=b(Mr)}runAction(e,t){const i=this.action.actions[t];i&&this.actionRunner.run(i)}};Zs=ss([se(1,Pi)],Zs);function rm(r,e,t){return e instanceof Ve?r.createInstance(oi,e,t):e instanceof Si?e.item.isSelection?r.createInstance(Zs,e):e.item.rememberDefaultAction?r.createInstance(Xs,e,{...t,persistLastActionId:!0}):r.createInstance(Js,e,t):void 0}class Bg{constructor(e,t,i,n){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=n,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;this.focusToReturn=bs();let i;const n=ei(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:s=>{var d;this.lastContainer=s;const o=e.getMenuClassName?e.getMenuClassName():"";o&&(s.className+=" "+o),this.options.blockMouse&&(this.block=s.appendChild(Ie(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(d=this.blockDisposable)==null||d.dispose(),this.blockDisposable=G(this.block,V.MOUSE_DOWN,g=>g.stopPropagation()));const a=new W,u=e.actionRunner||new Fs;u.onWillRun(g=>this.onActionRun(g,!e.skipTelemetry),this,a),u.onDidRun(this.onDidActionRun,this,a),i=new Pl(s,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:u,getKeyBinding:e.getKeyBinding?e.getKeyBinding:g=>this.keybindingService.lookupKeybinding(g.id)},Ig),i.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,a),i.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,a);const h=Xe(s);return a.add(G(h,V.BLUR,()=>this.contextViewService.hideContextView(!0))),a.add(G(h,V.MOUSE_DOWN,g=>{if(g.defaultPrevented)return;const p=new Ra(h,g);let m=p.target;if(!p.rightButton){for(;m;){if(m===s)return;m=m.parentElement}this.contextViewService.hideContextView(!0)}})),Kn(a,i)},focus:()=>{i==null||i.focus(!!e.autoSelectFirstItem)},onHide:s=>{var o,a,u;(o=e.onHide)==null||o.call(e,!!s),this.block&&(this.block.remove(),this.block=null),(a=this.blockDisposable)==null||a.dispose(),this.blockDisposable=null,this.lastContainer&&(bs()===this.lastContainer||Qe(bs(),this.lastContainer))&&((u=this.focusToReturn)==null||u.focus()),this.lastContainer=null}},n,!!n)}onActionRun(e,t){t&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(e){e.error&&!Dr(e.error)&&this.notificationService.error(e.error)}}var Fg=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Ht=function(r,e){return function(t,i){e(t,i,r)}};let Ho=class extends K{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new Bg(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(e,t,i,n,s,o){super(),this.telemetryService=e,this.notificationService=t,this.contextViewService=i,this.keybindingService=n,this.menuService=s,this.contextKeyService=o,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new I),this.onDidShowContextMenu=this._onDidShowContextMenu.event,this._onDidHideContextMenu=this._store.add(new I)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){e=er.transform(e,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu({...e,onHide:t=>{var i;(i=e.onHide)==null||i.call(e,t),this._onDidHideContextMenu.fire()}}),xr.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};Ho=Fg([Ht(0,Qn),Ht(1,Zn),Ht(2,Pi),Ht(3,ge),Ht(4,zn),Ht(5,$)],Ho);var er;(function(r){function e(i){return i&&i.menuId instanceof kt}function t(i,n,s){if(!e(i))return i;const{menuId:o,menuActionOptions:a,contextKeyService:u}=i;return{...i,getActions:()=>{const h=[];if(o){const d=n.getMenuActions(o,u??s,a);Eg(d,h)}return i.getActions?et.join(i.getActions(),h):h}}}r.transform=t})(er||(er={}));var Po;(function(r){r[r.API=0]="API",r[r.USER=1]="USER"})(Po||(Po={}));var tt;(function(r){r[r.Hint=1]="Hint",r[r.Info=2]="Info",r[r.Warning=4]="Warning",r[r.Error=8]="Error"})(tt||(tt={}));(function(r){function e(o,a){return a-o}r.compare=e;const t=Object.create(null);t[r.Error]=c("sev.error","Error"),t[r.Warning]=c("sev.warning","Warning"),t[r.Info]=c("sev.info","Info");function i(o){return t[o]||""}r.toString=i;function n(o){switch(o){case j.Error:return r.Error;case j.Warning:return r.Warning;case j.Info:return r.Info;case j.Ignore:return r.Hint}}r.fromSeverity=n;function s(o){switch(o){case r.Error:return j.Error;case r.Warning:return j.Warning;case r.Info:return j.Info;case r.Hint:return j.Ignore}}r.toSeverity=s})(tt||(tt={}));var Vo;(function(r){const e="";function t(n){return i(n,!0)}r.makeKey=t;function i(n,s){const o=[e];return n.source?o.push(n.source.replace("","\\")):o.push(e),n.code?typeof n.code=="string"?o.push(n.code.replace("","\\")):o.push(n.code.value.replace("","\\")):o.push(e),n.severity!==void 0&&n.severity!==null?o.push(tt.toString(n.severity)):o.push(e),n.message&&s?o.push(n.message.replace("","\\")):o.push(e),n.startLineNumber!==void 0&&n.startLineNumber!==null?o.push(n.startLineNumber.toString()):o.push(e),n.startColumn!==void 0&&n.startColumn!==null?o.push(n.startColumn.toString()):o.push(e),n.endLineNumber!==void 0&&n.endLineNumber!==null?o.push(n.endLineNumber.toString()):o.push(e),n.endColumn!==void 0&&n.endColumn!==null?o.push(n.endColumn.toString()):o.push(e),o.push(e),o.join("")}r.makeKeyOptionalMessage=i})(Vo||(Vo={}));const am=R("markerService");var tr;(function(r){r[r.PRESERVE=0]="PRESERVE",r[r.LAST=1]="LAST"})(tr||(tr={}));const Hr={Quickaccess:"workbench.contributions.quickaccess"};class Ag{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return e.prefix.length===0?this.defaultProvider=e:this.providers.push(e),this.providers.sort((t,i)=>i.prefix.length-t.prefix.length),be(()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return Vl([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find(i=>e.startsWith(i.prefix))||void 0||this.defaultProvider}}oe.add(Hr.Quickaccess,new Ag);const Lg={ctrlCmd:!1,alt:!1};var ai;(function(r){r[r.Blur=1]="Blur",r[r.Gesture=2]="Gesture",r[r.Other=3]="Other"})(ai||(ai={}));var Ae;(function(r){r[r.NONE=0]="NONE",r[r.FIRST=1]="FIRST",r[r.SECOND=2]="SECOND",r[r.LAST=3]="LAST"})(Ae||(Ae={}));var A;(function(r){r[r.First=1]="First",r[r.Second=2]="Second",r[r.Last=3]="Last",r[r.Next=4]="Next",r[r.Previous=5]="Previous",r[r.NextPage=6]="NextPage",r[r.PreviousPage=7]="PreviousPage",r[r.NextSeparator=8]="NextSeparator",r[r.PreviousSeparator=9]="PreviousSeparator"})(A||(A={}));var pn;(function(r){r[r.Title=1]="Title",r[r.Inline=2]="Inline"})(pn||(pn={}));const rs=R("quickInputService");var Og=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Wo=function(r,e){return function(t,i){e(t,i,r)}};let ir=class extends K{constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=oe.as(Hr.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,i){var v,y;const[n,s]=this.getOrInstantiateProvider(e,i==null?void 0:i.enabledProviderPrefixes),o=this.visibleQuickAccess,a=o==null?void 0:o.descriptor;if(o&&s&&a===s){e!==s.prefix&&!(i!=null&&i.preserveValue)&&(o.picker.value=e),this.adjustValueSelection(o.picker,s,i);return}if(s&&!(i!=null&&i.preserveValue)){let k;if(o&&a&&a!==s){const S=o.value.substr(a.prefix.length);S&&(k=`${s.prefix}${S}`)}if(!k){const S=n==null?void 0:n.defaultFilterValue;S===tr.LAST?k=this.lastAcceptedPickerValues.get(s):typeof S=="string"&&(k=`${s.prefix}${S}`)}typeof k=="string"&&(e=k)}const u=(v=o==null?void 0:o.picker)==null?void 0:v.valueSelection,h=(y=o==null?void 0:o.picker)==null?void 0:y.value,d=new W,g=d.add(this.quickInputService.createQuickPick({useSeparators:!0}));g.value=e,this.adjustValueSelection(g,s,i),g.placeholder=(i==null?void 0:i.placeholder)??(s==null?void 0:s.placeholder),g.quickNavigate=i==null?void 0:i.quickNavigateConfiguration,g.hideInput=!!g.quickNavigate&&!o,(typeof(i==null?void 0:i.itemActivation)=="number"||i!=null&&i.quickNavigateConfiguration)&&(g.itemActivation=(i==null?void 0:i.itemActivation)??Ae.SECOND),g.contextKey=s==null?void 0:s.contextKey,g.filterValue=k=>k.substring(s?s.prefix.length:0);let p;t&&(p=new Ma,d.add(z.once(g.onWillAccept)(k=>{k.veto(),g.hide()}))),d.add(this.registerPickerListeners(g,n,s,e,i));const m=d.add(new Ir);if(n&&d.add(n.provide(g,m.token,i==null?void 0:i.providerOptions)),z.once(g.onDidHide)(()=>{g.selectedItems.length===0&&m.cancel(),d.dispose(),p==null||p.complete(g.selectedItems.slice(0))}),g.show(),u&&h===e&&(g.valueSelection=u),t)return p==null?void 0:p.p}adjustValueSelection(e,t,i){let n;i!=null&&i.preserveValue?n=[e.value.length,e.value.length]:n=[(t==null?void 0:t.prefix.length)??0,e.value.length],e.valueSelection=n}registerPickerListeners(e,t,i,n,s){const o=new W,a=this.visibleQuickAccess={picker:e,descriptor:i,value:n};return o.add(be(()=>{a===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),o.add(e.onDidChangeValue(u=>{const[h]=this.getOrInstantiateProvider(u,s==null?void 0:s.enabledProviderPrefixes);h!==t?this.show(u,{enabledProviderPrefixes:s==null?void 0:s.enabledProviderPrefixes,preserveValue:!0,providerOptions:s==null?void 0:s.providerOptions}):a.value=u})),i&&o.add(e.onDidAccept(()=>{this.lastAcceptedPickerValues.set(i,e.value)})),o}getOrInstantiateProvider(e,t){const i=this.registry.getQuickAccessProvider(e);if(!i||t&&!(t!=null&&t.includes(i.prefix)))return[void 0,void 0];let n=this.mapProviderToDescriptor.get(i);return n||(n=this.instantiationService.createInstance(i.ctor),this.mapProviderToDescriptor.set(i,n)),[n,i]}};ir=Og([Wo(0,rs),Wo(1,Z)],ir);const ws={},Rg=new ql("quick-input-button-icon-");function Mg(r){if(!r)return;let e;const t=r.dark.toString();return ws[t]?e=ws[t]:(e=Rg.nextId(),io(`.${e}, .hc-light .${e}`,`background-image: ${it(r.light||r.dark)}`),io(`.vs-dark .${e}, .hc-black .${e}`,`background-image: ${it(r.dark)}`),ws[t]=e),e}function _i(r,e,t){let i=r.iconClass||Mg(r.iconPath);return r.alwaysVisible&&(i=i?`${i} always-visible`:"always-visible"),{id:e,label:"",tooltip:r.tooltip||"",class:i,enabled:!0,run:t}}function Kg(r,e,t){Jt(e);const i=Wl(r);let n=0;for(const s of i.nodes)if(typeof s=="string")e.append(...$l(s));else{let o=s.title;!o&&s.href.startsWith("command:")?o=c("executeCommand","Click to execute command '{0}'",s.href.substring(8)):o||(o=s.href);const a=Ie("a",{href:s.href,title:o,tabIndex:n++},s.label);a.style.textDecoration="underline";const u=m=>{Ul(m)&&ut.stop(m,!0),t.callback(s.href)},h=t.disposables.add(new Xt(a,V.CLICK)).event,d=t.disposables.add(new Xt(a,V.KEY_DOWN)).event,g=z.chain(d,m=>m.filter(v=>{const y=new ii(v);return y.equals(10)||y.equals(3)}));t.disposables.add(Ka.addTarget(a));const p=t.disposables.add(new Xt(a,Na.Tap)).event;z.any(h,p,g)(u,null,t.disposables),e.appendChild(a)}}var Ng=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},$o=function(r,e){return function(t,i){e(t,i,r)}};const Nc="inQuickInput",Hg=new E(Nc,!1,c("inQuickInput","Whether keyboard focus is inside the quick input control")),Pg=B.has(Nc),Hc="quickInputType",Vg=new E(Hc,void 0,c("quickInputType","The type of the currently visible quick input")),Pc="cursorAtEndOfQuickInputBox",Wg=new E(Pc,!1,c("cursorAtEndOfQuickInputBox","Whether the cursor in the quick input is at the end of the input box")),$g=B.has(Pc),nr={iconClass:U.asClassName(xe.quickInputBack),tooltip:c("quickInput.back","Back")},Fn=class Fn extends K{constructor(e){super(),this.ui=e,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._leftButtons=[],this._rightButtons=[],this._inlineButtons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=Fn.noPromptMessage,this._severity=j.Ignore,this.onDidTriggerButtonEmitter=this._register(new I),this.onDidHideEmitter=this._register(new I),this.onWillHideEmitter=this._register(new I),this.onDisposeEmitter=this._register(new I),this.visibleDisposables=this._register(new W),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){const t=this._ignoreFocusOut!==e&&!As;this._ignoreFocusOut=e&&!As,t&&this.update()}get titleButtons(){return this._leftButtons.length?[...this._leftButtons,this._rightButtons]:this._rightButtons}get buttons(){return[...this._leftButtons,...this._rightButtons,...this._inlineButtons]}set buttons(e){this._leftButtons=e.filter(t=>t===nr),this._rightButtons=e.filter(t=>t!==nr&&t.location!==pn.Inline),this._inlineButtons=e.filter(t=>t.location===pn.Inline),this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(e){this._toggles=e??[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get severity(){return this._severity}set severity(e){this._severity=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(e=>{this.buttons.indexOf(e)!==-1&&this.onDidTriggerButtonEmitter.fire(e)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(e=ai.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}willHide(e=ai.Other){this.onWillHideEmitter.fire({reason:e})}update(){var n;if(!this.visible)return;const e=this.getTitle();e&&this.ui.title.textContent!==e?this.ui.title.textContent=e:!e&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="");const t=this.getDescription();if(this.ui.description1.textContent!==t&&(this.ui.description1.textContent=t),this.ui.description2.textContent!==t&&(this.ui.description2.textContent=t),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?Jt(this.ui.widget,this._widget):Jt(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new Fa,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const s=this._leftButtons.map((u,h)=>_i(u,`id-${h}`,async()=>this.onDidTriggerButtonEmitter.fire(u)));this.ui.leftActionBar.push(s,{icon:!0,label:!1}),this.ui.rightActionBar.clear();const o=this._rightButtons.map((u,h)=>_i(u,`id-${h}`,async()=>this.onDidTriggerButtonEmitter.fire(u)));this.ui.rightActionBar.push(o,{icon:!0,label:!1}),this.ui.inlineActionBar.clear();const a=this._inlineButtons.map((u,h)=>_i(u,`id-${h}`,async()=>this.onDidTriggerButtonEmitter.fire(u)));this.ui.inlineActionBar.push(a,{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const s=((n=this.toggles)==null?void 0:n.filter(o=>o instanceof jl))??[];this.ui.inputBox.toggles=s}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const i=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==i&&(this._lastValidationMessage=i,Jt(this.ui.message),Kg(i,this.ui.message,{callback:s=>{this.ui.linkOpenerDelegate(s)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?c("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e!==j.Ignore){const t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?`${t.foreground}`:"",this.ui.message.style.backgroundColor=t.background?`${t.background}`:"",this.ui.message.style.border=t.border?`1px solid ${t.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}};Fn.noPromptMessage=c("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");let mn=Fn;const An=class An extends mn{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new I),this.onWillAcceptEmitter=this._register(new I),this.onDidAcceptEmitter=this._register(new I),this.onDidCustomEmitter=this._register(new I),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._keepScrollPosition=!1,this._itemActivation=Ae.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new I),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new I),this.onDidTriggerItemButtonEmitter=this._register(new I),this.onDidTriggerSeparatorButtonEmitter=this._register(new I),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this._focusEventBufferer=new Ha,this.type="quickPick",this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this.doSetValue(e)}doSetValue(e,t){this._value!==e&&(this._value=e,t||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(e){this.ui.list.scrollTop=e}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(e){this._matchOnLabelMode=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(e){this._keepScrollPosition=e}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?Lg:this.ui.keyMods}get valueSelection(){const e=this.ui.inputBox.getSelection();if(e)return[e.start,e.end]}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.canSelectMany||this.ui.list.focus(A.First)}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{this.doSetValue(e,!0)})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this._focusEventBufferer.wrapEvent(this.ui.list.onDidChangeFocus,(e,t)=>t)(e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&bt(e,this._activeItems,(t,i)=>t===i)||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:e,event:t})=>{if(this.canSelectMany){e.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&bt(e,this._selectedItems,(i,n)=>i===n)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.handleAccept(Gl(t)&&t.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(e=>{!this.canSelectMany||!this.visible||this.selectedItemsToConfirm!==this._selectedItems&&bt(e,this._selectedItems,(t,i)=>t===i)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(e=>this.onDidTriggerItemButtonEmitter.fire(e))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(e=>this.onDidTriggerSeparatorButtonEmitter.fire(e))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return G(this.ui.container,V.KEY_UP,e=>{if(this.canSelectMany||!this._quickNavigate)return;const t=new ii(e),i=t.keyCode;this._quickNavigate.keybindings.some(o=>{const a=o.getChords();return a.length>1?!1:a[0].shiftKey&&i===4?!(t.ctrlKey||t.altKey||t.metaKey):!!(a[0].altKey&&i===6||a[0].ctrlKey&&i===5||a[0].metaKey&&i===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const e=this.keepScrollPosition?this.scrollTop:0,t=!!this.description,i={title:!!this.title||!!this.step||!!this.titleButtons.length,description:t,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||t,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(i),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let n=this.ariaLabel;!n&&i.inputBox&&(n=this.placeholder||An.DEFAULT_ARIA_LABEL,this.title&&(n+=` - ${this.title}`)),this.ui.list.ariaLabel!==n&&(this.ui.list.ariaLabel=n??null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated&&(this.itemsUpdated=!1,this._focusEventBufferer.bufferEvents(()=>{switch(this.ui.list.setElements(this.items),this.ui.list.shouldLoop=!this.canSelectMany,this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this._itemActivation){case Ae.NONE:this._itemActivation=Ae.FIRST;break;case Ae.SECOND:this.ui.list.focus(A.Second),this._itemActivation=Ae.FIRST;break;case Ae.LAST:this.ui.list.focus(A.Last),this._itemActivation=Ae.FIRST;break;default:this.trySelectFirst();break}})),this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",i.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(A.First)),this.keepScrollPosition&&(this.scrollTop=e)}focus(e){this.ui.list.focus(e),this.canSelectMany&&this.ui.list.domFocus()}accept(e){e&&!this._canAcceptInBackground||this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(e??!1))}};An.DEFAULT_ARIA_LABEL=c("quickInputBox.ariaLabel","Type to narrow down results.");let yn=An;class qg extends mn{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new I),this.onDidAcceptEmitter=this._register(new I),this.type="inputBox",this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(e){this._value=e||"",this.update()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get password(){return this._password}set password(e){this._password=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{e!==this.value&&(this._value=e,this.onDidValueChangeEmitter.fire(e))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const e={title:!!this.title||!!this.step||!!this.titleButtons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(e),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}let sr=class extends Us{constructor(e,t){super("element",!1,i=>this.getOverrideOptions(i),e,t)}getOverrideOptions(e){const t=(ei(e.content)?e.content.textContent??"":typeof e.content=="string"?e.content:e.content.value).includes(`
`);return{persistence:{hideOnKeyDown:!1},appearance:{showHoverHint:t,skipFadeInAnimation:!0}}}};sr=Ng([$o(0,te),$o(1,Kr)],sr);const Ug=Ie;class jg extends K{constructor(e,t,i){super(),this.parent=e,this.onKeyDown=s=>ti(this.findInput.inputBox.inputElement,V.KEY_DOWN,s),this.onDidChange=s=>this.findInput.onDidChange(s),this.container=M(this.parent,Ug(".quick-input-box")),this.findInput=this._register(new Pa(this.container,void 0,{label:"",inputBoxStyles:t,toggleStyles:i}));const n=this.findInput.inputBox.inputElement;n.role="combobox",n.ariaHasPopup="menu",n.ariaAutoComplete="list",n.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(e){this.findInput.setValue(e)}select(e=null){this.findInput.inputBox.select(e)}getSelection(){return this.findInput.inputBox.getSelection()}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.findInput.inputBox.setPlaceHolder(e)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(e){this.findInput.inputBox.inputElement.type=e?"password":"text"}set enabled(e){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!e)}set toggles(e){this.findInput.setAdditionalToggles(e)}setAttribute(e,t){this.findInput.inputBox.inputElement.setAttribute(e,t)}showDecoration(e){e===j.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:e===j.Info?1:e===j.Warning?2:3,content:""})}stylesForType(e){return this.findInput.inputBox.stylesForType(e===j.Info?1:e===j.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}new E("isMac",Tt,c("isMac","Whether the operating system is macOS"));new E("isLinux",Sr,c("isLinux","Whether the operating system is Linux"));const um=new E("isWindows",_r,c("isWindows","Whether the operating system is Windows")),hm=new E("isWeb",Mn,c("isWeb","Whether the platform is a web browser"));new E("isMacNative",Tt&&!Mn,c("isMacNative","Whether the operating system is macOS on a non-browser platform"));new E("isIOS",As,c("isIOS","Whether the operating system is iOS"));new E("isMobile",zl,c("isMobile","Whether the platform is a mobile web browser"));new E("isDevelopment",!1,!0);new E("productQualityType","",c("productQualityType","Quality type of VS Code"));const Vc="inputFocus",Gg=new E(Vc,!1,c("inputFocus","Whether keyboard focus is inside an input box"));var Ue=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},L=function(r,e){return function(t,i){e(t,i,r)}};const je=R("listService");class dm{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new W,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(e){var t,i;e!==this._lastFocusedWidget&&((t=this._lastFocusedWidget)==null||t.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=e,(i=this._lastFocusedWidget)==null||i.getHTMLElement().classList.add("last-focused"))}register(e,t){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new ru(Wa(),"").style(Ot)),this.lists.some(n=>n.widget===e))throw new Error("Cannot register the same widget multiple times");const i={widget:e,extraContextKeys:t};return this.lists.push(i),$a(e.getHTMLElement())&&this.setLastFocusedList(e),Kn(e.onDidFocus(()=>this.setLastFocusedList(e)),be(()=>this.lists.splice(this.lists.indexOf(i),1)),e.onDidDispose(()=>{this.lists=this.lists.filter(n=>n!==i),this._lastFocusedWidget===e&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}const Ai=new E("listScrollAtBoundary","none");B.or(Ai.isEqualTo("top"),Ai.isEqualTo("both"));B.or(Ai.isEqualTo("bottom"),Ai.isEqualTo("both"));const Wc=new E("listFocus",!0),$c=new E("treestickyScrollFocused",!1),os=new E("listSupportsMultiselect",!0),gm=B.and(Wc,B.not(Vc),$c.negate()),Pr=new E("listHasSelectionOrFocus",!1),Vr=new E("listDoubleSelection",!1),Wr=new E("listMultiSelection",!1),as=new E("listSelectionNavigation",!1),zg=new E("listSupportsFind",!0),Qg=new E("treeElementCanCollapse",!1),Yg=new E("treeElementHasParent",!1),Jg=new E("treeElementCanExpand",!1),Xg=new E("treeElementHasChild",!1),Zg=new E("treeFindOpen",!1),qc="listTypeNavigationMode",Uc="listAutomaticKeyboardNavigation";function cs(r,e){const t=r.createScoped(e.getHTMLElement());return Wc.bindTo(t),t}function ls(r,e){const t=Ai.bindTo(r),i=()=>{const n=e.scrollTop===0,s=e.scrollHeight-e.renderHeight-e.scrollTop<1;n&&s?t.set("both"):n?t.set("top"):s?t.set("bottom"):t.set("none")};return i(),e.onDidScroll(i)}const Rt="workbench.list.multiSelectModifier",ln="workbench.list.openMode",pe="workbench.list.horizontalScrolling",$r="workbench.list.defaultFindMode",qr="workbench.list.typeNavigationMode",bn="workbench.list.keyboardNavigation",Te="workbench.list.scrollByPage",Ur="workbench.list.defaultFindMatchType",Li="workbench.tree.indent",kn="workbench.tree.renderIndentGuides",Be="workbench.list.smoothScrolling",Ke="workbench.list.mouseWheelScrollSensitivity",Ne="workbench.list.fastScrollSensitivity",Cn="workbench.tree.expandMode",vn="workbench.tree.enableStickyScroll",Sn="workbench.tree.stickyScrollMaxItemCount";function He(r){return r.getValue(Rt)==="alt"}class ef extends K{constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=He(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(Rt)&&(this.useAltAsMultipleSelectionModifier=He(this.configurationService))}))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:iu(e)}isSelectionRangeChangeEvent(e){return nu(e)}}function us(r,e){const t=r.get(te),i=r.get(ge),n=new W;return[{...e,keyboardNavigationDelegate:{mightProducePrintableCharacter(o){return i.mightProducePrintableCharacter(o)}},smoothScrolling:!!t.getValue(Be),mouseWheelScrollSensitivity:t.getValue(Ke),fastScrollSensitivity:t.getValue(Ne),multipleSelectionController:e.multipleSelectionController??n.add(new ef(t)),keyboardNavigationEventFilter:sf(i),scrollByPage:!!t.getValue(Te)},n]}let qo=class extends Va{constructor(e,t,i,n,s,o,a,u,h){const d=typeof s.horizontalScrolling<"u"?s.horizontalScrolling:!!u.getValue(pe),[g,p]=h.invokeFunction(us,s);super(e,t,i,n,{keyboardSupport:!1,...g,horizontalScrolling:d}),this.disposables.add(p),this.contextKeyService=cs(o,this),this.disposables.add(ls(this.contextKeyService,this)),this.listSupportsMultiSelect=os.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(s.multipleSelectionSupport!==!1),as.bindTo(this.contextKeyService).set(!!s.selectionNavigation),this.listHasSelectionOrFocus=Pr.bindTo(this.contextKeyService),this.listDoubleSelection=Vr.bindTo(this.contextKeyService),this.listMultiSelection=Wr.bindTo(this.contextKeyService),this.horizontalScrolling=s.horizontalScrolling,this._useAltAsMultipleSelectionModifier=He(u),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),this.updateStyles(s.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const v=this.getSelection(),y=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(v.length>0||y.length>0),this.listMultiSelection.set(v.length>1),this.listDoubleSelection.set(v.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const v=this.getSelection(),y=this.getFocus();this.listHasSelectionOrFocus.set(v.length>0||y.length>0)})),this.disposables.add(u.onDidChangeConfiguration(v=>{v.affectsConfiguration(Rt)&&(this._useAltAsMultipleSelectionModifier=He(u));let y={};if(v.affectsConfiguration(pe)&&this.horizontalScrolling===void 0){const k=!!u.getValue(pe);y={...y,horizontalScrolling:k}}if(v.affectsConfiguration(Te)){const k=!!u.getValue(Te);y={...y,scrollByPage:k}}if(v.affectsConfiguration(Be)){const k=!!u.getValue(Be);y={...y,smoothScrolling:k}}if(v.affectsConfiguration(Ke)){const k=u.getValue(Ke);y={...y,mouseWheelScrollSensitivity:k}}if(v.affectsConfiguration(Ne)){const k=u.getValue(Ne);y={...y,fastScrollSensitivity:k}}Object.keys(y).length>0&&this.updateOptions(y)})),this.navigator=new jc(this,{configurationService:u,...s}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?Wi(e):Ot)}};qo=Ue([L(5,$),L(6,je),L(7,te),L(8,Z)],qo);let Uo=class extends Ql{constructor(e,t,i,n,s,o,a,u,h){const d=typeof s.horizontalScrolling<"u"?s.horizontalScrolling:!!u.getValue(pe),[g,p]=h.invokeFunction(us,s);super(e,t,i,n,{keyboardSupport:!1,...g,horizontalScrolling:d}),this.disposables=new W,this.disposables.add(p),this.contextKeyService=cs(o,this),this.disposables.add(ls(this.contextKeyService,this.widget)),this.horizontalScrolling=s.horizontalScrolling,this.listSupportsMultiSelect=os.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(s.multipleSelectionSupport!==!1),as.bindTo(this.contextKeyService).set(!!s.selectionNavigation),this._useAltAsMultipleSelectionModifier=He(u),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),this.updateStyles(s.overrideStyles),this.disposables.add(u.onDidChangeConfiguration(v=>{v.affectsConfiguration(Rt)&&(this._useAltAsMultipleSelectionModifier=He(u));let y={};if(v.affectsConfiguration(pe)&&this.horizontalScrolling===void 0){const k=!!u.getValue(pe);y={...y,horizontalScrolling:k}}if(v.affectsConfiguration(Te)){const k=!!u.getValue(Te);y={...y,scrollByPage:k}}if(v.affectsConfiguration(Be)){const k=!!u.getValue(Be);y={...y,smoothScrolling:k}}if(v.affectsConfiguration(Ke)){const k=u.getValue(Ke);y={...y,mouseWheelScrollSensitivity:k}}if(v.affectsConfiguration(Ne)){const k=u.getValue(Ne);y={...y,fastScrollSensitivity:k}}Object.keys(y).length>0&&this.updateOptions(y)})),this.navigator=new jc(this,{configurationService:u,...s}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?Wi(e):Ot)}dispose(){this.disposables.dispose(),super.dispose()}};Uo=Ue([L(5,$),L(6,je),L(7,te),L(8,Z)],Uo);let jo=class extends Yl{constructor(e,t,i,n,s,o,a,u,h,d){const g=typeof o.horizontalScrolling<"u"?o.horizontalScrolling:!!h.getValue(pe),[p,m]=d.invokeFunction(us,o);super(e,t,i,n,s,{keyboardSupport:!1,...p,horizontalScrolling:g}),this.disposables.add(m),this.contextKeyService=cs(a,this),this.disposables.add(ls(this.contextKeyService,this)),this.listSupportsMultiSelect=os.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(o.multipleSelectionSupport!==!1),as.bindTo(this.contextKeyService).set(!!o.selectionNavigation),this.listHasSelectionOrFocus=Pr.bindTo(this.contextKeyService),this.listDoubleSelection=Vr.bindTo(this.contextKeyService),this.listMultiSelection=Wr.bindTo(this.contextKeyService),this.horizontalScrolling=o.horizontalScrolling,this._useAltAsMultipleSelectionModifier=He(h),this.disposables.add(this.contextKeyService),this.disposables.add(u.register(this)),this.updateStyles(o.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const y=this.getSelection(),k=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(y.length>0||k.length>0),this.listMultiSelection.set(y.length>1),this.listDoubleSelection.set(y.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const y=this.getSelection(),k=this.getFocus();this.listHasSelectionOrFocus.set(y.length>0||k.length>0)})),this.disposables.add(h.onDidChangeConfiguration(y=>{y.affectsConfiguration(Rt)&&(this._useAltAsMultipleSelectionModifier=He(h));let k={};if(y.affectsConfiguration(pe)&&this.horizontalScrolling===void 0){const S=!!h.getValue(pe);k={...k,horizontalScrolling:S}}if(y.affectsConfiguration(Te)){const S=!!h.getValue(Te);k={...k,scrollByPage:S}}if(y.affectsConfiguration(Be)){const S=!!h.getValue(Be);k={...k,smoothScrolling:S}}if(y.affectsConfiguration(Ke)){const S=h.getValue(Ke);k={...k,mouseWheelScrollSensitivity:S}}if(y.affectsConfiguration(Ne)){const S=h.getValue(Ne);k={...k,fastScrollSensitivity:S}}Object.keys(k).length>0&&this.updateOptions(k)})),this.navigator=new tf(this,{configurationService:h,...o}),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles!==void 0&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){this.style(e?Wi(e):Ot)}dispose(){this.disposables.dispose(),super.dispose()}};jo=Ue([L(6,$),L(7,je),L(8,te),L(9,Z)],jo);class jr extends K{constructor(e,t){super(),this.widget=e,this._onDidOpen=this._register(new I),this.onDidOpen=this._onDidOpen.event,this._register(z.filter(this.widget.onDidChangeSelection,i=>su(i.browserEvent))(i=>this.onSelectionFromKeyboard(i))),this._register(this.widget.onPointer(i=>this.onPointer(i.element,i.browserEvent))),this._register(this.widget.onMouseDblClick(i=>this.onMouseDblClick(i.element,i.browserEvent))),typeof(t==null?void 0:t.openOnSingleClick)!="boolean"&&(t!=null&&t.configurationService)?(this.openOnSingleClick=(t==null?void 0:t.configurationService.getValue(ln))!=="doubleClick",this._register(t==null?void 0:t.configurationService.onDidChangeConfiguration(i=>{i.affectsConfiguration(ln)&&(this.openOnSingleClick=(t==null?void 0:t.configurationService.getValue(ln))!=="doubleClick")}))):this.openOnSingleClick=(t==null?void 0:t.openOnSingleClick)??!0}onSelectionFromKeyboard(e){if(e.elements.length!==1)return;const t=e.browserEvent,i=typeof t.preserveFocus=="boolean"?t.preserveFocus:!0,n=typeof t.pinned=="boolean"?t.pinned:!i;this._open(this.getSelectedElement(),i,n,!1,e.browserEvent)}onPointer(e,t){if(!this.openOnSingleClick||t.detail===2)return;const n=t.button===1,s=!0,o=n,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,s,o,a,t)}onMouseDblClick(e,t){if(!t)return;const i=t.target;if(i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&t.offsetX<16)return;const s=!1,o=!0,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,s,o,a,t)}_open(e,t,i,n,s){e&&this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:i,revealIfVisible:!0},sideBySide:n,element:e,browserEvent:s})}}class jc extends jr{constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class tf extends jr{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class nf extends jr{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelection()[0]??void 0}}function sf(r){let e=!1;return t=>{if(t.toKeyCodeChord().isModifierKey())return!1;if(e)return e=!1,!1;const i=r.softDispatch(t,t.target);return i.kind===1?(e=!0,!1):(e=!1,i.kind===0)}}let rr=class extends Jl{constructor(e,t,i,n,s,o,a,u,h){const{options:d,getTypeNavigationMode:g,disposable:p}=o.invokeFunction($i,s);super(e,t,i,n,d),this.disposables.add(p),this.internals=new Dt(this,s,g,s.overrideStyles,a,u,h),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};rr=Ue([L(5,Z),L(6,$),L(7,je),L(8,te)],rr);let Go=class extends Xl{constructor(e,t,i,n,s,o,a,u,h){const{options:d,getTypeNavigationMode:g,disposable:p}=o.invokeFunction($i,s);super(e,t,i,n,d),this.disposables.add(p),this.internals=new Dt(this,s,g,s.overrideStyles,a,u,h),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};Go=Ue([L(5,Z),L(6,$),L(7,je),L(8,te)],Go);let zo=class extends Zl{constructor(e,t,i,n,s,o,a,u,h,d){const{options:g,getTypeNavigationMode:p,disposable:m}=a.invokeFunction($i,o);super(e,t,i,n,s,g),this.disposables.add(m),this.internals=new Dt(this,o,p,o.overrideStyles,u,h,d),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles!==void 0&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};zo=Ue([L(6,Z),L(7,$),L(8,je),L(9,te)],zo);let Qo=class extends eu{get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,n,s,o,a,u,h,d){const{options:g,getTypeNavigationMode:p,disposable:m}=a.invokeFunction($i,o);super(e,t,i,n,s,g),this.disposables.add(m),this.internals=new Dt(this,o,p,o.overrideStyles,u,h,d),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};Qo=Ue([L(6,Z),L(7,$),L(8,je),L(9,te)],Qo);let Yo=class extends tu{constructor(e,t,i,n,s,o,a,u,h,d,g){const{options:p,getTypeNavigationMode:m,disposable:v}=u.invokeFunction($i,a);super(e,t,i,n,s,o,p),this.disposables.add(v),this.internals=new Dt(this,a,m,a.overrideStyles,h,d,g),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};Yo=Ue([L(7,Z),L(8,$),L(9,je),L(10,te)],Yo);function Gc(r){const e=r.getValue($r);if(e==="highlight")return ji.Highlight;if(e==="filter")return ji.Filter;const t=r.getValue(bn);if(t==="simple"||t==="highlight")return ji.Highlight;if(t==="filter")return ji.Filter}function zc(r){const e=r.getValue(Ur);if(e==="fuzzy")return no.Fuzzy;if(e==="contiguous")return no.Contiguous}function $i(r,e){const t=r.get(te),i=r.get(Pi),n=r.get($),s=r.get(Z),o=()=>{const p=n.getContextKeyValue(qc);if(p==="automatic")return di.Automatic;if(p==="trigger")return di.Trigger;if(n.getContextKeyValue(Uc)===!1)return di.Trigger;const v=t.getValue(qr);if(v==="automatic")return di.Automatic;if(v==="trigger")return di.Trigger},a=e.horizontalScrolling!==void 0?e.horizontalScrolling:!!t.getValue(pe),[u,h]=s.invokeFunction(us,e),d=e.paddingBottom,g=e.renderIndentGuides!==void 0?e.renderIndentGuides:t.getValue(kn);return{getTypeNavigationMode:o,disposable:h,options:{keyboardSupport:!1,...u,indent:typeof t.getValue(Li)=="number"?t.getValue(Li):void 0,renderIndentGuides:g,smoothScrolling:!!t.getValue(Be),defaultFindMode:Gc(t),defaultFindMatchType:zc(t),horizontalScrolling:a,scrollByPage:!!t.getValue(Te),paddingBottom:d,hideTwistiesOfChildlessElements:e.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:e.expandOnlyOnTwistieClick??t.getValue(Cn)==="doubleClick",contextViewProvider:i,findWidgetStyles:wg,enableStickyScroll:!!t.getValue(vn),stickyScrollMaxItemCount:Number(t.getValue(Sn))}}}let Dt=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(e,t,i,n,s,o,a){this.tree=e,this.disposables=[],this.contextKeyService=cs(s,e),this.disposables.push(ls(this.contextKeyService,e)),this.listSupportsMultiSelect=os.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(t.multipleSelectionSupport!==!1),as.bindTo(this.contextKeyService).set(!!t.selectionNavigation),this.listSupportFindWidget=zg.bindTo(this.contextKeyService),this.listSupportFindWidget.set(t.findWidgetEnabled??!0),this.hasSelectionOrFocus=Pr.bindTo(this.contextKeyService),this.hasDoubleSelection=Vr.bindTo(this.contextKeyService),this.hasMultiSelection=Wr.bindTo(this.contextKeyService),this.treeElementCanCollapse=Qg.bindTo(this.contextKeyService),this.treeElementHasParent=Yg.bindTo(this.contextKeyService),this.treeElementCanExpand=Jg.bindTo(this.contextKeyService),this.treeElementHasChild=Xg.bindTo(this.contextKeyService),this.treeFindOpen=Zg.bindTo(this.contextKeyService),this.treeStickyScrollFocused=$c.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=He(a),this.updateStyleOverrides(n);const h=()=>{const g=e.getFocus()[0];if(!g)return;const p=e.getNode(g);this.treeElementCanCollapse.set(p.collapsible&&!p.collapsed),this.treeElementHasParent.set(!!e.getParentElement(g)),this.treeElementCanExpand.set(p.collapsible&&p.collapsed),this.treeElementHasChild.set(!!e.getFirstElementChild(g))},d=new Set;d.add(qc),d.add(Uc),this.disposables.push(this.contextKeyService,o.register(e),e.onDidChangeSelection(()=>{const g=e.getSelection(),p=e.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(g.length>0||p.length>0),this.hasMultiSelection.set(g.length>1),this.hasDoubleSelection.set(g.length===2)})}),e.onDidChangeFocus(()=>{const g=e.getSelection(),p=e.getFocus();this.hasSelectionOrFocus.set(g.length>0||p.length>0),h()}),e.onDidChangeCollapseState(h),e.onDidChangeModel(h),e.onDidChangeFindOpenState(g=>this.treeFindOpen.set(g)),e.onDidChangeStickyScrollFocused(g=>this.treeStickyScrollFocused.set(g)),a.onDidChangeConfiguration(g=>{let p={};if(g.affectsConfiguration(Rt)&&(this._useAltAsMultipleSelectionModifier=He(a)),g.affectsConfiguration(Li)){const m=a.getValue(Li);p={...p,indent:m}}if(g.affectsConfiguration(kn)&&t.renderIndentGuides===void 0){const m=a.getValue(kn);p={...p,renderIndentGuides:m}}if(g.affectsConfiguration(Be)){const m=!!a.getValue(Be);p={...p,smoothScrolling:m}}if(g.affectsConfiguration($r)||g.affectsConfiguration(bn)){const m=Gc(a);p={...p,defaultFindMode:m}}if(g.affectsConfiguration(qr)||g.affectsConfiguration(bn)){const m=i();p={...p,typeNavigationMode:m}}if(g.affectsConfiguration(Ur)){const m=zc(a);p={...p,defaultFindMatchType:m}}if(g.affectsConfiguration(pe)&&t.horizontalScrolling===void 0){const m=!!a.getValue(pe);p={...p,horizontalScrolling:m}}if(g.affectsConfiguration(Te)){const m=!!a.getValue(Te);p={...p,scrollByPage:m}}if(g.affectsConfiguration(Cn)&&t.expandOnlyOnTwistieClick===void 0&&(p={...p,expandOnlyOnTwistieClick:a.getValue(Cn)==="doubleClick"}),g.affectsConfiguration(vn)){const m=a.getValue(vn);p={...p,enableStickyScroll:m}}if(g.affectsConfiguration(Sn)){const m=Math.max(1,a.getValue(Sn));p={...p,stickyScrollMaxItemCount:m}}if(g.affectsConfiguration(Ke)){const m=a.getValue(Ke);p={...p,mouseWheelScrollSensitivity:m}}if(g.affectsConfiguration(Ne)){const m=a.getValue(Ne);p={...p,fastScrollSensitivity:m}}Object.keys(p).length>0&&e.updateOptions(p)}),this.contextKeyService.onDidChangeContext(g=>{g.affectsSome(d)&&e.updateOptions({typeNavigationMode:i()})})),this.navigator=new nf(e,{configurationService:a,...t}),this.disposables.push(this.navigator)}updateOptions(e){e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){this.tree.style(e?Wi(e):Ot)}dispose(){this.disposables=Nn(this.disposables)}};Dt=Ue([L(4,$),L(5,je),L(6,te)],Dt);const rf=oe.as(Jn.Configuration);rf.registerConfiguration({id:"workbench",order:7,title:c("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[Rt]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[c("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),c("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:c({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[ln]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:c({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[pe]:{type:"boolean",default:!1,description:c("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[Te]:{type:"boolean",default:!1,description:c("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[Li]:{type:"number",default:8,minimum:4,maximum:40,description:c("tree indent setting","Controls tree indentation in pixels.")},[kn]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:c("render tree indent guides","Controls whether the tree should render indent guides.")},[Be]:{type:"boolean",default:!1,description:c("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[Ke]:{type:"number",default:1,markdownDescription:c("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[Ne]:{type:"number",default:5,markdownDescription:c("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[$r]:{type:"string",enum:["highlight","filter"],enumDescriptions:[c("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),c("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:c("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[bn]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[c("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),c("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),c("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:c("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:c("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and	'workbench.list.typeNavigationMode' instead.")},[Ur]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[c("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),c("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:c("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[Cn]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:c("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[vn]:{type:"boolean",default:!0,description:c("sticky scroll","Controls whether sticky scrolling is enabled in trees.")},[Sn]:{type:"number",minimum:1,default:7,markdownDescription:c("sticky scroll maximum items","Controls the number of sticky elements displayed in the tree when {0} is enabled.","`#workbench.tree.enableStickyScroll#`")},[qr]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:c("typeNavigationMode2","Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")}}});var hs=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},or=function(r,e){return function(t,i){e(t,i,r)}},ar;const Se=Ie;class Qc{constructor(e,t,i){this.index=e,this.hasCheckbox=t,this._hidden=!1,this._init=new du(()=>{const n=i.label??"",s=fi(n).text.trim(),o=i.ariaLabel||[n,this.saneDescription,this.saneDetail].map(a=>gu(a)).filter(a=>!!a).join(", ");return{saneLabel:n,saneSortLabel:s,saneAriaLabel:o}}),this._saneDescription=i.description,this._saneTooltip=i.tooltip}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(e){this._element=e}get hidden(){return this._hidden}set hidden(e){this._hidden=e}get saneDescription(){return this._saneDescription}set saneDescription(e){this._saneDescription=e}get saneDetail(){return this._saneDetail}set saneDetail(e){this._saneDetail=e}get saneTooltip(){return this._saneTooltip}set saneTooltip(e){this._saneTooltip=e}get labelHighlights(){return this._labelHighlights}set labelHighlights(e){this._labelHighlights=e}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(e){this._descriptionHighlights=e}get detailHighlights(){return this._detailHighlights}set detailHighlights(e){this._detailHighlights=e}}class Y extends Qc{constructor(e,t,i,n,s,o){var a,u,h;super(e,t,s),this.fireButtonTriggered=i,this._onChecked=n,this.item=s,this._separator=o,this._checked=!1,this.onChecked=t?z.map(z.filter(this._onChecked.event,d=>d.element===this),d=>d.checked):z.None,this._saneDetail=s.detail,this._labelHighlights=(a=s.highlights)==null?void 0:a.label,this._descriptionHighlights=(u=s.highlights)==null?void 0:u.description,this._detailHighlights=(h=s.highlights)==null?void 0:h.detail}get separator(){return this._separator}set separator(e){this._separator=e}get checked(){return this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire({element:this,checked:e}))}get checkboxDisabled(){return!!this.item.disabled}}var Le;(function(r){r[r.NONE=0]="NONE",r[r.MOUSE_HOVER=1]="MOUSE_HOVER",r[r.ACTIVE_ITEM=2]="ACTIVE_ITEM"})(Le||(Le={}));class at extends Qc{constructor(e,t,i){super(e,!1,i),this.fireSeparatorButtonTriggered=t,this.separator=i,this.children=new Array,this.focusInsideSeparator=Le.NONE}}class of{getHeight(e){return e instanceof at?30:e.saneDetail?44:22}getTemplateId(e){return e instanceof Y?_n.ID:wn.ID}}class af{getWidgetAriaLabel(){return c("quickInput","Quick Input")}getAriaLabel(e){var t;return(t=e.separator)!=null&&t.label?`${e.saneAriaLabel}, ${e.separator.label}`:e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(e){return e.hasCheckbox?"checkbox":"option"}isChecked(e){if(!(!e.hasCheckbox||!(e instanceof Y)))return{get value(){return e.checked},onDidChange:t=>e.onChecked(()=>t())}}}class Yc{constructor(e){this.hoverDelegate=e}renderTemplate(e){const t=Object.create(null);t.toDisposeElement=new W,t.toDisposeTemplate=new W,t.entry=M(e,Se(".quick-input-list-entry"));const i=M(t.entry,Se("label.quick-input-list-label"));t.toDisposeTemplate.add(ti(i,V.CLICK,h=>{t.checkbox.offsetParent||h.preventDefault()})),t.checkbox=M(i,Se("input.quick-input-list-checkbox")),t.checkbox.type="checkbox";const n=M(i,Se(".quick-input-list-rows")),s=M(n,Se(".quick-input-list-row")),o=M(n,Se(".quick-input-list-row"));t.label=new so(s,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),t.toDisposeTemplate.add(t.label),t.icon=Oa(t.label.element,Se(".quick-input-list-icon"));const a=M(s,Se(".quick-input-list-entry-keybinding"));t.keybinding=new Ua(a,pt),t.toDisposeTemplate.add(t.keybinding);const u=M(o,Se(".quick-input-list-label-meta"));return t.detail=new so(u,{supportHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),t.toDisposeTemplate.add(t.detail),t.separator=M(t.entry,Se(".quick-input-list-separator")),t.actionBar=new ki(t.entry,this.hoverDelegate?{hoverDelegate:this.hoverDelegate}:void 0),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.add(t.actionBar),t}disposeTemplate(e){e.toDisposeElement.dispose(),e.toDisposeTemplate.dispose()}disposeElement(e,t,i){i.toDisposeElement.clear(),i.actionBar.clear()}}var Ct;let _n=(Ct=class extends Yc{constructor(e,t){super(e),this.themeService=t,this._itemsWithSeparatorsFrequency=new Map}get templateId(){return ar.ID}renderTemplate(e){const t=super.renderTemplate(e);return t.toDisposeTemplate.add(ti(t.checkbox,V.CHANGE,i=>{t.element.checked=t.checkbox.checked})),t}renderElement(e,t,i){var p;const n=e.element;i.element=n,n.element=i.entry??void 0;const s=n.item;i.checkbox.checked=n.checked,i.toDisposeElement.add(n.onChecked(m=>i.checkbox.checked=m)),i.checkbox.disabled=n.checkboxDisabled;const{labelHighlights:o,descriptionHighlights:a,detailHighlights:u}=n;if(s.iconPath){const m=Fr(this.themeService.getColorTheme().type)?s.iconPath.dark:s.iconPath.light??s.iconPath.dark,v=qe.revive(m);i.icon.className="quick-input-list-icon",i.icon.style.backgroundImage=it(v)}else i.icon.style.backgroundImage="",i.icon.className=s.iconClass?`quick-input-list-icon ${s.iconClass}`:"";let h;!n.saneTooltip&&n.saneDescription&&(h={markdown:{value:n.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:n.saneDescription});const d={matches:o||[],descriptionTitle:h,descriptionMatches:a||[],labelEscapeNewLines:!0};if(d.extraClasses=s.iconClasses,d.italic=s.italic,d.strikethrough=s.strikethrough,i.entry.classList.remove("quick-input-list-separator-as-item"),i.label.setLabel(n.saneLabel,n.saneDescription,d),i.keybinding.set(s.keybinding),n.saneDetail){let m;n.saneTooltip||(m={markdown:{value:n.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:n.saneDetail}),i.detail.element.style.display="",i.detail.setLabel(n.saneDetail,void 0,{matches:u,title:m,labelEscapeNewLines:!0})}else i.detail.element.style.display="none";(p=n.separator)!=null&&p.label?(i.separator.textContent=n.separator.label,i.separator.style.display="",this.addItemWithSeparator(n)):i.separator.style.display="none",i.entry.classList.toggle("quick-input-list-separator-border",!!n.separator);const g=s.buttons;g&&g.length?(i.actionBar.push(g.map((m,v)=>_i(m,`id-${v}`,()=>n.fireButtonTriggered({button:m,item:n.item}))),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions")}disposeElement(e,t,i){this.removeItemWithSeparator(e.element),super.disposeElement(e,t,i)}isItemWithSeparatorVisible(e){return this._itemsWithSeparatorsFrequency.has(e)}addItemWithSeparator(e){this._itemsWithSeparatorsFrequency.set(e,(this._itemsWithSeparatorsFrequency.get(e)||0)+1)}removeItemWithSeparator(e){const t=this._itemsWithSeparatorsFrequency.get(e)||0;t>1?this._itemsWithSeparatorsFrequency.set(e,t-1):this._itemsWithSeparatorsFrequency.delete(e)}},ar=Ct,Ct.ID="quickpickitem",Ct);_n=ar=hs([or(1,Xn)],_n);const Ln=class Ln extends Yc{constructor(){super(...arguments),this._visibleSeparatorsFrequency=new Map}get templateId(){return Ln.ID}get visibleSeparators(){return[...this._visibleSeparatorsFrequency.keys()]}isSeparatorVisible(e){return this._visibleSeparatorsFrequency.has(e)}renderTemplate(e){const t=super.renderTemplate(e);return t.checkbox.style.display="none",t}renderElement(e,t,i){const n=e.element;i.element=n,n.element=i.entry??void 0,n.element.classList.toggle("focus-inside",!!n.focusInsideSeparator);const s=n.separator,{labelHighlights:o,descriptionHighlights:a,detailHighlights:u}=n;i.icon.style.backgroundImage="",i.icon.className="";let h;!n.saneTooltip&&n.saneDescription&&(h={markdown:{value:n.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:n.saneDescription});const d={matches:o||[],descriptionTitle:h,descriptionMatches:a||[],labelEscapeNewLines:!0};if(i.entry.classList.add("quick-input-list-separator-as-item"),i.label.setLabel(n.saneLabel,n.saneDescription,d),n.saneDetail){let p;n.saneTooltip||(p={markdown:{value:n.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:n.saneDetail}),i.detail.element.style.display="",i.detail.setLabel(n.saneDetail,void 0,{matches:u,title:p,labelEscapeNewLines:!0})}else i.detail.element.style.display="none";i.separator.style.display="none",i.entry.classList.add("quick-input-list-separator-border");const g=s.buttons;g&&g.length?(i.actionBar.push(g.map((p,m)=>_i(p,`id-${m}`,()=>n.fireSeparatorButtonTriggered({button:p,separator:n.separator}))),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions"),this.addSeparator(n)}disposeElement(e,t,i){var n;this.removeSeparator(e.element),this.isSeparatorVisible(e.element)||(n=e.element.element)==null||n.classList.remove("focus-inside"),super.disposeElement(e,t,i)}addSeparator(e){this._visibleSeparatorsFrequency.set(e,(this._visibleSeparatorsFrequency.get(e)||0)+1)}removeSeparator(e){const t=this._visibleSeparatorsFrequency.get(e)||0;t>1?this._visibleSeparatorsFrequency.set(e,t-1):this._visibleSeparatorsFrequency.delete(e)}};Ln.ID="quickpickseparator";let wn=Ln,Oi=class extends K{constructor(e,t,i,n,s,o){super(),this.parent=e,this.hoverDelegate=t,this.linkOpenerDelegate=i,this.accessibilityService=o,this._onKeyDown=new I,this._onLeave=new I,this.onLeave=this._onLeave.event,this._visibleCountObservable=ks("VisibleCount",0),this.onChangedVisibleCount=z.fromObservable(this._visibleCountObservable,this._store),this._allVisibleCheckedObservable=ks("AllVisibleChecked",!1),this.onChangedAllVisibleChecked=z.fromObservable(this._allVisibleCheckedObservable,this._store),this._checkedCountObservable=ks("CheckedCount",0),this.onChangedCheckedCount=z.fromObservable(this._checkedCountObservable,this._store),this._checkedElementsObservable=ou({equalsFn:bt},new Array),this.onChangedCheckedElements=z.fromObservable(this._checkedElementsObservable,this._store),this._onButtonTriggered=new I,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new I,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._elementChecked=new I,this._elementCheckedEventBufferer=new Ha,this._hasCheckboxes=!1,this._inputElements=new Array,this._elementTree=new Array,this._itemElements=new Array,this._elementDisposable=this._register(new W),this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._shouldLoop=!0,this._container=M(this.parent,Se(".quick-input-list")),this._separatorRenderer=new wn(t),this._itemRenderer=s.createInstance(_n,t),this._tree=this._register(s.createInstance(rr,"QuickInput",this._container,new of,[this._itemRenderer,this._separatorRenderer],{filter:{filter(a){return a.hidden?0:a instanceof at?2:1}},sorter:{compare:(a,u)=>{if(!this.sortByLabel||!this._lastQueryString)return 0;const h=this._lastQueryString.toLowerCase();return lf(a,u,h)}},accessibilityProvider:new af,setRowLineHeight:!1,multipleSelectionSupport:!1,hideTwistiesOfChildlessElements:!0,renderIndentGuides:au.None,findWidgetEnabled:!1,indent:0,horizontalScrolling:!1,allowNonCollapsibleParents:!0,alwaysConsumeMouseWheel:!0})),this._tree.getHTMLElement().id=n,this._registerListeners()}get onDidChangeFocus(){return z.map(this._tree.onDidChangeFocus,e=>e.elements.filter(t=>t instanceof Y).map(t=>t.item),this._store)}get onDidChangeSelection(){return z.map(this._tree.onDidChangeSelection,e=>({items:e.elements.filter(t=>t instanceof Y).map(t=>t.item),event:e.browserEvent}),this._store)}get displayed(){return this._container.style.display!=="none"}set displayed(e){this._container.style.display=e?"":"none"}get scrollTop(){return this._tree.scrollTop}set scrollTop(e){this._tree.scrollTop=e}get ariaLabel(){return this._tree.ariaLabel}set ariaLabel(e){this._tree.ariaLabel=e??""}set enabled(e){this._tree.getHTMLElement().style.pointerEvents=e?"":"none"}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(e){this._matchOnLabelMode=e}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e}get shouldLoop(){return this._shouldLoop}set shouldLoop(e){this._shouldLoop=e}_registerListeners(){this._registerOnKeyDown(),this._registerOnContainerClick(),this._registerOnMouseMiddleClick(),this._registerOnTreeModelChanged(),this._registerOnElementChecked(),this._registerOnContextMenu(),this._registerHoverListeners(),this._registerSelectionChangeListener(),this._registerSeparatorActionShowingListeners()}_registerOnKeyDown(){this._register(this._tree.onKeyDown(e=>{const t=new ii(e);switch(t.keyCode){case 10:this.toggleCheckbox();break}this._onKeyDown.fire(t)}))}_registerOnContainerClick(){this._register(G(this._container,V.CLICK,e=>{(e.x||e.y)&&this._onLeave.fire()}))}_registerOnMouseMiddleClick(){this._register(G(this._container,V.AUXCLICK,e=>{e.button===1&&this._onLeave.fire()}))}_registerOnTreeModelChanged(){this._register(this._tree.onDidChangeModel(()=>{const e=this._itemElements.filter(t=>!t.hidden).length;this._visibleCountObservable.set(e,void 0),this._hasCheckboxes&&this._updateCheckedObservables()}))}_registerOnElementChecked(){this._register(this._elementCheckedEventBufferer.wrapEvent(this._elementChecked.event,(e,t)=>t)(e=>this._updateCheckedObservables()))}_registerOnContextMenu(){this._register(this._tree.onContextMenu(e=>{e.element&&(e.browserEvent.preventDefault(),this._tree.setSelection([e.element]))}))}_registerHoverListeners(){const e=this._register(new cu(this.hoverDelegate.delay));this._register(this._tree.onMouseOver(async t=>{var i;if(ro(t.browserEvent.target)){e.cancel();return}if(!(!ro(t.browserEvent.relatedTarget)&&Qe(t.browserEvent.relatedTarget,(i=t.element)==null?void 0:i.element)))try{await e.trigger(async()=>{t.element instanceof Y&&this.showHover(t.element)})}catch(n){if(!Dr(n))throw n}})),this._register(this._tree.onMouseOut(t=>{var i;Qe(t.browserEvent.relatedTarget,(i=t.element)==null?void 0:i.element)||e.cancel()}))}_registerSeparatorActionShowingListeners(){this._register(this._tree.onDidChangeFocus(e=>{const t=e.elements[0]?this._tree.getParentElement(e.elements[0]):null;for(const i of this._separatorRenderer.visibleSeparators){const n=i===t;!!(i.focusInsideSeparator&Le.ACTIVE_ITEM)!==n&&(n?i.focusInsideSeparator|=Le.ACTIVE_ITEM:i.focusInsideSeparator&=~Le.ACTIVE_ITEM,this._tree.rerender(i))}})),this._register(this._tree.onMouseOver(e=>{const t=e.element?this._tree.getParentElement(e.element):null;for(const i of this._separatorRenderer.visibleSeparators){if(i!==t)continue;!!(i.focusInsideSeparator&Le.MOUSE_HOVER)||(i.focusInsideSeparator|=Le.MOUSE_HOVER,this._tree.rerender(i))}})),this._register(this._tree.onMouseOut(e=>{const t=e.element?this._tree.getParentElement(e.element):null;for(const i of this._separatorRenderer.visibleSeparators){if(i!==t)continue;!!(i.focusInsideSeparator&Le.MOUSE_HOVER)&&(i.focusInsideSeparator&=~Le.MOUSE_HOVER,this._tree.rerender(i))}}))}_registerSelectionChangeListener(){this._register(this._tree.onDidChangeSelection(e=>{const t=e.elements.filter(i=>i instanceof Y);t.length!==e.elements.length&&(e.elements.length===1&&e.elements[0]instanceof at&&(this._tree.setFocus([e.elements[0].children[0]]),this._tree.reveal(e.elements[0],0)),this._tree.setSelection(t))}))}setAllVisibleChecked(e){this._elementCheckedEventBufferer.bufferEvents(()=>{this._itemElements.forEach(t=>{!t.hidden&&!t.checkboxDisabled&&(t.checked=e)})})}setElements(e){this._elementDisposable.clear(),this._lastQueryString=void 0,this._inputElements=e,this._hasCheckboxes=this.parent.classList.contains("show-checkboxes");let t;this._itemElements=new Array,this._elementTree=e.reduce((i,n,s)=>{let o;if(n.type==="separator"){if(!n.buttons)return i;t=new at(s,a=>this._onSeparatorButtonTriggered.fire(a),n),o=t}else{const a=s>0?e[s-1]:void 0;let u;a&&a.type==="separator"&&!a.buttons&&(t=void 0,u=a);const h=new Y(s,this._hasCheckboxes,d=>this._onButtonTriggered.fire(d),this._elementChecked,n,u);if(this._itemElements.push(h),t)return t.children.push(h),i;o=h}return i.push(o),i},new Array),this._setElementsToTree(this._elementTree),this.accessibilityService.isScreenReaderOptimized()&&setTimeout(()=>{const i=this._tree.getHTMLElement().querySelector(".monaco-list-row.focused"),n=i==null?void 0:i.parentNode;if(i&&n){const s=i.nextSibling;i.remove(),n.insertBefore(i,s)}},0)}setFocusedElements(e){const t=e.map(i=>this._itemElements.find(n=>n.item===i)).filter(i=>!!i).filter(i=>!i.hidden);if(this._tree.setFocus(t),e.length>0){const i=this._tree.getFocus()[0];i&&this._tree.reveal(i)}}getActiveDescendant(){return this._tree.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){const t=e.map(i=>this._itemElements.find(n=>n.item===i)).filter(i=>!!i);this._tree.setSelection(t)}getCheckedElements(){return this._itemElements.filter(e=>e.checked).map(e=>e.item)}setCheckedElements(e){this._elementCheckedEventBufferer.bufferEvents(()=>{const t=new Set;for(const i of e)t.add(i);for(const i of this._itemElements)i.checked=t.has(i.item)})}focus(e){var t;if(this._itemElements.length)switch(e===A.Second&&this._itemElements.length<2&&(e=A.First),e){case A.First:this._tree.scrollTop=0,this._tree.focusFirst(void 0,i=>i.element instanceof Y);break;case A.Second:{this._tree.scrollTop=0;let i=!1;this._tree.focusFirst(void 0,n=>n.element instanceof Y?i?!0:(i=!i,!1):!1);break}case A.Last:this._tree.scrollTop=this._tree.scrollHeight,this._tree.focusLast(void 0,i=>i.element instanceof Y);break;case A.Next:{const i=this._tree.getFocus();this._tree.focusNext(void 0,this._shouldLoop,void 0,s=>s.element instanceof Y?(this._tree.reveal(s.element),!0):!1);const n=this._tree.getFocus();i.length&&i[0]===n[0]&&i[0]===this._itemElements[this._itemElements.length-1]&&this._onLeave.fire();break}case A.Previous:{const i=this._tree.getFocus();this._tree.focusPrevious(void 0,this._shouldLoop,void 0,s=>{if(!(s.element instanceof Y))return!1;const o=this._tree.getParentElement(s.element);return o===null||o.children[0]!==s.element?this._tree.reveal(s.element):this._tree.reveal(o),!0});const n=this._tree.getFocus();i.length&&i[0]===n[0]&&i[0]===this._itemElements[0]&&this._onLeave.fire();break}case A.NextPage:this._tree.focusNextPage(void 0,i=>i.element instanceof Y?(this._tree.reveal(i.element),!0):!1);break;case A.PreviousPage:this._tree.focusPreviousPage(void 0,i=>{if(!(i.element instanceof Y))return!1;const n=this._tree.getParentElement(i.element);return n===null||n.children[0]!==i.element?this._tree.reveal(i.element):this._tree.reveal(n),!0});break;case A.NextSeparator:{let i=!1;const n=this._tree.getFocus()[0];this._tree.focusNext(void 0,!0,void 0,o=>{if(i)return!0;if(o.element instanceof at)i=!0,this._separatorRenderer.isSeparatorVisible(o.element)?this._tree.reveal(o.element.children[0]):this._tree.reveal(o.element,0);else if(o.element instanceof Y){if(o.element.separator)return this._itemRenderer.isItemWithSeparatorVisible(o.element)?this._tree.reveal(o.element):this._tree.reveal(o.element,0),!0;if(o.element===this._elementTree[0])return this._tree.reveal(o.element,0),!0}return!1});const s=this._tree.getFocus()[0];n===s&&(this._tree.scrollTop=this._tree.scrollHeight,this._tree.focusLast(void 0,o=>o.element instanceof Y));break}case A.PreviousSeparator:{let i,n=!!((t=this._tree.getFocus()[0])!=null&&t.separator);this._tree.focusPrevious(void 0,!0,void 0,s=>{if(s.element instanceof at)n?i||(this._separatorRenderer.isSeparatorVisible(s.element)?this._tree.reveal(s.element):this._tree.reveal(s.element,0),i=s.element.children[0]):n=!0;else if(s.element instanceof Y&&!i){if(s.element.separator)this._itemRenderer.isItemWithSeparatorVisible(s.element)?this._tree.reveal(s.element):this._tree.reveal(s.element,0),i=s.element;else if(s.element===this._elementTree[0])return this._tree.reveal(s.element,0),!0}return!1}),i&&this._tree.setFocus([i]);break}}}clearFocus(){this._tree.setFocus([])}domFocus(){this._tree.domFocus()}layout(e){this._tree.getHTMLElement().style.maxHeight=e?`${Math.floor(e/44)*44+6}px`:"",this._tree.layout()}filter(e){if(this._lastQueryString=e,!(this._sortByLabel||this._matchOnLabel||this._matchOnDescription||this._matchOnDetail))return this._tree.layout(),!1;const t=e;if(e=e.trim(),!e||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this._itemElements.forEach(i=>{i.labelHighlights=void 0,i.descriptionHighlights=void 0,i.detailHighlights=void 0,i.hidden=!1;const n=i.index&&this._inputElements[i.index-1];i.item&&(i.separator=n&&n.type==="separator"&&!n.buttons?n:void 0)});else{let i;this._itemElements.forEach(n=>{let s;this.matchOnLabelMode==="fuzzy"?s=this.matchOnLabel?Cs(e,fi(n.saneLabel))??void 0:void 0:s=this.matchOnLabel?cf(t,fi(n.saneLabel))??void 0:void 0;const o=this.matchOnDescription?Cs(e,fi(n.saneDescription||""))??void 0:void 0,a=this.matchOnDetail?Cs(e,fi(n.saneDetail||""))??void 0:void 0;if(s||o||a?(n.labelHighlights=s,n.descriptionHighlights=o,n.detailHighlights=a,n.hidden=!1):(n.labelHighlights=void 0,n.descriptionHighlights=void 0,n.detailHighlights=void 0,n.hidden=n.item?!n.item.alwaysShow:!0),n.item?n.separator=void 0:n.separator&&(n.hidden=!0),!this.sortByLabel){const u=n.index&&this._inputElements[n.index-1]||void 0;(u==null?void 0:u.type)==="separator"&&!u.buttons&&(i=u),i&&!n.hidden&&(n.separator=i,i=void 0)}})}return this._setElementsToTree(this._sortByLabel&&e?this._itemElements:this._elementTree),this._tree.layout(),!0}toggleCheckbox(){this._elementCheckedEventBufferer.bufferEvents(()=>{const e=this._tree.getFocus().filter(i=>i instanceof Y),t=this._allVisibleChecked(e);for(const i of e)i.checkboxDisabled||(i.checked=!t)})}style(e){this._tree.style(e)}toggleHover(){const e=this._tree.getFocus()[0];if(!(e!=null&&e.saneTooltip)||!(e instanceof Y))return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}this.showHover(e);const t=new W;t.add(this._tree.onDidChangeFocus(i=>{i.elements[0]instanceof Y&&this.showHover(i.elements[0])})),this._lastHover&&t.add(this._lastHover),this._elementDisposable.add(t)}_setElementsToTree(e){const t=new Array;for(const i of e)i instanceof at?t.push({element:i,collapsible:!1,collapsed:!1,children:i.children.map(n=>({element:n,collapsible:!1,collapsed:!1}))}):t.push({element:i,collapsible:!1,collapsed:!1});this._tree.setChildren(null,t)}_allVisibleChecked(e,t=!0){for(let i=0,n=e.length;i<n;i++){const s=e[i];if(!s.hidden)if(s.checked)t=!0;else return!1}return t}_updateCheckedObservables(){lu(e=>{this._allVisibleCheckedObservable.set(this._allVisibleChecked(this._itemElements,!1),e);const t=this._itemElements.filter(i=>i.checked).length;this._checkedCountObservable.set(t,e),this._checkedElementsObservable.set(this.getCheckedElements(),e)})}showHover(e){var t,i,n;this._lastHover&&!this._lastHover.isDisposed&&((i=(t=this.hoverDelegate).onDidHideHover)==null||i.call(t),(n=this._lastHover)==null||n.dispose()),!(!e.element||!e.saneTooltip)&&(this._lastHover=this.hoverDelegate.showHover({content:e.saneTooltip,target:e.element,linkHandler:s=>{this.linkOpenerDelegate(s)},appearance:{showPointer:!0},container:this._container,position:{hoverPosition:1}},!1))}};hs([qa],Oi.prototype,"onDidChangeFocus",null);hs([qa],Oi.prototype,"onDidChangeSelection",null);Oi=hs([or(4,Z),or(5,Lc)],Oi);function cf(r,e){const{text:t,iconOffsets:i}=e;if(!i||i.length===0)return Jo(r,t);const n=hu(t," "),s=t.length-n.length,o=Jo(r,n);if(o)for(const a of o){const u=i[a.start+s]+s;a.start+=u,a.end+=u}return o}function Jo(r,e){const t=e.toLowerCase().indexOf(r.toLowerCase());return t!==-1?[{start:t,end:t+r.length}]:null}function lf(r,e,t){const i=r.labelHighlights||[],n=e.labelHighlights||[];return i.length&&!n.length?-1:!i.length&&n.length?1:i.length===0&&n.length===0?0:uu(r.saneSortLabel,e.saneSortLabel,t)}const Jc={weight:200,when:B.and(B.equals(Hc,"quickPick"),Pg),metadata:{description:c("quickPick","Used while in the context of the quick pick. If you change one keybinding for this command, you should change all of the other keybindings (modifier variants) of this command as well.")}};function le(r,e={}){ni.registerCommandAndKeybindingRule({...Jc,...r,secondary:uf(r.primary,r.secondary??[],e)})}const xn=Tt?256:2048;function uf(r,e,t={}){return t.withAltMod&&e.push(512+r),t.withCtrlMod&&(e.push(xn+r),t.withAltMod&&e.push(512+xn+r)),t.withCmdMod&&Tt&&(e.push(2048+r),t.withCtrlMod&&e.push(2304+r),t.withAltMod&&(e.push(2560+r),t.withCtrlMod&&e.push(2816+r))),e}function de(r,e){return t=>{const i=t.get(rs).currentQuickInput;if(i)return e&&i.quickNavigate?i.focus(e):i.focus(r)}}le({id:"quickInput.pageNext",primary:12,handler:de(A.NextPage)},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0});le({id:"quickInput.pagePrevious",primary:11,handler:de(A.PreviousPage)},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0});le({id:"quickInput.first",primary:xn+14,handler:de(A.First)},{withAltMod:!0,withCmdMod:!0});le({id:"quickInput.last",primary:xn+13,handler:de(A.Last)},{withAltMod:!0,withCmdMod:!0});le({id:"quickInput.next",primary:18,handler:de(A.Next)},{withCtrlMod:!0});le({id:"quickInput.previous",primary:16,handler:de(A.Previous)},{withCtrlMod:!0});const Xo=c("quickInput.nextSeparatorWithQuickAccessFallback","If we're in quick access mode, this will navigate to the next item. If we are not in quick access mode, this will navigate to the next separator."),Zo=c("quickInput.previousSeparatorWithQuickAccessFallback","If we're in quick access mode, this will navigate to the previous item. If we are not in quick access mode, this will navigate to the previous separator.");Tt?(le({id:"quickInput.nextSeparatorWithQuickAccessFallback",primary:2066,handler:de(A.NextSeparator,A.Next),metadata:{description:Xo}}),le({id:"quickInput.nextSeparator",primary:2578,secondary:[2322],handler:de(A.NextSeparator)},{withCtrlMod:!0}),le({id:"quickInput.previousSeparatorWithQuickAccessFallback",primary:2064,handler:de(A.PreviousSeparator,A.Previous),metadata:{description:Zo}}),le({id:"quickInput.previousSeparator",primary:2576,secondary:[2320],handler:de(A.PreviousSeparator)},{withCtrlMod:!0})):(le({id:"quickInput.nextSeparatorWithQuickAccessFallback",primary:530,handler:de(A.NextSeparator,A.Next),metadata:{description:Xo}}),le({id:"quickInput.nextSeparator",primary:2578,handler:de(A.NextSeparator)}),le({id:"quickInput.previousSeparatorWithQuickAccessFallback",primary:528,handler:de(A.PreviousSeparator,A.Previous),metadata:{description:Zo}}),le({id:"quickInput.previousSeparator",primary:2576,handler:de(A.PreviousSeparator)}));le({id:"quickInput.acceptInBackground",when:B.and(Jc.when,B.or(Gg.negate(),$g)),primary:17,weight:250,handler:r=>{const e=r.get(rs).currentQuickInput;e==null||e.accept(!0)}},{withAltMod:!0,withCtrlMod:!0,withCmdMod:!0});var hf=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},xs=function(r,e){return function(t,i){e(t,i,r)}},cr;const ce=Ie;var vt;let lr=(vt=class extends K{get currentQuickInput(){return this.controller??void 0}get container(){return this._container}constructor(e,t,i,n){super(),this.options=e,this.layoutService=t,this.instantiationService=i,this.contextKeyService=n,this.enabled=!0,this.onDidAcceptEmitter=this._register(new I),this.onDidCustomEmitter=this._register(new I),this.onDidTriggerButtonEmitter=this._register(new I),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new I),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new I),this.onHide=this.onHideEmitter.event,this.inQuickInputContext=Hg.bindTo(this.contextKeyService),this.quickInputTypeContext=Vg.bindTo(this.contextKeyService),this.endOfQuickInputBoxContext=Wg.bindTo(this.contextKeyService),this.idPrefix=e.idPrefix,this._container=e.container,this.styles=e.styles,this._register(z.runAndSubscribe(ja,({window:s,disposables:o})=>this.registerKeyModsListeners(s,o),{window:Er,disposables:this._store})),this._register(fu(s=>{this.ui&&Xe(this.ui.container)===s&&(this.reparentUI(this.layoutService.mainContainer),this.layout(this.layoutService.mainContainerDimension,this.layoutService.mainContainerOffset.quickPickTop))}))}registerKeyModsListeners(e,t){const i=n=>{this.keyMods.ctrlCmd=n.ctrlKey||n.metaKey,this.keyMods.alt=n.altKey};for(const n of[V.KEY_DOWN,V.KEY_UP,V.MOUSE_DOWN])t.add(G(e,n,i,!0))}getUI(e){if(this.ui)return e&&Xe(this._container)!==Xe(this.layoutService.activeContainer)&&(this.reparentUI(this.layoutService.activeContainer),this.layout(this.layoutService.activeContainerDimension,this.layoutService.activeContainerOffset.quickPickTop)),this.ui;const t=M(this._container,ce(".quick-input-widget.show-file-icons"));t.tabIndex=-1,t.style.display="none";const i=Wa(t),n=M(t,ce(".quick-input-titlebar")),s=this._register(new ki(n,{hoverDelegate:this.options.hoverDelegate}));s.domNode.classList.add("quick-input-left-action-bar");const o=M(n,ce(".quick-input-title")),a=this._register(new ki(n,{hoverDelegate:this.options.hoverDelegate}));a.domNode.classList.add("quick-input-right-action-bar");const u=M(t,ce(".quick-input-header")),h=M(u,ce("input.quick-input-check-all"));h.type="checkbox",h.setAttribute("aria-label",c("quickInput.checkAll","Toggle all checkboxes")),this._register(ti(h,V.CHANGE,D=>{const ae=h.checked;Fe.setAllVisibleChecked(ae)})),this._register(G(h,V.CLICK,D=>{(D.x||D.y)&&m.setFocus()}));const d=M(u,ce(".quick-input-description")),g=M(u,ce(".quick-input-and-message")),p=M(g,ce(".quick-input-filter")),m=this._register(new jg(p,this.styles.inputBox,this.styles.toggle));m.setAttribute("aria-describedby",`${this.idPrefix}message`);const v=M(p,ce(".quick-input-visible-count"));v.setAttribute("aria-live","polite"),v.setAttribute("aria-atomic","true");const y=new oo(v,{countFormat:c({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),k=M(p,ce(".quick-input-count"));k.setAttribute("aria-live","polite");const S=new oo(k,{countFormat:c({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),q=this._register(new ki(u,{hoverDelegate:this.options.hoverDelegate}));q.domNode.classList.add("quick-input-inline-action-bar");const N=M(u,ce(".quick-input-action")),P=this._register(new ao(N,this.styles.button));P.label=c("ok","OK"),this._register(P.onDidClick(D=>{this.onDidAcceptEmitter.fire()}));const ie=M(u,ce(".quick-input-action")),fe=this._register(new ao(ie,{...this.styles.button,supportIcons:!0}));fe.label=c("custom","Custom"),this._register(fe.onDidClick(D=>{this.onDidCustomEmitter.fire()}));const ke=M(g,ce(`#${this.idPrefix}message.quick-input-message`)),Ce=this._register(new pu(t,this.styles.progressBar));Ce.getContainer().classList.add("quick-input-progress");const Kt=M(t,ce(".quick-input-html-widget"));Kt.tabIndex=-1;const ui=M(t,ce(".quick-input-description")),Xr=this.idPrefix+"list",Fe=this._register(this.instantiationService.createInstance(Oi,t,this.options.hoverDelegate,this.options.linkOpenerDelegate,Xr));m.setAttribute("aria-controls",Xr),this._register(Fe.onDidChangeFocus(()=>{m.setAttribute("aria-activedescendant",Fe.getActiveDescendant()??"")})),this._register(Fe.onChangedAllVisibleChecked(D=>{h.checked=D})),this._register(Fe.onChangedVisibleCount(D=>{y.setCount(D)})),this._register(Fe.onChangedCheckedCount(D=>{S.setCount(D)})),this._register(Fe.onLeave(()=>{setTimeout(()=>{this.controller&&(m.setFocus(),this.controller instanceof yn&&this.controller.canSelectMany&&Fe.clearFocus())},0)}));const Zr=Ga(t);return this._register(Zr),this._register(G(t,V.FOCUS,D=>{const ae=this.getUI();if(Qe(D.relatedTarget,ae.inputContainer)){const ot=ae.inputBox.isSelectionAtEnd();this.endOfQuickInputBoxContext.get()!==ot&&this.endOfQuickInputBoxContext.set(ot)}Qe(D.relatedTarget,ae.container)||(this.inQuickInputContext.set(!0),this.previousFocusElement=ei(D.relatedTarget)?D.relatedTarget:void 0)},!0)),this._register(Zr.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(ai.Blur),this.inQuickInputContext.set(!1),this.endOfQuickInputBoxContext.set(!1),this.previousFocusElement=void 0})),this._register(m.onKeyDown(D=>{const ae=this.getUI().inputBox.isSelectionAtEnd();this.endOfQuickInputBoxContext.get()!==ae&&this.endOfQuickInputBoxContext.set(ae)})),this._register(G(t,V.FOCUS,D=>{m.setFocus()})),this._register(ti(t,V.KEY_DOWN,D=>{if(!Qe(D.target,Kt))switch(D.keyCode){case 3:ut.stop(D,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:ut.stop(D,!0),this.hide(ai.Gesture);break;case 2:if(!D.altKey&&!D.ctrlKey&&!D.metaKey){const ae=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(t.classList.contains("show-checkboxes")?ae.push("input"):ae.push("input[type=text]"),this.getUI().list.displayed&&ae.push(".monaco-list"),this.getUI().message&&ae.push(".quick-input-message a"),this.getUI().widget){if(Qe(D.target,this.getUI().widget))break;ae.push(".quick-input-html-widget")}const ot=t.querySelectorAll(ae.join(", "));D.shiftKey&&D.target===ot[0]?(ut.stop(D,!0),Fe.clearFocus()):!D.shiftKey&&Qe(D.target,ot[ot.length-1])&&(ut.stop(D,!0),ot[0].focus())}break;case 10:D.ctrlKey&&(ut.stop(D,!0),this.getUI().list.toggleHover());break}})),this.ui={container:t,styleSheet:i,leftActionBar:s,titleBar:n,title:o,description1:ui,description2:d,widget:Kt,rightActionBar:a,inlineActionBar:q,checkAll:h,inputContainer:g,filterContainer:p,inputBox:m,visibleCountContainer:v,visibleCount:y,countContainer:k,count:S,okContainer:N,ok:P,message:ke,customButtonContainer:ie,customButton:fe,list:Fe,progressBar:Ce,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:D=>this.show(D),hide:()=>this.hide(),setVisibilities:D=>this.setVisibilities(D),setEnabled:D=>this.setEnabled(D),setContextKey:D=>this.options.setContextKey(D),linkOpenerDelegate:D=>this.options.linkOpenerDelegate(D)},this.updateStyles(),this.ui}reparentUI(e){this.ui&&(this._container=e,M(this._container,this.ui.container))}pick(e,t={},i=za.None){return new Promise((n,s)=>{let o=d=>{var g;o=n,(g=t.onKeyMods)==null||g.call(t,a.keyMods),n(d)};if(i.isCancellationRequested){o(void 0);return}const a=this.createQuickPick({useSeparators:!0});let u;const h=[a,a.onDidAccept(()=>{if(a.canSelectMany)o(a.selectedItems.slice()),a.hide();else{const d=a.activeItems[0];d&&(o(d),a.hide())}}),a.onDidChangeActive(d=>{const g=d[0];g&&t.onDidFocus&&t.onDidFocus(g)}),a.onDidChangeSelection(d=>{if(!a.canSelectMany){const g=d[0];g&&(o(g),a.hide())}}),a.onDidTriggerItemButton(d=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton({...d,removeItem:()=>{const g=a.items.indexOf(d.item);if(g!==-1){const p=a.items.slice(),m=p.splice(g,1),v=a.activeItems.filter(k=>k!==m[0]),y=a.keepScrollPosition;a.keepScrollPosition=!0,a.items=p,v&&(a.activeItems=v),a.keepScrollPosition=y}}})),a.onDidTriggerSeparatorButton(d=>{var g;return(g=t.onDidTriggerSeparatorButton)==null?void 0:g.call(t,d)}),a.onDidChangeValue(d=>{u&&!d&&(a.activeItems.length!==1||a.activeItems[0]!==u)&&(a.activeItems=[u])}),i.onCancellationRequested(()=>{a.hide()}),a.onDidHide(()=>{Nn(h),o(void 0)})];a.title=t.title,t.value&&(a.value=t.value),a.canSelectMany=!!t.canPickMany,a.placeholder=t.placeHolder,a.ignoreFocusOut=!!t.ignoreFocusLost,a.matchOnDescription=!!t.matchOnDescription,a.matchOnDetail=!!t.matchOnDetail,a.matchOnLabel=t.matchOnLabel===void 0||t.matchOnLabel,a.quickNavigate=t.quickNavigate,a.hideInput=!!t.hideInput,a.contextKey=t.contextKey,a.busy=!0,Promise.all([e,t.activeItem]).then(([d,g])=>{u=g,a.busy=!1,a.items=d,a.canSelectMany&&(a.selectedItems=d.filter(p=>p.type!=="separator"&&p.picked)),u&&(a.activeItems=[u])}),a.show(),Promise.resolve(e).then(void 0,d=>{s(d),a.hide()})})}createQuickPick(e={useSeparators:!1}){const t=this.getUI(!0);return new yn(t)}createInputBox(){const e=this.getUI(!0);return new qg(e)}show(e){const t=this.getUI(!0);this.onShowEmitter.fire();const i=this.controller;this.controller=e,i==null||i.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description1.textContent="",t.description2.textContent="",Jt(t.widget),t.rightActionBar.clear(),t.inlineActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration(j.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),Jt(t.message),t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,t.inputBox.toggles=void 0;const n=this.options.backKeybindingLabel();nr.tooltip=n?c("quickInput.backWithKeybinding","Back ({0})",n):c("quickInput.back","Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus(),this.quickInputTypeContext.set(e.type)}isVisible(){return!!this.ui&&this.ui.container.style.display!=="none"}setVisibilities(e){const t=this.getUI();t.title.style.display=e.title?"":"none",t.description1.style.display=e.description&&(e.inputBox||e.checkAll)?"":"none",t.description2.style.display=e.description&&!(e.inputBox||e.checkAll)?"":"none",t.checkAll.style.display=e.checkAll?"":"none",t.inputContainer.style.display=e.inputBox?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.displayed=!!e.list,t.container.classList.toggle("show-checkboxes",!!e.checkBox),t.container.classList.toggle("hidden-input",!e.inputBox&&!e.description),this.updateLayout()}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(const t of this.getUI().leftActionBar.viewItems)t.action.enabled=e;for(const t of this.getUI().rightActionBar.viewItems)t.action.enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().inputBox.enabled=e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(e){var s;const t=this.controller;if(!t)return;t.willHide(e);const i=(s=this.ui)==null?void 0:s.container,n=i&&!mu(i);if(this.controller=null,this.onHideEmitter.fire(),i&&(i.style.display="none"),!n){let o=this.previousFocusElement;for(;o&&!o.offsetParent;)o=o.parentElement??void 0;o!=null&&o.offsetParent?(o.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}t.didHide(e)}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui&&this.isVisible()){this.ui.container.style.top=`${this.titleBarOffset}px`;const e=this.ui.container.style,t=Math.min(this.dimension.width*.62,cr.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:e,quickInputBackground:t,quickInputForeground:i,widgetBorder:n,widgetShadow:s}=this.styles.widget;this.ui.titleBar.style.backgroundColor=e??"",this.ui.container.style.backgroundColor=t??"",this.ui.container.style.color=i??"",this.ui.container.style.border=n?`1px solid ${n}`:"",this.ui.container.style.boxShadow=s?`0 0 8px 2px ${s}`:"",this.ui.list.style(this.styles.list);const o=[];this.styles.pickerGroup.pickerGroupBorder&&o.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&o.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&o.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(o.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&o.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&o.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&o.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&o.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&o.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),o.push("}"));const a=o.join(`
`);a!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=a)}}},cr=vt,vt.MAX_WIDTH=600,vt);lr=cr=hf([xs(1,Ni),xs(2,Z),xs(3,$)],lr);var df=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},gi=function(r,e){return function(t,i){e(t,i,r)}};let ea=class extends Eh{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get currentQuickInput(){return this.controller.currentQuickInput}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(ir))),this._quickAccess}constructor(e,t,i,n,s){super(i),this.instantiationService=e,this.contextKeyService=t,this.layoutService=n,this.configurationService=s,this._onShow=this._register(new I),this._onHide=this._register(new I),this.contexts=new Map}createController(e=this.layoutService,t){const i={idPrefix:"quickInput_",container:e.activeContainer,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:s=>this.setContextKey(s),linkOpenerDelegate:s=>{this.instantiationService.invokeFunction(o=>{o.get(Ac).open(s,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>e.focus(),styles:this.computeStyles(),hoverDelegate:this._register(this.instantiationService.createInstance(sr))},n=this._register(this.instantiationService.createInstance(lr,{...i,...t}));return n.layout(e.activeContainerDimension,e.activeContainerOffset.quickPickTop),this._register(e.onDidLayoutActiveContainer(s=>{Xe(e.activeContainer)===Xe(n.container)&&n.layout(s,e.activeContainerOffset.quickPickTop)})),this._register(e.onDidChangeActiveContainer(()=>{n.isVisible()||n.layout(e.activeContainerDimension,e.activeContainerOffset.quickPickTop)})),this._register(n.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(n.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),n}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new E(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),!(t&&t.get())&&(this.resetContextKeys(),t==null||t.set(!0))}resetContextKeys(){this.contexts.forEach(e=>{e.get()&&e.reset()})}pick(e,t,i=za.None){return this.controller.pick(e,t,i)}createQuickPick(e={useSeparators:!1}){return this.controller.createQuickPick(e)}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:b(Lo),quickInputForeground:b(eg),quickInputTitleBackground:b(tg),widgetBorder:b($h),widgetShadow:b(Hi)},inputBox:Rc,toggle:Oc,countBadge:xg,button:Sg,progressBar:_g,keybindingLabel:vg,list:Wi({listBackground:Lo,listFocusBackground:qs,listFocusForeground:$s,listInactiveFocusForeground:$s,listInactiveSelectionIconForeground:Fc,listInactiveFocusBackground:qs,listFocusOutline:Q,listInactiveFocusOutline:Q}),pickerGroup:{pickerGroupBorder:b(ig),pickerGroupForeground:b(Bc)}}}};ea=df([gi(0,Z),gi(1,$),gi(2,Xn),gi(3,Ni),gi(4,te)],ea);const gf={IconContribution:"base.contributions.icons"};var ta;(function(r){function e(t,i){let n=t.defaults;for(;U.isThemeIcon(n);){const s=Mt.getIcon(n.id);if(!s)return;n=s.defaults}return n}r.getDefinition=e})(ta||(ta={}));var ia;(function(r){function e(i){return{weight:i.weight,style:i.style,src:i.src.map(n=>({format:n.format,location:n.location.toString()}))}}r.toJSONObject=e;function t(i){const n=s=>tn(s)?s:void 0;if(i&&Array.isArray(i.src)&&i.src.every(s=>tn(s.format)&&tn(s.location)))return{weight:n(i.weight),style:n(i.style),src:i.src.map(s=>({format:s.format,location:qe.parse(s.location)}))}}r.fromJSONObject=t})(ia||(ia={}));class ff{constructor(){this._onDidChange=new I,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:c("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:c("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${U.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(e,t,i,n){const s=this.iconsById[e];if(s){if(i&&!s.description){s.description=i,this.iconSchema.properties[e].markdownDescription=`${i} $(${e})`;const u=this.iconReferenceSchema.enum.indexOf(e);u!==-1&&(this.iconReferenceSchema.enumDescriptions[u]=i),this._onDidChange.fire()}return s}const o={id:e,description:i,defaults:t,deprecationMessage:n};this.iconsById[e]=o;const a={$ref:"#/definitions/icons"};return n&&(a.deprecationMessage=n),i&&(a.markdownDescription=`${i}: $(${e})`),this.iconSchema.properties[e]=a,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(i||""),this._onDidChange.fire(),{id:e}}getIcons(){return Object.keys(this.iconsById).map(e=>this.iconsById[e])}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}toString(){const e=(s,o)=>s.id.localeCompare(o.id),t=s=>{for(;U.isThemeIcon(s.defaults);)s=this.iconsById[s.defaults.id];return`codicon codicon-${s?s.id:""}`},i=[];i.push("| preview     | identifier                        | default codicon ID                | description"),i.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const n=Object.keys(this.iconsById).map(s=>this.iconsById[s]);for(const s of n.filter(o=>!!o.description).sort(e))i.push(`|<i class="${t(s)}"></i>|${s.id}|${U.isThemeIcon(s.defaults)?s.defaults.id:s.id}|${s.description||""}|`);i.push("| preview     | identifier                        "),i.push("| ----------- | --------------------------------- |");for(const s of n.filter(o=>!U.isThemeIcon(o.defaults)).sort(e))i.push(`|<i class="${t(s)}"></i>|${s.id}|`);return i.join(`
`)}}const Mt=new ff;oe.add(gf.IconContribution,Mt);function Gr(r,e,t,i){return Mt.registerIcon(r,e,t,i)}function Xc(){return Mt}function pf(){const r=yu();for(const e in r){const t="\\"+r[e].toString(16);Mt.registerIcon(e,{fontCharacter:t})}}pf();const Zc="vscode://schemas/icons",el=oe.as(Yn.JSONContribution);el.registerSchema(Zc,Mt.getIconSchema());const na=new wr(()=>el.notifySchemaChanged(Zc),200);Mt.onDidChange(()=>{na.isScheduled()||na.schedule()});const xm=Gr("widget-close",xe.close,c("widgetClose","Icon for the close action in widgets."));Gr("goto-previous-location",xe.arrowUp,c("previousChangeIcon","Icon for goto previous editor location."));Gr("goto-next-location",xe.arrowDown,c("nextChangeIcon","Icon for goto next editor location."));U.modify(xe.sync,"spin");U.modify(xe.loading,"spin");function Dm(r){const e=new W,t=e.add(new I),i=Xc();return e.add(i.onDidChange(()=>t.fire())),r&&e.add(r.onDidProductIconThemeChange(()=>t.fire())),{dispose:()=>e.dispose(),onDidChange:t.event,getCSS(){const n=r?r.getProductIconTheme():new mf,s={},o=[],a=[];for(const u of i.getIcons()){const h=n.getIcon(u);if(!h)continue;const d=h.font,g=`--vscode-icon-${u.id}-font-family`,p=`--vscode-icon-${u.id}-content`;d?(s[d.id]=d.definition,a.push(`${g}: ${vs(d.id)};`,`${p}: '${h.fontCharacter}';`),o.push(`.codicon-${u.id}:before { content: '${h.fontCharacter}'; font-family: ${vs(d.id)}; }`)):(a.push(`${p}: '${h.fontCharacter}'; ${g}: 'codicon';`),o.push(`.codicon-${u.id}:before { content: '${h.fontCharacter}'; }`))}for(const u in s){const h=s[u],d=h.weight?`font-weight: ${h.weight};`:"",g=h.style?`font-style: ${h.style};`:"",p=h.src.map(m=>`${it(m.location)} format('${m.format}')`).join(", ");o.push(`@font-face { src: ${p}; font-family: ${vs(u)};${d}${g} font-display: block; }`)}return o.push(`:root { ${a.join(" ")} }`),o.join(`
`)}}}class mf{getIcon(e){const t=Xc();let i=e.defaults;for(;U.isThemeIcon(i);){const n=t.getIcon(i.id);if(!n)return;i=n.defaults}return i}}var yf=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Ds=function(r,e){return function(t,i){e(t,i,r)}};let sa=class extends K{constructor(e,t,i){super(),this._contextKeyService=e,this._layoutService=t,this._configurationService=i,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new I,this._onDidChangeReducedMotion=new I,this._onDidChangeLinkUnderline=new I,this._accessibilityModeEnabledContext=sg.bindTo(this._contextKeyService);const n=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(o=>{o.affectsConfiguration("editor.accessibilitySupport")&&(n(),this._onDidChangeScreenReaderOptimized.fire()),o.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),n(),this._register(this.onDidChangeScreenReaderOptimized(()=>n()));const s=Er.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=s.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._linkUnderlinesEnabled=this._configurationService.getValue("accessibility.underlineLinks"),this.initReducedMotionListeners(s),this.initLinkUnderlineListeners()}initReducedMotionListeners(e){this._register(G(e,"change",()=>{this._systemMotionReduced=e.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const t=()=>{const i=this.isMotionReduced();this._layoutService.mainContainer.classList.toggle("reduce-motion",i),this._layoutService.mainContainer.classList.toggle("enable-motion",!i)};t(),this._register(this.onDidChangeReducedMotion(()=>t()))}initLinkUnderlineListeners(){this._register(this._configurationService.onDidChangeConfiguration(t=>{if(t.affectsConfiguration("accessibility.underlineLinks")){const i=this._configurationService.getValue("accessibility.underlineLinks");this._linkUnderlinesEnabled=i,this._onDidChangeLinkUnderline.fire()}}));const e=()=>{const t=this._linkUnderlinesEnabled;this._layoutService.mainContainer.classList.toggle("underline-links",t)};e(),this._register(this.onDidChangeLinkUnderlines(()=>e()))}onDidChangeLinkUnderlines(e){return this._onDidChangeLinkUnderline.event(e)}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return e==="on"||e==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const e=this._configMotionReduced;return e==="on"||e==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};sa=yf([Ds(0,$),Ds(1,Ni),Ds(2,te)],sa);var ds=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Re=function(r,e){return function(t,i){e(t,i,r)}},Vt,yi;let ra=class{constructor(e,t,i){this._commandService=e,this._keybindingService=t,this._hiddenStates=new ur(i)}createMenu(e,t,i){return new Dn(e,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...i},this._commandService,this._keybindingService,t)}getMenuActions(e,t,i){const n=new Dn(e,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...i},this._commandService,this._keybindingService,t),s=n.getActions(i);return n.dispose(),s}resetHiddenStates(e){this._hiddenStates.reset(e)}};ra=ds([Re(0,rt),Re(1,ge),Re(2,ns)],ra);var St;let ur=(St=class{constructor(e){this._storageService=e,this._disposables=new W,this._onDidChange=new I,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const t=e.get(Vt._key,0,"{}");this._data=JSON.parse(t)}catch{this._data=Object.create(null)}this._disposables.add(e.onDidChangeValue(0,Vt._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const t=e.get(Vt._key,0,"{}");this._data=JSON.parse(t)}catch(t){console.log("FAILED to read storage after UPDATE",t)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(e,t){return this._hiddenByDefaultCache.get(`${e.id}/${t}`)??!1}setDefaultState(e,t,i){this._hiddenByDefaultCache.set(`${e.id}/${t}`,i)}isHidden(e,t){var s;const i=this._isHiddenByDefault(e,t),n=((s=this._data[e.id])==null?void 0:s.includes(t))??!1;return i?!n:n}updateHidden(e,t,i){this._isHiddenByDefault(e,t)&&(i=!i);const s=this._data[e.id];if(i)s?s.indexOf(t)<0&&s.push(t):this._data[e.id]=[t];else if(s){const o=s.indexOf(t);o>=0&&bu(s,o),s.length===0&&delete this._data[e.id]}this._persist()}reset(e){if(e===void 0)this._data=Object.create(null),this._persist();else{for(const{id:t}of e)this._data[t]&&delete this._data[t];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const e=JSON.stringify(this._data);this._storageService.store(Vt._key,e,0,0)}finally{this._ignoreChangeEvent=!1}}},Vt=St,St._key="menu.hiddenCommands",St);ur=Vt=ds([Re(0,ns)],ur);class wi{constructor(e,t){this._id=e,this._collectContextKeysForSubmenus=t,this._menuGroups=[],this._allMenuIds=new Set,this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get allMenuIds(){return this._allMenuIds}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._allMenuIds.clear(),this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const e=this._sort(yt.getMenuItems(this._id));let t;for(const i of e){const n=i.group||"";(!t||t[0]!==n)&&(t=[n,[]],this._menuGroups.push(t)),t[1].push(i),this._collectContextKeysAndSubmenuIds(i)}this._allMenuIds.add(this._id)}_sort(e){return e}_collectContextKeysAndSubmenuIds(e){if(wi._fillInKbExprKeys(e.when,this._structureContextKeys),vi(e)){if(e.command.precondition&&wi._fillInKbExprKeys(e.command.precondition,this._preconditionContextKeys),e.command.toggled){const t=e.command.toggled.condition||e.command.toggled;wi._fillInKbExprKeys(t,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&(yt.getMenuItems(e.submenu).forEach(this._collectContextKeysAndSubmenuIds,this),this._allMenuIds.add(e.submenu))}static _fillInKbExprKeys(e,t){if(e)for(const i of e.keys())t.add(i)}}let hr=yi=class extends wi{constructor(e,t,i,n,s,o){super(e,i),this._hiddenStates=t,this._commandService=n,this._keybindingService=s,this._contextKeyService=o,this.refresh()}createActionGroups(e){const t=[];for(const i of this._menuGroups){const[n,s]=i;let o;for(const a of s)if(this._contextKeyService.contextMatchesRules(a.when)){const u=vi(a);u&&this._hiddenStates.setDefaultState(this._id,a.command.id,!!a.isHiddenByDefault);const h=bf(this._id,u?a.command:a,this._hiddenStates);if(u){const d=tl(this._commandService,this._keybindingService,a.command.id,a.when);(o??(o=[])).push(new Ve(a.command,a.alt,e,h,d,this._contextKeyService,this._commandService))}else{const d=new yi(a.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._keybindingService,this._contextKeyService).createActionGroups(e),g=et.join(...d.map(p=>p[1]));g.length>0&&(o??(o=[])).push(new Si(a,h,g))}}o&&o.length>0&&t.push([n,o])}return t}_sort(e){return e.sort(yi._compareMenuItems)}static _compareMenuItems(e,t){const i=e.group,n=t.group;if(i!==n){if(i){if(!n)return-1}else return 1;if(i==="navigation")return-1;if(n==="navigation")return 1;const a=i.localeCompare(n);if(a!==0)return a}const s=e.order||0,o=t.order||0;return s<o?-1:s>o?1:yi._compareTitles(vi(e)?e.command.title:e.title,vi(t)?t.command.title:t.title)}static _compareTitles(e,t){const i=typeof e=="string"?e:e.original,n=typeof t=="string"?t:t.original;return i.localeCompare(n)}};hr=yi=ds([Re(3,rt),Re(4,ge),Re(5,$)],hr);let Dn=class{constructor(e,t,i,n,s,o){this._disposables=new W,this._menuInfo=new hr(e,t,i.emitEventsForSubmenuChanges,n,s,o);const a=new wr(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},i.eventDebounceDelay);this._disposables.add(a),this._disposables.add(yt.onDidChangeMenu(g=>{for(const p of this._menuInfo.allMenuIds)if(g.has(p)){a.schedule();break}}));const u=this._disposables.add(new W),h=g=>{let p=!1,m=!1,v=!1;for(const y of g)if(p=p||y.isStructuralChange,m=m||y.isEnablementChange,v=v||y.isToggleChange,p&&m&&v)break;return{menu:this,isStructuralChange:p,isEnablementChange:m,isToggleChange:v}},d=()=>{u.add(o.onDidChangeContext(g=>{const p=g.affectsSome(this._menuInfo.structureContextKeys),m=g.affectsSome(this._menuInfo.preconditionContextKeys),v=g.affectsSome(this._menuInfo.toggledContextKeys);(p||m||v)&&this._onDidChange.fire({menu:this,isStructuralChange:p,isEnablementChange:m,isToggleChange:v})})),u.add(t.onDidChange(g=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new Qa({onWillAddFirstListener:d,onDidRemoveLastListener:u.clear.bind(u),delay:i.eventDebounceDelay,merge:h}),this.onDidChange=this._onDidChange.event}getActions(e){return this._menuInfo.createActionGroups(e)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};Dn=ds([Re(3,rt),Re(4,ge),Re(5,$)],Dn);function bf(r,e,t){const i=fh(e)?e.submenu.id:e.id,n=typeof e.title=="string"?e.title:e.title.value,s=Zt({id:`hide/${r.id}/${i}`,label:c("hide.label","Hide '{0}'",n),run(){t.updateHidden(r,i,!0)}}),o=Zt({id:`toggle/${r.id}/${i}`,label:n,get checked(){return!t.isHidden(r,i)},run(){t.updateHidden(r,i,!!this.checked)}});return{hide:s,toggle:o,get isHidden(){return!o.checked}}}function tl(r,e,t,i=void 0,n=!0){return Zt({id:`configureKeybinding/${t}`,label:c("configure keybinding","Configure Keybinding"),enabled:n,run(){const o=!!!e.lookupKeybinding(t)&&i?i.serialize():void 0;r.executeCommand("workbench.action.openGlobalKeybindings",`@command:${t}`+(o?` +when:${o}`:""))}})}var kf=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},oa=function(r,e){return function(t,i){e(t,i,r)}},dr;const aa="application/vnd.code.resources";var _t;let ca=(_t=class extends K{constructor(e,t){super(),this.layoutService=e,this.logService=t,this.mapTextToType=new Map,this.findText="",this.resources=[],this.resourcesStateHash=void 0,(ku||Cu)&&this.installWebKitWriteTextWorkaround(),this._register(z.runAndSubscribe(ja,({window:i,disposables:n})=>{n.add(G(i.document,"copy",()=>this.clearResourcesState()))},{window:Er,disposables:this._store}))}installWebKitWriteTextWorkaround(){const e=()=>{const t=new Ma;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=t,Gi().navigator.clipboard.write([new ClipboardItem({"text/plain":t.p})]).catch(async i=>{(!(i instanceof Error)||i.name!=="NotAllowedError"||!t.isRejected)&&this.logService.error(i)})};this._register(z.runAndSubscribe(this.layoutService.onDidAddContainer,({container:t,disposables:i})=>{i.add(G(t,"click",e)),i.add(G(t,"keydown",e))},{container:this.layoutService.mainContainer,disposables:this._store}))}async writeText(e,t){if(this.clearResourcesState(),t){this.mapTextToType.set(t,e);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(e);try{return await Gi().navigator.clipboard.writeText(e)}catch(i){console.error(i)}this.fallbackWriteText(e)}fallbackWriteText(e){const t=vu(),i=t.activeElement,n=t.body.appendChild(Ie("textarea",{"aria-hidden":!0}));n.style.height="1px",n.style.width="1px",n.style.position="absolute",n.value=e,n.focus(),n.select(),t.execCommand("copy"),ei(i)&&i.focus(),n.remove()}async readText(e){if(e)return this.mapTextToType.get(e)||"";try{return await Gi().navigator.clipboard.readText()}catch(t){console.error(t)}return""}async readFindText(){return this.findText}async writeFindText(e){this.findText=e}async readResources(){try{const t=await Gi().navigator.clipboard.read();for(const i of t)if(i.types.includes(`web ${aa}`)){const n=await i.getType(`web ${aa}`);return JSON.parse(await n.text()).map(o=>qe.from(o))}}catch{}const e=await this.computeResourcesStateHash();return this.resourcesStateHash!==e&&this.clearResourcesState(),this.resources}async computeResourcesStateHash(){if(this.resources.length===0)return;const e=await this.readText();return Su(e.substring(0,dr.MAX_RESOURCE_STATE_SOURCE_LENGTH))}clearInternalState(){this.clearResourcesState()}clearResourcesState(){this.resources=[],this.resourcesStateHash=void 0}},dr=_t,_t.MAX_RESOURCE_STATE_SOURCE_LENGTH=1e3,_t);ca=dr=kf([oa(0,Ni),oa(1,Xa)],ca);const Fm=R("clipboardService");var Cf=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},vf=function(r,e){return function(t,i){e(t,i,r)}};const xi="data-keybinding-context";class zr{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}get value(){return{...this._value}}setValue(e,t){return this._value[e]!==t?(this._value[e]=t,!0):!1}removeValue(e){return e in this._value?(delete this._value[e],!0):!1}getValue(e){const t=this._value[e];return typeof t>"u"&&this._parent?this._parent.getValue(e):t}}const On=class On extends zr{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}};On.INSTANCE=new On;let ci=On;const Ei=class Ei extends zr{constructor(e,t,i){super(e,null),this._configurationService=t,this._values=_u.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(n=>{if(n.source===7){const s=Array.from(this._values,([o])=>o);this._values.clear(),i.fire(new ua(s))}else{const s=[];for(const o of n.affectedKeys){const a=`config.${o}`,u=this._values.findSuperstr(a);u!==void 0&&(s.push(...Je.map(u,([h])=>h)),this._values.deleteSuperstr(a)),this._values.has(a)&&(s.push(a),this._values.delete(a))}i.fire(new ua(s))}})}dispose(){this._listener.dispose()}getValue(e){if(e.indexOf(Ei._keyPrefix)!==0)return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr(Ei._keyPrefix.length),i=this._configurationService.getValue(t);let n;switch(typeof i){case"number":case"boolean":case"string":n=i;break;default:Array.isArray(i)?n=JSON.stringify(i):n=i}return this._values.set(e,n),n}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}};Ei._keyPrefix="config.";let gr=Ei;class Sf{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class la{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}allKeysContainedIn(e){return this.affectsSome(e)}}class ua{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}allKeysContainedIn(e){return this.keys.every(t=>e.has(t))}}class _f{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}allKeysContainedIn(e){return this.events.every(t=>t.allKeysContainedIn(e))}}function wf(r,e){return r.allKeysContainedIn(new Set(Object.keys(e)))}class il extends K{constructor(e){super(),this._onDidChangeContext=this._register(new Bs({merge:t=>new _f(t)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Sf(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new xf(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return e?e.evaluate(t):!0}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const i=this.getContextValuesContainer(this._myContextId);i&&i.setValue(e,t)&&this._onDidChangeContext.fire(new la(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new la(e))}getContext(e){return this._isDisposed?ci.INSTANCE:this.getContextValuesContainer(Df(e))}dispose(){super.dispose(),this._isDisposed=!0}}let ha=class extends il{constructor(e){super(0),this._contexts=new Map,this._lastContextId=0;const t=this._register(new gr(this._myContextId,e,this._onDidChangeContext));this._contexts.set(this._myContextId,t)}getContextValuesContainer(e){return this._isDisposed?ci.INSTANCE:this._contexts.get(e)||ci.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const t=++this._lastContextId;return this._contexts.set(t,new zr(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};ha=Cf([vf(0,te)],ha);class xf extends il{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=this._register(new Hn),this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute(xi)){let i="";this._domNode.classList&&(i=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${i?": "+i:""}`)}this._domNode.setAttribute(xi,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(e=>{const i=this._parent.getContextValuesContainer(this._myContextId).value;wf(e,i)||this._onDidChangeContext.fire(e)})}dispose(){this._isDisposed||(this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(xi),super.dispose())}getContextValuesContainer(e){return this._isDisposed?ci.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}function Df(r){for(;r;){if(r.hasAttribute(xi)){const e=r.getAttribute(xi);return e?parseInt(e,10):NaN}r=r.parentElement}return 0}function If(r,e,t){r.get($).createKey(String(e),Ef(t))}function Ef(r){return wu(r,e=>{if(typeof e=="object"&&e.$mid===1)return qe.revive(e).toString();if(e instanceof qe)return e.toString()})}nt.registerCommand("_setContext",If);nt.registerCommand({id:"getContextKeyInfo",handler(){return[...E.all()].sort((r,e)=>r.key.localeCompare(e.key))},metadata:{description:c("getContextKeyInfo","A command that returns information about context keys"),args:[]}});nt.registerCommand("_generateContextKeyInfo",function(){const r=[],e=new Set;for(const t of E.all())e.has(t.key)||(e.add(t.key),r.push(t));r.sort((t,i)=>t.key.localeCompare(i.key)),console.log(JSON.stringify(r,void 0,2))});class Tf{constructor(e,t){this.key=e,this.data=t,this.incoming=new Map,this.outgoing=new Map}}class da{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(const t of this._nodes.values())t.outgoing.size===0&&e.push(t);return e}insertEdge(e,t){const i=this.lookupOrInsertNode(e),n=this.lookupOrInsertNode(t);i.outgoing.set(n.key,n),n.incoming.set(i.key,i)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(const i of this._nodes.values())i.outgoing.delete(t),i.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let i=this._nodes.get(t);return i||(i=new Tf(t,e),this._nodes.set(t,i)),i}isEmpty(){return this._nodes.size===0}toString(){const e=[];for(const[t,i]of this._nodes)e.push(`${t}
	(-> incoming)[${[...i.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...i.outgoing.keys()].join(",")}]
`);return e.join(`
`)}findCycleSlow(){for(const[e,t]of this._nodes){const i=new Set([e]),n=this._findCycle(t,i);if(n)return n}}_findCycle(e,t){for(const[i,n]of e.outgoing){if(t.has(i))return[...t,i].join(" -> ");t.add(i);const s=this._findCycle(n,t);if(s)return s;t.delete(i)}}}class Bf{constructor(...e){this._entries=new Map;for(const[t,i]of e)this.set(t,i)}set(e,t){const i=this._entries.get(e);return this._entries.set(e,t),i}get(e){return this._entries.get(e)}}const Ff=!1;class ga extends Error{constructor(e){super("cyclic dependency between services"),this.message=e.findCycleSlow()??`UNABLE to detect cycle, dumping graph: 
${e.toString()}`}}class fr{constructor(e=new Bf,t=!1,i,n=Ff){this._services=e,this._strict=t,this._parent=i,this._enableTracing=n,this._isDisposed=!1,this._servicesToMaybeDispose=new Set,this._children=new Set,this._activeInstantiations=new Set,this._services.set(Z,this),this._globalGraph=n?(i==null?void 0:i._globalGraph)??new da(s=>s):void 0}dispose(){if(!this._isDisposed){this._isDisposed=!0,Nn(this._children),this._children.clear();for(const e of this._servicesToMaybeDispose)Ba(e)&&e.dispose();this._servicesToMaybeDispose.clear()}}_throwIfDisposed(){if(this._isDisposed)throw new Error("InstantiationService has been disposed")}createChild(e,t){this._throwIfDisposed();const i=this,n=new class extends fr{dispose(){i._children.delete(n),super.dispose()}}(e,this._strict,this,this._enableTracing);return this._children.add(n),t==null||t.add(n),n}invokeFunction(e,...t){this._throwIfDisposed();const i=Di.traceInvocation(this._enableTracing,e);let n=!1;try{return e({get:o=>{if(n)throw vr("service accessor is only valid during the invocation of its target method");const a=this._getOrCreateServiceInstance(o,i);if(!a)throw new Error(`[invokeFunction] unknown service '${o}'`);return a}},...t)}finally{n=!0,i.stop()}}createInstance(e,...t){this._throwIfDisposed();let i,n;return e instanceof Ge?(i=Di.traceCreation(this._enableTracing,e.ctor),n=this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=Di.traceCreation(this._enableTracing,e),n=this._createInstance(e,t,i)),i.stop(),n}_createInstance(e,t=[],i){const n=De.getServiceDependencies(e).sort((a,u)=>a.index-u.index),s=[];for(const a of n){const u=this._getOrCreateServiceInstance(a.id,i);u||this._throwIfStrict(`[createInstance] ${e.name} depends on UNKNOWN service ${a.id}.`,!1),s.push(u)}const o=n.length>0?n[0].index:t.length;if(t.length!==o){console.trace(`[createInstance] First service dependency of ${e.name} at position ${o+1} conflicts with ${t.length} static arguments`);const a=o-t.length;a>0?t=t.concat(new Array(a)):t=t.slice(0,o)}return Reflect.construct(e,t.concat(s))}_setCreatedServiceInstance(e,t){if(this._services.get(e)instanceof Ge)this._services.set(e,t);else if(this._parent)this._parent._setCreatedServiceInstance(e,t);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(e){const t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(e));const i=this._getServiceInstanceOrDescriptor(e);return i instanceof Ge?this._safeCreateAndCacheServiceInstance(e,i,t.branch(e,!0)):(t.branch(e,!1),i)}_safeCreateAndCacheServiceInstance(e,t,i){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,i)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,i){var u;const n=new da(h=>h.id.toString());let s=0;const o=[{id:e,desc:t,_trace:i}],a=new Set;for(;o.length;){const h=o.pop();if(!a.has(String(h.id))){if(a.add(String(h.id)),n.lookupOrInsertNode(h),s++>1e3)throw new ga(n);for(const d of De.getServiceDependencies(h.desc.ctor)){const g=this._getServiceInstanceOrDescriptor(d.id);if(g||this._throwIfStrict(`[createInstance] ${e} depends on ${d.id} which is NOT registered.`,!0),(u=this._globalGraph)==null||u.insertEdge(String(h.id),String(d.id)),g instanceof Ge){const p={id:d.id,desc:g,_trace:h._trace.branch(d.id,!0)};n.insertEdge(h,p),o.push(p)}}}}for(;;){const h=n.roots();if(h.length===0){if(!n.isEmpty())throw new ga(n);break}for(const{data:d}of h){if(this._getServiceInstanceOrDescriptor(d.id)instanceof Ge){const p=this._createServiceInstanceWithOwner(d.id,d.desc.ctor,d.desc.staticArguments,d.desc.supportsDelayedInstantiation,d._trace);this._setCreatedServiceInstance(d.id,p)}n.removeNode(d)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,i=[],n,s){if(this._services.get(e)instanceof Ge)return this._createServiceInstance(e,t,i,n,s,this._servicesToMaybeDispose);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,i,n,s);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t,i=[],n,s,o){if(n){const a=new fr(void 0,this._strict,this,this._enableTracing);a._globalGraphImplicitDependency=String(e);const u=new Map,h=new xu(()=>{const d=a._createInstance(t,i,s);for(const[g,p]of u){const m=d[g];if(typeof m=="function")for(const v of p)v.disposable=m.apply(d,v.listener)}return u.clear(),o.add(d),d});return new Proxy(Object.create(null),{get(d,g){if(!h.isInitialized&&typeof g=="string"&&(g.startsWith("onDid")||g.startsWith("onWill"))){let v=u.get(g);return v||(v=new Rn,u.set(g,v)),(k,S,q)=>{if(h.isInitialized)return h.value[g](k,S,q);{const N={listener:[k,S,q],disposable:void 0},P=v.push(N);return be(()=>{var fe;P(),(fe=N.disposable)==null||fe.dispose()})}}}if(g in d)return d[g];const p=h.value;let m=p[g];return typeof m!="function"||(m=m.bind(p),d[g]=m),m},set(d,g,p){return h.value[g]=p,!0},getPrototypeOf(d){return t.prototype}})}else{const a=this._createInstance(t,i,s);return o.add(a),a}}_throwIfStrict(e,t){if(t&&console.warn(e),this._strict)throw new Error(e)}}const he=class he{static traceInvocation(e,t){return e?new he(2,t.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):he._None}static traceCreation(e,t){return e?new he(1,t.name):he._None}constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}branch(e,t){const i=new he(3,e.toString());return this._dep.push([e,t,i]),i}stop(){const e=Date.now()-this._start;he._totals+=e;let t=!1;function i(s,o){const a=[],u=new Array(s+1).join("	");for(const[h,d,g]of o._dep)if(d&&g){t=!0,a.push(`${u}CREATES -> ${h}`);const p=i(s+1,g);p&&a.push(p)}else a.push(`${u}uses -> ${h}`);return a.join(`
`)}const n=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${i(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${he._totals.toFixed(2)}ms)`];(e>2||t)&&he.all.add(n.join(`
`))}};he.all=new Set,he._None=new class extends he{constructor(){super(0,null)}stop(){}branch(){return this}},he._totals=0;let Di=he;const Af=new Set([Pt.inMemory,Pt.vscodeSourceControl,Pt.walkThrough,Pt.walkThroughSnippet,Pt.vscodeChatCodeBlock]);class Lf{constructor(){this._byResource=new Ze,this._byOwner=new Map}set(e,t,i){let n=this._byResource.get(e);n||(n=new Map,this._byResource.set(e,n)),n.set(t,i);let s=this._byOwner.get(t);s||(s=new Ze,this._byOwner.set(t,s)),s.set(e,i)}get(e,t){const i=this._byResource.get(e);return i==null?void 0:i.get(t)}delete(e,t){let i=!1,n=!1;const s=this._byResource.get(e);s&&(i=s.delete(t));const o=this._byOwner.get(t);if(o&&(n=o.delete(e)),i!==n)throw new Error("illegal state");return i&&n}values(e){var t,i;return typeof e=="string"?((t=this._byOwner.get(e))==null?void 0:t.values())??Je.empty():qe.isUri(e)?((i=this._byResource.get(e))==null?void 0:i.values())??Je.empty():Je.map(Je.concat(...this._byOwner.values()),n=>n[1])}}class Of{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Ze,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(const t of e){const i=this._data.get(t);i&&this._substract(i);const n=this._resourceStats(t);this._add(n),this._data.set(t,n)}}_resourceStats(e){const t={errors:0,warnings:0,infos:0,unknowns:0};if(Af.has(e.scheme))return t;for(const{severity:i}of this._service.read({resource:e}))i===tt.Error?t.errors+=1:i===tt.Warning?t.warnings+=1:i===tt.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}}class ct{constructor(){this._onMarkerChanged=new Qa({delay:0,merge:ct._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new Lf,this._stats=new Of(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(e,t){for(const i of t||[])this.changeOne(e,i,[])}changeOne(e,t,i){if(Du(i))this._data.delete(t,e)&&this._onMarkerChanged.fire([t]);else{const n=[];for(const s of i){const o=ct._toMarker(e,t,s);o&&n.push(o)}this._data.set(t,e,n),this._onMarkerChanged.fire([t])}}static _toMarker(e,t,i){let{code:n,severity:s,message:o,source:a,startLineNumber:u,startColumn:h,endLineNumber:d,endColumn:g,relatedInformation:p,tags:m}=i;if(o)return u=u>0?u:1,h=h>0?h:1,d=d>=u?d:u,g=g>0?g:h,{resource:t,owner:e,code:n,severity:s,message:o,source:a,startLineNumber:u,startColumn:h,endLineNumber:d,endColumn:g,relatedInformation:p,tags:m}}changeAll(e,t){const i=[],n=this._data.values(e);if(n)for(const s of n){const o=Je.first(s);o&&(i.push(o.resource),this._data.delete(o.resource,e))}if(Iu(t)){const s=new Ze;for(const{resource:o,marker:a}of t){const u=ct._toMarker(e,o,a);if(!u)continue;const h=s.get(o);h?h.push(u):(s.set(o,[u]),i.push(o))}for(const[o,a]of s)this._data.set(o,e,a)}i.length>0&&this._onMarkerChanged.fire(i)}read(e=Object.create(null)){let{owner:t,resource:i,severities:n,take:s}=e;if((!s||s<0)&&(s=-1),t&&i){const o=this._data.get(i,t);if(o){const a=[];for(const u of o)if(ct._accept(u,n)){const h=a.push(u);if(s>0&&h===s)break}return a}else return[]}else if(!t&&!i){const o=[];for(const a of this._data.values())for(const u of a)if(ct._accept(u,n)){const h=o.push(u);if(s>0&&h===s)return o}return o}else{const o=this._data.values(i??t),a=[];for(const u of o)for(const h of u)if(ct._accept(h,n)){const d=a.push(h);if(s>0&&d===s)return a}return a}}static _accept(e,t){return t===void 0||(t&e.severity)===e.severity}static _merge(e){const t=new Ze;for(const i of e)for(const n of i)t.set(n,!0);return Array.from(t.keys())}}class Lm extends K{get configurationModel(){return this._configurationModel}constructor(e){super(),this.logService=e,this._configurationModel=ue.createEmptyModel(this.logService)}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=ue.createEmptyModel(this.logService);const e=oe.as(Jn.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(e),e)}updateConfigurationModel(e,t){const i=this.getConfigurationDefaultOverrides();for(const n of e){const s=i[n],o=t[n];s!==void 0?this._configurationModel.setValue(n,s):o?this._configurationModel.setValue(n,o.default):this._configurationModel.removeValue(n)}}}const Om=R("accessibilitySignalService"),x=class x{static register(e){return new x(e.fileName)}constructor(e){this.fileName=e}};x.error=x.register({fileName:"error.mp3"}),x.warning=x.register({fileName:"warning.mp3"}),x.success=x.register({fileName:"success.mp3"}),x.foldedArea=x.register({fileName:"foldedAreas.mp3"}),x.break=x.register({fileName:"break.mp3"}),x.quickFixes=x.register({fileName:"quickFixes.mp3"}),x.taskCompleted=x.register({fileName:"taskCompleted.mp3"}),x.taskFailed=x.register({fileName:"taskFailed.mp3"}),x.terminalBell=x.register({fileName:"terminalBell.mp3"}),x.diffLineInserted=x.register({fileName:"diffLineInserted.mp3"}),x.diffLineDeleted=x.register({fileName:"diffLineDeleted.mp3"}),x.diffLineModified=x.register({fileName:"diffLineModified.mp3"}),x.chatRequestSent=x.register({fileName:"chatRequestSent.mp3"}),x.chatResponseReceived1=x.register({fileName:"chatResponseReceived1.mp3"}),x.chatResponseReceived2=x.register({fileName:"chatResponseReceived2.mp3"}),x.chatResponseReceived3=x.register({fileName:"chatResponseReceived3.mp3"}),x.chatResponseReceived4=x.register({fileName:"chatResponseReceived4.mp3"}),x.clear=x.register({fileName:"clear.mp3"}),x.save=x.register({fileName:"save.mp3"}),x.format=x.register({fileName:"format.mp3"}),x.voiceRecordingStarted=x.register({fileName:"voiceRecordingStarted.mp3"}),x.voiceRecordingStopped=x.register({fileName:"voiceRecordingStopped.mp3"}),x.progress=x.register({fileName:"progress.mp3"});let O=x;class Rf{constructor(e){this.randomOneOf=e}}const _=class _{constructor(e,t,i,n,s,o){this.sound=e,this.name=t,this.legacySoundSettingsKey=i,this.settingsKey=n,this.legacyAnnouncementSettingsKey=s,this.announcementMessage=o}static register(e){const t=new Rf("randomOneOf"in e.sound?e.sound.randomOneOf:[e.sound]),i=new _(t,e.name,e.legacySoundSettingsKey,e.settingsKey,e.legacyAnnouncementSettingsKey,e.announcementMessage);return _._signals.add(i),i}};_._signals=new Set,_.errorAtPosition=_.register({name:c("accessibilitySignals.positionHasError.name","Error at Position"),sound:O.error,announcementMessage:c("accessibility.signals.positionHasError","Error"),settingsKey:"accessibility.signals.positionHasError",delaySettingsKey:"accessibility.signalOptions.delays.errorAtPosition"}),_.warningAtPosition=_.register({name:c("accessibilitySignals.positionHasWarning.name","Warning at Position"),sound:O.warning,announcementMessage:c("accessibility.signals.positionHasWarning","Warning"),settingsKey:"accessibility.signals.positionHasWarning",delaySettingsKey:"accessibility.signalOptions.delays.warningAtPosition"}),_.errorOnLine=_.register({name:c("accessibilitySignals.lineHasError.name","Error on Line"),sound:O.error,legacySoundSettingsKey:"audioCues.lineHasError",legacyAnnouncementSettingsKey:"accessibility.alert.error",announcementMessage:c("accessibility.signals.lineHasError","Error on Line"),settingsKey:"accessibility.signals.lineHasError"}),_.warningOnLine=_.register({name:c("accessibilitySignals.lineHasWarning.name","Warning on Line"),sound:O.warning,legacySoundSettingsKey:"audioCues.lineHasWarning",legacyAnnouncementSettingsKey:"accessibility.alert.warning",announcementMessage:c("accessibility.signals.lineHasWarning","Warning on Line"),settingsKey:"accessibility.signals.lineHasWarning"}),_.foldedArea=_.register({name:c("accessibilitySignals.lineHasFoldedArea.name","Folded Area on Line"),sound:O.foldedArea,legacySoundSettingsKey:"audioCues.lineHasFoldedArea",legacyAnnouncementSettingsKey:"accessibility.alert.foldedArea",announcementMessage:c("accessibility.signals.lineHasFoldedArea","Folded"),settingsKey:"accessibility.signals.lineHasFoldedArea"}),_.break=_.register({name:c("accessibilitySignals.lineHasBreakpoint.name","Breakpoint on Line"),sound:O.break,legacySoundSettingsKey:"audioCues.lineHasBreakpoint",legacyAnnouncementSettingsKey:"accessibility.alert.breakpoint",announcementMessage:c("accessibility.signals.lineHasBreakpoint","Breakpoint"),settingsKey:"accessibility.signals.lineHasBreakpoint"}),_.inlineSuggestion=_.register({name:c("accessibilitySignals.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:O.quickFixes,legacySoundSettingsKey:"audioCues.lineHasInlineSuggestion",settingsKey:"accessibility.signals.lineHasInlineSuggestion"}),_.terminalQuickFix=_.register({name:c("accessibilitySignals.terminalQuickFix.name","Terminal Quick Fix"),sound:O.quickFixes,legacySoundSettingsKey:"audioCues.terminalQuickFix",legacyAnnouncementSettingsKey:"accessibility.alert.terminalQuickFix",announcementMessage:c("accessibility.signals.terminalQuickFix","Quick Fix"),settingsKey:"accessibility.signals.terminalQuickFix"}),_.onDebugBreak=_.register({name:c("accessibilitySignals.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:O.break,legacySoundSettingsKey:"audioCues.onDebugBreak",legacyAnnouncementSettingsKey:"accessibility.alert.onDebugBreak",announcementMessage:c("accessibility.signals.onDebugBreak","Breakpoint"),settingsKey:"accessibility.signals.onDebugBreak"}),_.noInlayHints=_.register({name:c("accessibilitySignals.noInlayHints","No Inlay Hints on Line"),sound:O.error,legacySoundSettingsKey:"audioCues.noInlayHints",legacyAnnouncementSettingsKey:"accessibility.alert.noInlayHints",announcementMessage:c("accessibility.signals.noInlayHints","No Inlay Hints"),settingsKey:"accessibility.signals.noInlayHints"}),_.taskCompleted=_.register({name:c("accessibilitySignals.taskCompleted","Task Completed"),sound:O.taskCompleted,legacySoundSettingsKey:"audioCues.taskCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.taskCompleted",announcementMessage:c("accessibility.signals.taskCompleted","Task Completed"),settingsKey:"accessibility.signals.taskCompleted"}),_.taskFailed=_.register({name:c("accessibilitySignals.taskFailed","Task Failed"),sound:O.taskFailed,legacySoundSettingsKey:"audioCues.taskFailed",legacyAnnouncementSettingsKey:"accessibility.alert.taskFailed",announcementMessage:c("accessibility.signals.taskFailed","Task Failed"),settingsKey:"accessibility.signals.taskFailed"}),_.terminalCommandFailed=_.register({name:c("accessibilitySignals.terminalCommandFailed","Terminal Command Failed"),sound:O.error,legacySoundSettingsKey:"audioCues.terminalCommandFailed",legacyAnnouncementSettingsKey:"accessibility.alert.terminalCommandFailed",announcementMessage:c("accessibility.signals.terminalCommandFailed","Command Failed"),settingsKey:"accessibility.signals.terminalCommandFailed"}),_.terminalCommandSucceeded=_.register({name:c("accessibilitySignals.terminalCommandSucceeded","Terminal Command Succeeded"),sound:O.success,announcementMessage:c("accessibility.signals.terminalCommandSucceeded","Command Succeeded"),settingsKey:"accessibility.signals.terminalCommandSucceeded"}),_.terminalBell=_.register({name:c("accessibilitySignals.terminalBell","Terminal Bell"),sound:O.terminalBell,legacySoundSettingsKey:"audioCues.terminalBell",legacyAnnouncementSettingsKey:"accessibility.alert.terminalBell",announcementMessage:c("accessibility.signals.terminalBell","Terminal Bell"),settingsKey:"accessibility.signals.terminalBell"}),_.notebookCellCompleted=_.register({name:c("accessibilitySignals.notebookCellCompleted","Notebook Cell Completed"),sound:O.taskCompleted,legacySoundSettingsKey:"audioCues.notebookCellCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellCompleted",announcementMessage:c("accessibility.signals.notebookCellCompleted","Notebook Cell Completed"),settingsKey:"accessibility.signals.notebookCellCompleted"}),_.notebookCellFailed=_.register({name:c("accessibilitySignals.notebookCellFailed","Notebook Cell Failed"),sound:O.taskFailed,legacySoundSettingsKey:"audioCues.notebookCellFailed",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellFailed",announcementMessage:c("accessibility.signals.notebookCellFailed","Notebook Cell Failed"),settingsKey:"accessibility.signals.notebookCellFailed"}),_.diffLineInserted=_.register({name:c("accessibilitySignals.diffLineInserted","Diff Line Inserted"),sound:O.diffLineInserted,legacySoundSettingsKey:"audioCues.diffLineInserted",settingsKey:"accessibility.signals.diffLineInserted"}),_.diffLineDeleted=_.register({name:c("accessibilitySignals.diffLineDeleted","Diff Line Deleted"),sound:O.diffLineDeleted,legacySoundSettingsKey:"audioCues.diffLineDeleted",settingsKey:"accessibility.signals.diffLineDeleted"}),_.diffLineModified=_.register({name:c("accessibilitySignals.diffLineModified","Diff Line Modified"),sound:O.diffLineModified,legacySoundSettingsKey:"audioCues.diffLineModified",settingsKey:"accessibility.signals.diffLineModified"}),_.chatRequestSent=_.register({name:c("accessibilitySignals.chatRequestSent","Chat Request Sent"),sound:O.chatRequestSent,legacySoundSettingsKey:"audioCues.chatRequestSent",legacyAnnouncementSettingsKey:"accessibility.alert.chatRequestSent",announcementMessage:c("accessibility.signals.chatRequestSent","Chat Request Sent"),settingsKey:"accessibility.signals.chatRequestSent"}),_.chatResponseReceived=_.register({name:c("accessibilitySignals.chatResponseReceived","Chat Response Received"),legacySoundSettingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[O.chatResponseReceived1,O.chatResponseReceived2,O.chatResponseReceived3,O.chatResponseReceived4]},settingsKey:"accessibility.signals.chatResponseReceived"}),_.progress=_.register({name:c("accessibilitySignals.progress","Progress"),sound:O.progress,legacySoundSettingsKey:"audioCues.chatResponsePending",legacyAnnouncementSettingsKey:"accessibility.alert.progress",announcementMessage:c("accessibility.signals.progress","Progress"),settingsKey:"accessibility.signals.progress"}),_.clear=_.register({name:c("accessibilitySignals.clear","Clear"),sound:O.clear,legacySoundSettingsKey:"audioCues.clear",legacyAnnouncementSettingsKey:"accessibility.alert.clear",announcementMessage:c("accessibility.signals.clear","Clear"),settingsKey:"accessibility.signals.clear"}),_.save=_.register({name:c("accessibilitySignals.save","Save"),sound:O.save,legacySoundSettingsKey:"audioCues.save",legacyAnnouncementSettingsKey:"accessibility.alert.save",announcementMessage:c("accessibility.signals.save","Save"),settingsKey:"accessibility.signals.save"}),_.format=_.register({name:c("accessibilitySignals.format","Format"),sound:O.format,legacySoundSettingsKey:"audioCues.format",legacyAnnouncementSettingsKey:"accessibility.alert.format",announcementMessage:c("accessibility.signals.format","Format"),settingsKey:"accessibility.signals.format"}),_.voiceRecordingStarted=_.register({name:c("accessibilitySignals.voiceRecordingStarted","Voice Recording Started"),sound:O.voiceRecordingStarted,legacySoundSettingsKey:"audioCues.voiceRecordingStarted",settingsKey:"accessibility.signals.voiceRecordingStarted"}),_.voiceRecordingStopped=_.register({name:c("accessibilitySignals.voiceRecordingStopped","Voice Recording Stopped"),sound:O.voiceRecordingStopped,legacySoundSettingsKey:"audioCues.voiceRecordingStopped",settingsKey:"accessibility.signals.voiceRecordingStopped"});let fa=_;class Rm extends K{constructor(e,t=[]){super(),this.logger=new ph([e,...t]),this._register(e.onDidChangeLogLevel(i=>this.setLevel(i)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(e){this.logger.setLevel(e)}getLevel(){return this.logger.getLevel()}trace(e,...t){this.logger.trace(e,...t)}debug(e,...t){this.logger.debug(e,...t)}info(e,...t){this.logger.info(e,...t)}warn(e,...t){this.logger.warn(e,...t)}error(e,...t){this.logger.error(e,...t)}}var nl=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},me=function(r,e){return function(t,i){e(t,i,r)}};let pr=class extends Eu{constructor(e,t,i,n,s,o,a,u){super(e,s,{getKeyBinding:d=>o.lookupKeybinding(d.id)??void 0,...t,allowContextMenu:!0,skipTelemetry:typeof(t==null?void 0:t.telemetrySource)=="string"}),this._options=t,this._menuService=i,this._contextKeyService=n,this._contextMenuService=s,this._keybindingService=o,this._commandService=a,this._sessionDisposables=this._store.add(new W);const h=t==null?void 0:t.telemetrySource;h&&this._store.add(this.actionBar.onDidRun(d=>u.publicLog2("workbenchActionExecuted",{id:d.action.id,from:h})))}setActions(e,t=[],i){var d,g,p;this._sessionDisposables.clear();const n=e.slice(),s=t.slice(),o=[];let a=0;const u=[];let h=!1;if(((d=this._options)==null?void 0:d.hiddenItemStrategy)!==-1)for(let m=0;m<n.length;m++){const v=n[m];!(v instanceof Ve)&&!(v instanceof Si)||v.hideActions&&(o.push(v.hideActions.toggle),v.hideActions.toggle.checked&&a++,v.hideActions.isHidden&&(h=!0,n[m]=void 0,((g=this._options)==null?void 0:g.hiddenItemStrategy)!==0&&(u[m]=v)))}if(((p=this._options)==null?void 0:p.overflowBehavior)!==void 0){const m=Tu(new Set(this._options.overflowBehavior.exempted),Je.map(n,k=>k==null?void 0:k.id)),v=this._options.overflowBehavior.maxItems-m.size;let y=0;for(let k=0;k<n.length;k++){const S=n[k];S&&(y++,!m.has(S.id)&&y>=v&&(n[k]=void 0,u[k]=S))}}co(n),co(u),super.setActions(n,et.join(u,s)),(o.length>0||n.length>0)&&this._sessionDisposables.add(G(this.getElement(),"contextmenu",m=>{var q,N,P,ie,fe;const v=new Ra(Xe(this.getElement()),m),y=this.getItemAction(v.target);if(!y)return;v.preventDefault(),v.stopPropagation();const k=[];if(y instanceof Ve&&y.menuKeybinding)k.push(y.menuKeybinding);else if(!(y instanceof Si||y instanceof Bu)){const ke=!!this._keybindingService.lookupKeybinding(y.id);k.push(tl(this._commandService,this._keybindingService,y.id,void 0,ke))}if(o.length>0){let ke=!1;if(a===1&&((q=this._options)==null?void 0:q.hiddenItemStrategy)===0){ke=!0;for(let Ce=0;Ce<o.length;Ce++)if(o[Ce].checked){o[Ce]=Zt({id:y.id,label:y.label,checked:!0,enabled:!1,run(){}});break}}if(!ke&&(y instanceof Ve||y instanceof Si)){if(!y.hideActions)return;k.push(y.hideActions.hide)}else k.push(Zt({id:"label",label:c("hide","Hide"),enabled:!1,run(){}}))}const S=et.join(k,o);(N=this._options)!=null&&N.resetMenu&&!i&&(i=[this._options.resetMenu]),h&&i&&(S.push(new et),S.push(Zt({id:"resetThisMenu",label:c("resetThisMenu","Reset Menu"),run:()=>this._menuService.resetHiddenStates(i)}))),S.length!==0&&this._contextMenuService.showContextMenu({getAnchor:()=>v,getActions:()=>S,menuId:(P=this._options)==null?void 0:P.contextMenu,menuActionOptions:{renderShortTitle:!0,...(ie=this._options)==null?void 0:ie.menuOptions},skipTelemetry:typeof((fe=this._options)==null?void 0:fe.telemetrySource)=="string",contextKeyService:this._contextKeyService})}))}};pr=nl([me(2,zn),me(3,$),me(4,Vi),me(5,ge),me(6,rt),me(7,Qn)],pr);let pa=class extends pr{constructor(e,t,i,n,s,o,a,u,h){super(e,{resetMenu:t,...i},n,s,o,a,u,h),this._onDidChangeMenuItems=this._store.add(new I),this.onDidChangeMenuItems=this._onDidChangeMenuItems.event;const d=this._store.add(n.createMenu(t,s,{emitEventsForSubmenuChanges:!0})),g=()=>{var v,y,k;const p=[],m=[];Tg(d,i==null?void 0:i.menuOptions,{primary:p,secondary:m},(v=i==null?void 0:i.toolbarOptions)==null?void 0:v.primaryGroup,(y=i==null?void 0:i.toolbarOptions)==null?void 0:y.shouldInlineSubmenu,(k=i==null?void 0:i.toolbarOptions)==null?void 0:k.useSeparatorsInPrimaryActions),e.classList.toggle("has-no-actions",p.length===0&&m.length===0),super.setActions(p,m)};this._store.add(d.onDidChange(()=>{g(),this._onDidChangeMenuItems.fire(this)})),g()}setActions(){throw new Fu("This toolbar is populated from a menu.")}};pa=nl([me(3,zn),me(4,$),me(5,Vi),me(6,ge),me(7,rt),me(8,Qn)],pa);function Nm(r,e,t){return Lu({debugName:()=>`Configuration Key "${r}"`},i=>t.onDidChangeConfiguration(n=>{n.affectsConfiguration(r)&&i(n)}),()=>t.getValue(r)??e)}function Hm(r,e,t){const i=r.bindTo(e);return Au({debugName:()=>`Set Context Key "${r.key}"`},n=>{i.set(t(n))})}class ma{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return typeof e=="string"?e.toLowerCase():e._lower}}class Pm{constructor(e){if(this._set=new Set,e)for(const t of e)this.add(t)}add(e){this._set.add(ma.toKey(e))}has(e){return this._set.has(ma.toKey(e))}}const Vm={EDITORS:"CodeEditors",FILES:"CodeFiles"};class Mf{}const Kf={DragAndDropContribution:"workbench.contributions.dragAndDrop"};oe.add(Kf.DragAndDropContribution,new Mf);const Ti=class Ti{constructor(){}static getInstance(){return Ti.INSTANCE}hasData(e){return e&&e===this.proto}getData(e){if(this.hasData(e))return this.data}};Ti.INSTANCE=new Ti;let ya=Ti;var sl=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},mr=function(r,e){return function(t,i){e(t,i,r)}};const rl="acceptSelectedCodeAction",ol="previewSelectedCodeAction";class Nf{get templateId(){return"header"}renderTemplate(e){e.classList.add("group-header");const t=document.createElement("span");return e.append(t),{container:e,text:t}}renderElement(e,t,i){var n;i.text.textContent=((n=e.group)==null?void 0:n.title)??""}disposeTemplate(e){}}let yr=class{get templateId(){return"action"}constructor(e,t){this._supportsPreview=e,this._keybindingService=t}renderTemplate(e){e.classList.add(this.templateId);const t=document.createElement("div");t.className="icon",e.append(t);const i=document.createElement("span");i.className="title",e.append(i);const n=new Ua(e,pt);return{container:e,icon:t,text:i,keybinding:n}}renderElement(e,t,i){var o,a,u;if((o=e.group)!=null&&o.icon?(i.icon.className=U.asClassName(e.group.icon),e.group.icon.color&&(i.icon.style.color=b(e.group.icon.color.id))):(i.icon.className=U.asClassName(xe.lightBulb),i.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!e.item||!e.label)return;i.text.textContent=al(e.label),i.keybinding.set(e.keybinding),Ou(!!e.keybinding,i.keybinding.element);const n=(a=this._keybindingService.lookupKeybinding(rl))==null?void 0:a.getLabel(),s=(u=this._keybindingService.lookupKeybinding(ol))==null?void 0:u.getLabel();i.container.classList.toggle("option-disabled",e.disabled),e.disabled?i.container.title=e.label:n&&s?this._supportsPreview&&e.canPreview?i.container.title=c({key:"label-preview",comment:['placeholders are keybindings, e.g "F2 to Apply, Shift+F2 to Preview"']},"{0} to Apply, {1} to Preview",n,s):i.container.title=c({key:"label",comment:['placeholder is a keybinding, e.g "F2 to Apply"']},"{0} to Apply",n):i.container.title=""}disposeTemplate(e){e.keybinding.dispose()}};yr=sl([mr(1,ge)],yr);class Hf extends UIEvent{constructor(){super("acceptSelectedAction")}}class ba extends UIEvent{constructor(){super("previewSelectedAction")}}function Pf(r){if(r.kind==="action")return r.label}let br=class extends K{constructor(e,t,i,n,s,o){super(),this._delegate=n,this._contextViewService=s,this._keybindingService=o,this._actionLineHeight=24,this._headerLineHeight=26,this.cts=this._register(new Ir),this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const a={getHeight:u=>u.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:u=>u.kind};this._list=this._register(new Va(e,this.domNode,a,[new yr(t,this._keybindingService),new Nf],{keyboardSupport:!1,typeNavigationEnabled:!0,keyboardNavigationLabelProvider:{getKeyboardNavigationLabel:Pf},accessibilityProvider:{getAriaLabel:u=>{if(u.kind==="action"){let h=u.label?al(u==null?void 0:u.label):"";return u.disabled&&(h=c({key:"customQuickFixWidget.labels",comment:["Action widget labels for accessibility."]},"{0}, Disabled Reason: {1}",h,u.disabled)),h}return null},getWidgetAriaLabel:()=>c({key:"customQuickFixWidget",comment:["An action widget option"]},"Action Widget"),getRole:u=>u.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(Ot),this._register(this._list.onMouseClick(u=>this.onListClick(u))),this._register(this._list.onMouseOver(u=>this.onListHover(u))),this._register(this._list.onDidChangeFocus(()=>this.onFocus())),this._register(this._list.onDidChangeSelection(u=>this.onListSelection(u))),this._allMenuItems=i,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(e){return!e.disabled&&e.kind==="action"}hide(e){this._delegate.onHide(e),this.cts.cancel(),this._contextViewService.hideContextView()}layout(e){const t=this._allMenuItems.filter(u=>u.kind==="header").length,n=this._allMenuItems.length*this._actionLineHeight+t*this._headerLineHeight-t*this._actionLineHeight;this._list.layout(n);let s=e;if(this._allMenuItems.length>=50)s=380;else{const u=this._allMenuItems.map((h,d)=>{const g=this.domNode.ownerDocument.getElementById(this._list.getElementID(d));if(g){g.style.width="auto";const p=g.getBoundingClientRect().width;return g.style.width="",p}return 0});s=Math.max(...u,e)}const a=Math.min(n,this.domNode.ownerDocument.body.clientHeight*.7);return this._list.layout(a,s),this.domNode.style.height=`${a}px`,this._list.domFocus(),s}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(e){const t=this._list.getFocus();if(t.length===0)return;const i=t[0],n=this._list.element(i);if(!this.focusCondition(n))return;const s=e?new ba:new Hf;this._list.setSelection([i],s)}onListSelection(e){if(!e.elements.length)return;const t=e.elements[0];t.item&&this.focusCondition(t)?this._delegate.onSelect(t.item,e.browserEvent instanceof ba):this._list.setSelection([])}onFocus(){var n,s;const e=this._list.getFocus();if(e.length===0)return;const t=e[0],i=this._list.element(t);(s=(n=this._delegate).onFocus)==null||s.call(n,i.item)}async onListHover(e){const t=e.element;if(t&&t.item&&this.focusCondition(t)){if(this._delegate.onHover&&!t.disabled&&t.kind==="action"){const i=await this._delegate.onHover(t.item,this.cts.token);t.canPreview=i?i.canPreview:void 0}e.index&&this._list.splice(e.index,1,[t])}this._list.setFocus(typeof e.index=="number"?[e.index]:[])}onListClick(e){e.element&&this.focusCondition(e.element)&&this._list.setFocus([])}};br=sl([mr(4,Pi),mr(5,ge)],br);function al(r){return r.replace(/\r\n|\r|\n/g," ")}var Vf=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Is=function(r,e){return function(t,i){e(t,i,r)}};f("actionBar.toggledBackground",Or,c("actionBar.toggledBackground","Background color for toggled action items in action bar."));const It={Visible:new E("codeActionMenuVisible",!1,c("codeActionMenuVisible","Whether the action widget list is visible"))},li=R("actionWidgetService");let Et=class extends K{get isVisible(){return It.Visible.getValue(this._contextKeyService)||!1}constructor(e,t,i){super(),this._contextViewService=e,this._contextKeyService=t,this._instantiationService=i,this._list=this._register(new Hn)}show(e,t,i,n,s,o,a){const u=It.Visible.bindTo(this._contextKeyService),h=this._instantiationService.createInstance(br,e,t,i,n);this._contextViewService.showContextView({getAnchor:()=>s,render:d=>(u.set(!0),this._renderWidget(d,h,a??[])),onHide:d=>{u.reset(),this._onWidgetClosed(d)}},o,!1)}acceptSelected(e){var t;(t=this._list.value)==null||t.acceptSelected(e)}focusPrevious(){var e,t;(t=(e=this._list)==null?void 0:e.value)==null||t.focusPrevious()}focusNext(){var e,t;(t=(e=this._list)==null?void 0:e.value)==null||t.focusNext()}hide(e){var t;(t=this._list.value)==null||t.hide(e),this._list.clear()}_renderWidget(e,t,i){var m;const n=document.createElement("div");if(n.classList.add("action-widget"),e.appendChild(n),this._list.value=t,this._list.value)n.appendChild(this._list.value.domNode);else throw new Error("List has no value");const s=new W,o=document.createElement("div"),a=e.appendChild(o);a.classList.add("context-view-block"),s.add(G(a,V.MOUSE_DOWN,v=>v.stopPropagation()));const u=document.createElement("div"),h=e.appendChild(u);h.classList.add("context-view-pointerBlock"),s.add(G(h,V.POINTER_MOVE,()=>h.remove())),s.add(G(h,V.MOUSE_DOWN,()=>h.remove()));let d=0;if(i.length){const v=this._createActionBar(".action-widget-action-bar",i);v&&(n.appendChild(v.getContainer().parentElement),s.add(v),d=v.getContainer().offsetWidth)}const g=(m=this._list.value)==null?void 0:m.layout(d);n.style.width=`${g}px`;const p=s.add(Ga(e));return s.add(p.onDidBlur(()=>this.hide(!0))),s}_createActionBar(e,t){if(!t.length)return;const i=Ie(e),n=new ki(i);return n.push(t,{icon:!1,label:!0}),n}_onWidgetClosed(e){var t;(t=this._list.value)==null||t.hide(e)}};Et=Vf([Is(0,Pi),Is(1,$),Is(2,Z)],Et);sc(li,Et,1);const qi=1100;Ki(class extends Mi{constructor(){super({id:"hideCodeActionWidget",title:_e("hideCodeActionWidget.title","Hide action widget"),precondition:It.Visible,keybinding:{weight:qi,primary:9,secondary:[1033]}})}run(r){r.get(li).hide(!0)}});Ki(class extends Mi{constructor(){super({id:"selectPrevCodeAction",title:_e("selectPrevCodeAction.title","Select previous action"),precondition:It.Visible,keybinding:{weight:qi,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(r){const e=r.get(li);e instanceof Et&&e.focusPrevious()}});Ki(class extends Mi{constructor(){super({id:"selectNextCodeAction",title:_e("selectNextCodeAction.title","Select next action"),precondition:It.Visible,keybinding:{weight:qi,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(r){const e=r.get(li);e instanceof Et&&e.focusNext()}});Ki(class extends Mi{constructor(){super({id:rl,title:_e("acceptSelected.title","Accept selected action"),precondition:It.Visible,keybinding:{weight:qi,primary:3,secondary:[2137]}})}run(r){const e=r.get(li);e instanceof Et&&e.acceptSelected()}});Ki(class extends Mi{constructor(){super({id:ol,title:_e("previewSelected.title","Preview selected action"),precondition:It.Visible,keybinding:{weight:qi,primary:2051}})}run(r){const e=r.get(li);e instanceof Et&&e.acceptSelected(!0)}});var cl=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},ll=function(r,e){return function(t,i){e(t,i,r)}};const ul=new E("suggestWidgetVisible",!1,c("suggestWidgetVisible","Whether suggestion are visible")),Qr="historyNavigationWidgetFocus",hl="historyNavigationForwardsEnabled",dl="historyNavigationBackwardsEnabled";let $e;const en=[];function gl(r,e){if(en.includes(e))throw new Error("Cannot register the same widget multiple times");en.push(e);const t=new W,i=new E(Qr,!1).bindTo(r),n=new E(hl,!0).bindTo(r),s=new E(dl,!0).bindTo(r),o=()=>{i.set(!0),$e=e},a=()=>{i.set(!1),$e===e&&($e=void 0)};return $a(e.element)&&o(),t.add(e.onDidFocus(()=>o())),t.add(e.onDidBlur(()=>a())),t.add(be(()=>{en.splice(en.indexOf(e),1),a()})),{historyNavigationForwardsEnablement:n,historyNavigationBackwardsEnablement:s,dispose(){t.dispose()}}}let ka=class extends Pa{constructor(e,t,i,n){super(e,t,i);const s=this._register(n.createScoped(this.inputBox.element));this._register(gl(s,this.inputBox))}};ka=cl([ll(3,$)],ka);let Ca=class extends Ru{constructor(e,t,i,n,s=!1){super(e,t,s,i);const o=this._register(n.createScoped(this.inputBox.element));this._register(gl(o,this.inputBox))}};Ca=cl([ll(3,$)],Ca);ni.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:B.and(B.has(Qr),B.equals(dl,!0),B.not("isComposing"),ul.isEqualTo(!1)),primary:16,secondary:[528],handler:r=>{$e==null||$e.showPreviousValue()}});ni.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:B.and(B.has(Qr),B.equals(hl,!0),B.not("isComposing"),ul.isEqualTo(!1)),primary:18,secondary:[530],handler:r=>{$e==null||$e.showNextValue()}});function Gm(r){var e,t;return((e=r.lookupKeybinding("history.showPrevious"))==null?void 0:e.getElectronAccelerator())==="Up"&&((t=r.lookupKeybinding("history.showNext"))==null?void 0:t.getElectronAccelerator())==="Down"}var va;(function(r){r[r.FILE=0]="FILE",r[r.FOLDER=1]="FOLDER",r[r.ROOT_FOLDER=2]="ROOT_FOLDER"})(va||(va={}));const zm=new class{constructor(){this._implementations=[]}register(e){return this._implementations.push(e),{dispose:()=>{const t=this._implementations.indexOf(e);t!==-1&&this._implementations.splice(t,1)}}}getImplementations(){return this._implementations}};var Sa;(function(r){function e(t){switch(t){case j.Ignore:return"severity-ignore "+U.asClassName(xe.info);case j.Info:return U.asClassName(xe.info);case j.Warning:return U.asClassName(xe.warning);case j.Error:return U.asClassName(xe.error);default:return""}}r.className=e})(Sa||(Sa={}));var Wf=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},$f=function(r,e){return function(t,i){e(t,i,r)}};class qf{constructor(e){this.instantiationService=e}init(...e){}}function Uf(r,e){return class extends e{constructor(){super(...arguments),this._autorun=void 0}init(...i){this._autorun=Ku((n,s)=>{const o=Nu(r(),n);s.add(this.instantiationService.createInstance(o,...i))})}dispose(){var i;(i=this._autorun)==null||i.dispose()}}}function Jm(r){return Mu()?Uf(r,kr):r()}let kr=class extends qf{constructor(e,t){super(t),this.init(e)}};kr=Wf([$f(1,Z)],kr);const Zm=Object.freeze({View:_e("view","View"),Help:_e("help","Help"),Test:_e("test","Test"),File:_e("file","File"),Preferences:_e("preferences","Preferences"),Developer:_e({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer")});var jf=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},_a=function(r,e){return function(t,i){e(t,i,r)}};let wa=class extends K{get enabled(){return this._enabled}set enabled(e){e?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=e}constructor(e,t,i={},n,s){super(),this._link=t,this._hoverService=n,this._enabled=!0,this.el=M(e,Ie("a.monaco-link",{tabIndex:t.tabIndex??0,href:t.href},t.label)),this.hoverDelegate=i.hoverDelegate??Hu("mouse"),this.setTooltip(t.title),this.el.setAttribute("role","button");const o=this._register(new Xt(this.el,"click")),a=this._register(new Xt(this.el,"keypress")),u=z.chain(a.event,g=>g.map(p=>new ii(p)).filter(p=>p.keyCode===3)),h=this._register(new Xt(this.el,Na.Tap)).event;this._register(Ka.addTarget(this.el));const d=z.any(o.event,u,h);this._register(d(g=>{this.enabled&&(ut.stop(g,!0),i!=null&&i.opener?i.opener(this._link.href):s.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}setTooltip(e){this.hoverDelegate.showNativeHover?this.el.title=e??"":!this.hover&&e?this.hover=this._register(this._hoverService.setupManagedHover(this.hoverDelegate,this.el,e)):this.hover&&this.hover.update(e)}};wa=jf([_a(3,Kr),_a(4,Ac)],wa);var Gf=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},xa=function(r,e){return function(t,i){e(t,i,r)}},bi,wt;let Da=(wt=class{constructor(e,t){this.quickInputService=e,this.keybindingService=t,this.registry=oe.as(Hr.Quickaccess)}provide(e){const t=new W;return t.add(e.onDidAccept(()=>{const[i]=e.selectedItems;i&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})})),t.add(e.onDidChangeValue(i=>{const n=this.registry.getQuickAccessProvider(i.substr(bi.PREFIX.length));n&&n.prefix&&n.prefix!==bi.PREFIX&&this.quickInputService.quickAccess.show(n.prefix,{preserveValue:!0})})),e.items=this.getQuickAccessProviders().filter(i=>i.prefix!==bi.PREFIX),t}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((t,i)=>t.prefix.localeCompare(i.prefix)).flatMap(t=>this.createPicks(t))}createPicks(e){return e.helpEntries.map(t=>{const i=t.prefix||e.prefix,n=i||"";return{prefix:i,label:n,keybinding:t.commandId?this.keybindingService.lookupKeybinding(t.commandId):void 0,ariaLabel:c("helpPickAriaLabel","{0}, {1}",n,t.description),description:t.description}})}},bi=wt,wt.PREFIX="?",wt);Da=bi=Gf([xa(0,rs),xa(1,ge)],Da);var jt;(function(r){r[r.NO_ACTION=0]="NO_ACTION",r[r.CLOSE_PICKER=1]="CLOSE_PICKER",r[r.REFRESH_PICKER=2]="REFRESH_PICKER",r[r.REMOVE_ITEM=3]="REMOVE_ITEM"})(jt||(jt={}));function Es(r){const e=r;return Array.isArray(e.items)}function Ia(r){const e=r;return!!e.picks&&e.additionalPicks instanceof Promise}class zf extends K{constructor(e,t){super(),this.prefix=e,this.options=t}provide(e,t,i){var h;const n=new W;e.canAcceptInBackground=!!((h=this.options)!=null&&h.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;let s;const o=n.add(new Hn),a=async()=>{var k;const d=o.value=new W;s==null||s.dispose(!0),e.busy=!1,s=new Ir(t);const g=s.token;let p=e.value.substring(this.prefix.length);(k=this.options)!=null&&k.shouldSkipTrimPickFilter||(p=p.trim());const m=this._getPicks(p,d,g,i),v=(S,q)=>{var ie;let N,P;if(Es(S)?(N=S.items,P=S.active):N=S,N.length===0){if(q)return!1;(p.length>0||e.hideInput)&&((ie=this.options)!=null&&ie.noResultsPick)&&(Pu(this.options.noResultsPick)?N=[this.options.noResultsPick(p)]:N=[this.options.noResultsPick])}return e.items=N,P&&(e.activeItems=[P]),!0},y=async S=>{let q=!1,N=!1;await Promise.all([(async()=>{typeof S.mergeDelay=="number"&&(await Vu(S.mergeDelay),g.isCancellationRequested)||N||(q=v(S.picks,!0))})(),(async()=>{e.busy=!0;try{const P=await S.additionalPicks;if(g.isCancellationRequested)return;let ie,fe;Es(S.picks)?(ie=S.picks.items,fe=S.picks.active):ie=S.picks;let ke,Ce;if(Es(P)?(ke=P.items,Ce=P.active):ke=P,ke.length>0||!q){let Kt;if(!fe&&!Ce){const ui=e.activeItems[0];ui&&ie.indexOf(ui)!==-1&&(Kt=ui)}v({items:[...ie,...ke],active:fe||Ce||Kt})}}finally{g.isCancellationRequested||(e.busy=!1),N=!0}})()])};if(m!==null)if(Ia(m))await y(m);else if(!(m instanceof Promise))v(m);else{e.busy=!0;try{const S=await m;if(g.isCancellationRequested)return;Ia(S)?await y(S):v(S)}finally{g.isCancellationRequested||(e.busy=!1)}}};n.add(e.onDidChangeValue(()=>a())),a(),n.add(e.onDidAccept(d=>{var p;if(i!=null&&i.handleAccept){d.inBackground||e.hide(),(p=i.handleAccept)==null||p.call(i,e.activeItems[0]);return}const[g]=e.selectedItems;typeof(g==null?void 0:g.accept)=="function"&&(d.inBackground||e.hide(),g.accept(e.keyMods,d))}));const u=async(d,g)=>{var m;if(typeof g.trigger!="function")return;const p=((m=g.buttons)==null?void 0:m.indexOf(d))??-1;if(p>=0){const v=g.trigger(p,e.keyMods),y=typeof v=="number"?v:await v;if(t.isCancellationRequested)return;switch(y){case jt.NO_ACTION:break;case jt.CLOSE_PICKER:e.hide();break;case jt.REFRESH_PICKER:a();break;case jt.REMOVE_ITEM:{const k=e.items.indexOf(g);if(k!==-1){const S=e.items.slice(),q=S.splice(k,1),N=e.activeItems.filter(ie=>ie!==q[0]),P=e.keepScrollPosition;e.keepScrollPosition=!0,e.items=S,N&&(e.activeItems=N),e.keepScrollPosition=P}break}}}};return n.add(e.onDidTriggerItemButton(({button:d,item:g})=>u(d,g))),n.add(e.onDidTriggerSeparatorButton(({button:d,separator:g})=>u(d,g))),n}}var fl=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s},Ye=function(r,e){return function(t,i){e(t,i,r)}},lt,H,Oe;let Ea=(Oe=class extends zf{constructor(e,t,i,n,s,o){super(lt.PREFIX,e),this.instantiationService=t,this.keybindingService=i,this.commandService=n,this.telemetryService=s,this.dialogService=o,this.commandsHistory=this._register(this.instantiationService.createInstance(Cr)),this.options=e}async _getPicks(e,t,i,n){var m,v;const s=await this.getCommandPicks(i);if(i.isCancellationRequested)return[];const o=ju(()=>{const y=new Qu;y.updateDocuments(s.map(S=>({key:S.commandId,textChunks:[this.getTfIdfChunk(S)]})));const k=y.calculateScores(e,i);return Yu(k).filter(S=>S.score>lt.TFIDF_THRESHOLD).slice(0,lt.TFIDF_MAX_RESULTS)}),a=[];for(const y of s){const k=lt.WORD_FILTER(e,y.label)??void 0,S=y.commandAlias?lt.WORD_FILTER(e,y.commandAlias)??void 0:void 0;if(k||S)y.highlights={label:k,detail:this.options.showAlias?S:void 0},a.push(y);else if(e===y.commandId)a.push(y);else if(e.length>=3){const q=o();if(i.isCancellationRequested)return[];const N=q.find(P=>P.key===y.commandId);N&&(y.tfIdfScore=N.score,a.push(y))}}const u=new Map;for(const y of a){const k=u.get(y.label);k?(y.description=y.commandId,k.description=k.commandId):u.set(y.label,y)}a.sort((y,k)=>{if(y.tfIdfScore&&k.tfIdfScore)return y.tfIdfScore===k.tfIdfScore?y.label.localeCompare(k.label):k.tfIdfScore-y.tfIdfScore;if(y.tfIdfScore)return 1;if(k.tfIdfScore)return-1;const S=this.commandsHistory.peek(y.commandId),q=this.commandsHistory.peek(k.commandId);if(S&&q)return S>q?-1:1;if(S)return-1;if(q)return 1;if(this.options.suggestedCommandIds){const N=this.options.suggestedCommandIds.has(y.commandId),P=this.options.suggestedCommandIds.has(k.commandId);if(N&&P)return 0;if(N)return-1;if(P)return 1}return y.label.localeCompare(k.label)});const h=[];let d=!1,g=!0,p=!!this.options.suggestedCommandIds;for(let y=0;y<a.length;y++){const k=a[y];y===0&&this.commandsHistory.peek(k.commandId)&&(h.push({type:"separator",label:c("recentlyUsed","recently used")}),d=!0),g&&k.tfIdfScore!==void 0&&(h.push({type:"separator",label:c("suggested","similar commands")}),g=!1),p&&k.tfIdfScore===void 0&&!this.commandsHistory.peek(k.commandId)&&((m=this.options.suggestedCommandIds)!=null&&m.has(k.commandId))&&(h.push({type:"separator",label:c("commonlyUsed","commonly used")}),d=!0,p=!1),d&&k.tfIdfScore===void 0&&!this.commandsHistory.peek(k.commandId)&&!((v=this.options.suggestedCommandIds)!=null&&v.has(k.commandId))&&(h.push({type:"separator",label:c("morecCommands","other commands")}),d=!1),h.push(this.toCommandPick(k,n))}return this.hasAdditionalCommandPicks(e,i)?{picks:h,additionalPicks:(async()=>{var S;const y=await this.getAdditionalCommandPicks(s,a,e,i);if(i.isCancellationRequested)return[];const k=y.map(q=>this.toCommandPick(q,n));return g&&((S=k[0])==null?void 0:S.type)!=="separator"&&k.unshift({type:"separator",label:c("suggested","similar commands")}),k})()}:h}toCommandPick(e,t){if(e.type==="separator")return e;const i=this.keybindingService.lookupKeybinding(e.commandId),n=i?c("commandPickAriaLabelWithKeybinding","{0}, {1}",e.label,i.getAriaLabel()):e.label;return{...e,ariaLabel:n,detail:this.options.showAlias&&e.commandAlias!==e.label?e.commandAlias:void 0,keybinding:i,accept:async()=>{var s;this.commandsHistory.push(e.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.commandId,from:(t==null?void 0:t.from)??"quick open"});try{(s=e.args)!=null&&s.length?await this.commandService.executeCommand(e.commandId,...e.args):await this.commandService.executeCommand(e.commandId)}catch(o){Dr(o)||this.dialogService.error(c("canNotRun","Command '{0}' resulted in an error",e.label),Gu(o))}}}}getTfIdfChunk({label:e,commandAlias:t,commandDescription:i}){let n=e;return t&&t!==e&&(n+=` - ${t}`),i&&i.value!==e&&(n+=` - ${i.value===i.original?i.value:`${i.value} (${i.original})`}`),n}},lt=Oe,Oe.PREFIX=">",Oe.TFIDF_THRESHOLD=.5,Oe.TFIDF_MAX_RESULTS=5,Oe.WORD_FILTER=Wu(Uu,qu,$u),Oe);Ea=lt=fl([Ye(1,Z),Ye(2,ge),Ye(3,rt),Ye(4,Qn),Ye(5,ac)],Ea);var we;let Cr=(we=class extends K{constructor(e,t,i){super(),this.storageService=e,this.configurationService=t,this.logService=i,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>this.updateConfiguration(e))),this._register(this.storageService.onWillSaveState(e=>{e.reason===Qs.SHUTDOWN&&this.saveState()}))}updateConfiguration(e){e&&!e.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=H.getConfiguredCommandHistoryLength(this.configurationService),H.cache&&H.cache.limit!==this.configuredCommandsHistoryLength&&(H.cache.limit=this.configuredCommandsHistoryLength,H.hasChanges=!0))}load(){const e=this.storageService.get(H.PREF_KEY_CACHE,0);let t;if(e)try{t=JSON.parse(e)}catch(n){this.logService.error(`[CommandsHistory] invalid data: ${n}`)}const i=H.cache=new zu(this.configuredCommandsHistoryLength,1);if(t){let n;t.usesLRU?n=t.entries:n=t.entries.sort((s,o)=>s.value-o.value),n.forEach(s=>i.set(s.key,s.value))}H.counter=this.storageService.getNumber(H.PREF_KEY_COUNTER,0,H.counter)}push(e){H.cache&&(H.cache.set(e,H.counter++),H.hasChanges=!0)}peek(e){var t;return(t=H.cache)==null?void 0:t.peek(e)}saveState(){if(!H.cache||!H.hasChanges)return;const e={usesLRU:!0,entries:[]};H.cache.forEach((t,i)=>e.entries.push({key:i,value:t})),this.storageService.store(H.PREF_KEY_CACHE,JSON.stringify(e),0,0),this.storageService.store(H.PREF_KEY_COUNTER,H.counter,0,0),H.hasChanges=!1}static getConfiguredCommandHistoryLength(e){var n,s;const i=(s=(n=e.getValue().workbench)==null?void 0:n.commandPalette)==null?void 0:s.history;return typeof i=="number"?i:H.DEFAULT_COMMANDS_HISTORY_LENGTH}},H=we,we.DEFAULT_COMMANDS_HISTORY_LENGTH=50,we.PREF_KEY_CACHE="commandPalette.mru.cache",we.PREF_KEY_COUNTER="commandPalette.mru.counter",we.counter=1,we.hasChanges=!1,we);Cr=H=fl([Ye(0,ns),Ye(1,te),Ye(2,Xa)],Cr);export{ha as $,Wp as A,$p as B,We as C,zs as D,Oh as E,Lm as F,Nr as G,ue as H,$ as I,Vp as J,ni as K,Pp as L,Ho as M,Ge as N,sp as O,yg as P,ea as Q,oe as R,Bf as S,Gp as T,mf as U,qp as V,Yp as W,ac as X,op as Y,ct as Z,am as _,Xn as a,ep as a$,Up as a0,jp as a1,em as a2,ns as a3,Xp as a4,sa as a5,Lc as a6,dm as a7,je as a8,rs as a9,kc as aA,dn as aB,gn as aC,up as aD,Gr as aE,fa as aF,f as aG,pa as aH,xp as aI,Do as aJ,_p as aK,Dp as aL,Io as aM,wp as aN,Hm as aO,rm as aP,Ki as aQ,Ri as aR,Vm as aS,Jn as aT,T as aU,Q as aV,$t as aW,_o as aX,wo as aY,lp as aZ,tt as a_,Ac as aa,ca as ab,Fm as ac,Vi as ad,ra as ae,Om as af,Rm as ag,Jf as ah,Kr as ai,B as aj,yt as ak,kt as al,Us as am,Mi as an,ip as ao,js as ap,bp as aq,Np as ar,Po as as,b as at,tp as au,Op as av,Rp as aw,Bp as ax,dp as ay,np as az,Ni as b,Xi as b$,Lp as b0,Ap as b1,Fp as b2,Th as b3,E as b4,va as b5,Pm as b6,No as b7,F as b8,li as b9,Ip as bA,Or as bB,wc as bC,_c as bD,ka as bE,Oc as bF,Rc as bG,Gm as bH,xm as bI,Ca as bJ,yp as bK,pp as bL,mp as bM,w as bN,Wt as bO,Ns as bP,ul as bQ,Qp as bR,zp as bS,gg as bT,mg as bU,Kc as bV,ye as bW,bc as bX,$s as bY,Fc as bZ,qs as b_,qt as ba,Qs as bb,xo as bc,Ve as bd,oi as be,pr as bf,Tg as bg,xg as bh,Qo as bi,Gg as bj,gm as bk,Qg as bl,Jg as bm,hm as bn,vi as bo,hp as bp,Sp as bq,vp as br,Cp as bs,kp as bt,vc as bu,Cc as bv,Si as bw,Jp as bx,ya as by,Yh as bz,Z as c,Mp as c0,Wi as c1,zm as c2,Sa as c3,Co as c4,cp as c5,Vo as c6,Ep as c7,Tp as c8,Nm as c9,Jm as ca,Hi as cb,$h as cc,Xh as cd,Zh as ce,Jh as cf,Zm as cg,wa as ch,sg as ci,um as cj,Ea as ck,Zp as cl,Hr as cm,Da as cn,Ae as co,te as d,ap as e,hn as f,fp as g,gp as h,Dh as i,Dm as j,Zf as k,Fr as l,dc as m,R as n,rt as o,Qn as p,Zn as q,sc as r,Xa as s,Pi as t,ge as u,zn as v,Xf as w,fr as x,nt as y,an as z};
//# sourceMappingURL=monaco-editor-platform-D3l4KW_b.js.map
